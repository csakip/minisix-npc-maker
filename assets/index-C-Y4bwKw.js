var fF=Object.defineProperty;var dF=(e,t,n)=>t in e?fF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var is=(e,t,n)=>(dF(e,typeof t!="symbol"?t+"":t,n),n);function Hk(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in e)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(e,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var bl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Wk(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var o=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,o.get?o:{enumerable:!0,get:function(){return e[r]}})}),n}var Vk={exports:{}},Jm={},Gk={exports:{}},ln={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hd=Symbol.for("react.element"),hF=Symbol.for("react.portal"),pF=Symbol.for("react.fragment"),mF=Symbol.for("react.strict_mode"),vF=Symbol.for("react.profiler"),gF=Symbol.for("react.provider"),yF=Symbol.for("react.context"),bF=Symbol.for("react.forward_ref"),wF=Symbol.for("react.suspense"),EF=Symbol.for("react.memo"),xF=Symbol.for("react.lazy"),bx=Symbol.iterator;function SF(e){return e===null||typeof e!="object"?null:(e=bx&&e[bx]||e["@@iterator"],typeof e=="function"?e:null)}var qk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Yk=Object.assign,Xk={};function kc(e,t,n){this.props=e,this.context=t,this.refs=Xk,this.updater=n||qk}kc.prototype.isReactComponent={};kc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};kc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Jk(){}Jk.prototype=kc.prototype;function zb(e,t,n){this.props=e,this.context=t,this.refs=Xk,this.updater=n||qk}var Fb=zb.prototype=new Jk;Fb.constructor=zb;Yk(Fb,kc.prototype);Fb.isPureReactComponent=!0;var wx=Array.isArray,Qk=Object.prototype.hasOwnProperty,$b={current:null},Zk={key:!0,ref:!0,__self:!0,__source:!0};function eP(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)Qk.call(t,r)&&!Zk.hasOwnProperty(r)&&(o[r]=t[r]);var u=arguments.length-2;if(u===1)o.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];o.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)o[r]===void 0&&(o[r]=u[r]);return{$$typeof:Hd,type:e,key:i,ref:s,props:o,_owner:$b.current}}function _F(e,t){return{$$typeof:Hd,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Bb(e){return typeof e=="object"&&e!==null&&e.$$typeof===Hd}function kF(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Ex=/\/+/g;function Mg(e,t){return typeof e=="object"&&e!==null&&e.key!=null?kF(""+e.key):t.toString(36)}function Ap(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Hd:case hF:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+Mg(s,0):r,wx(o)?(n="",e!=null&&(n=e.replace(Ex,"$&/")+"/"),Ap(o,t,n,"",function(f){return f})):o!=null&&(Bb(o)&&(o=_F(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Ex,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",wx(e))for(var u=0;u<e.length;u++){i=e[u];var c=r+Mg(i,u);s+=Ap(i,t,n,c,o)}else if(c=SF(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=r+Mg(i,u++),s+=Ap(i,t,n,c,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Yh(e,t,n){if(e==null)return e;var r=[],o=0;return Ap(e,r,"","",function(i){return t.call(n,i,o++)}),r}function PF(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ao={current:null},Ip={transition:null},CF={ReactCurrentDispatcher:ao,ReactCurrentBatchConfig:Ip,ReactCurrentOwner:$b};ln.Children={map:Yh,forEach:function(e,t,n){Yh(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Yh(e,function(){t++}),t},toArray:function(e){return Yh(e,function(t){return t})||[]},only:function(e){if(!Bb(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ln.Component=kc;ln.Fragment=pF;ln.Profiler=vF;ln.PureComponent=zb;ln.StrictMode=mF;ln.Suspense=wF;ln.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=CF;ln.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Yk({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=$b.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)Qk.call(t,c)&&!Zk.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Hd,type:e.type,key:o,ref:i,props:r,_owner:s}};ln.createContext=function(e){return e={$$typeof:yF,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gF,_context:e},e.Consumer=e};ln.createElement=eP;ln.createFactory=function(e){var t=eP.bind(null,e);return t.type=e,t};ln.createRef=function(){return{current:null}};ln.forwardRef=function(e){return{$$typeof:bF,render:e}};ln.isValidElement=Bb;ln.lazy=function(e){return{$$typeof:xF,_payload:{_status:-1,_result:e},_init:PF}};ln.memo=function(e,t){return{$$typeof:EF,type:e,compare:t===void 0?null:t}};ln.startTransition=function(e){var t=Ip.transition;Ip.transition={};try{e()}finally{Ip.transition=t}};ln.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ln.useCallback=function(e,t){return ao.current.useCallback(e,t)};ln.useContext=function(e){return ao.current.useContext(e)};ln.useDebugValue=function(){};ln.useDeferredValue=function(e){return ao.current.useDeferredValue(e)};ln.useEffect=function(e,t){return ao.current.useEffect(e,t)};ln.useId=function(){return ao.current.useId()};ln.useImperativeHandle=function(e,t,n){return ao.current.useImperativeHandle(e,t,n)};ln.useInsertionEffect=function(e,t){return ao.current.useInsertionEffect(e,t)};ln.useLayoutEffect=function(e,t){return ao.current.useLayoutEffect(e,t)};ln.useMemo=function(e,t){return ao.current.useMemo(e,t)};ln.useReducer=function(e,t,n){return ao.current.useReducer(e,t,n)};ln.useRef=function(e){return ao.current.useRef(e)};ln.useState=function(e){return ao.current.useState(e)};ln.useSyncExternalStore=function(e,t,n){return ao.current.useSyncExternalStore(e,t,n)};ln.useTransition=function(){return ao.current.useTransition()};ln.version="18.2.0";Gk.exports=ln;var R=Gk.exports;const An=Kl(R),TF=Hk({__proto__:null,default:An},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NF=R,OF=Symbol.for("react.element"),RF=Symbol.for("react.fragment"),jF=Object.prototype.hasOwnProperty,AF=NF.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,IF={key:!0,ref:!0,__self:!0,__source:!0};function tP(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)jF.call(t,r)&&!IF.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:OF,type:e,key:i,ref:s,props:o,_owner:AF.current}}Jm.Fragment=RF;Jm.jsx=tP;Jm.jsxs=tP;Vk.exports=Jm;var w=Vk.exports,nP={exports:{}},$o={},rP={exports:{}},oP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(ve,Fe){var Ce=ve.length;ve.push(Fe);e:for(;0<Ce;){var Ke=Ce-1>>>1,me=ve[Ke];if(0<o(me,Fe))ve[Ke]=Fe,ve[Ce]=me,Ce=Ke;else break e}}function n(ve){return ve.length===0?null:ve[0]}function r(ve){if(ve.length===0)return null;var Fe=ve[0],Ce=ve.pop();if(Ce!==Fe){ve[0]=Ce;e:for(var Ke=0,me=ve.length,Ge=me>>>1;Ke<Ge;){var Se=2*(Ke+1)-1,Re=ve[Se],Ze=Se+1,pe=ve[Ze];if(0>o(Re,Ce))Ze<me&&0>o(pe,Re)?(ve[Ke]=pe,ve[Ze]=Ce,Ke=Ze):(ve[Ke]=Re,ve[Se]=Ce,Ke=Se);else if(Ze<me&&0>o(pe,Ce))ve[Ke]=pe,ve[Ze]=Ce,Ke=Ze;else break e}}return Fe}function o(ve,Fe){var Ce=ve.sortIndex-Fe.sortIndex;return Ce!==0?Ce:ve.id-Fe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],f=[],d=1,m=null,g=3,x=!1,y=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(ve){for(var Fe=n(f);Fe!==null;){if(Fe.callback===null)r(f);else if(Fe.startTime<=ve)r(f),Fe.sortIndex=Fe.expirationTime,t(c,Fe);else break;Fe=n(f)}}function A(ve){if(_=!1,S(ve),!y)if(n(c)!==null)y=!0,Be(K);else{var Fe=n(f);Fe!==null&&Ve(A,Fe.startTime-ve)}}function K(ve,Fe){y=!1,_&&(_=!1,k(X),X=-1),x=!0;var Ce=g;try{for(S(Fe),m=n(c);m!==null&&(!(m.expirationTime>Fe)||ve&&!q());){var Ke=m.callback;if(typeof Ke=="function"){m.callback=null,g=m.priorityLevel;var me=Ke(m.expirationTime<=Fe);Fe=e.unstable_now(),typeof me=="function"?m.callback=me:m===n(c)&&r(c),S(Fe)}else r(c);m=n(c)}if(m!==null)var Ge=!0;else{var Se=n(f);Se!==null&&Ve(A,Se.startTime-Fe),Ge=!1}return Ge}finally{m=null,g=Ce,x=!1}}var O=!1,L=null,X=-1,F=5,N=-1;function q(){return!(e.unstable_now()-N<F)}function U(){if(L!==null){var ve=e.unstable_now();N=ve;var Fe=!0;try{Fe=L(!0,ve)}finally{Fe?te():(O=!1,L=null)}}else O=!1}var te;if(typeof C=="function")te=function(){C(U)};else if(typeof MessageChannel<"u"){var ue=new MessageChannel,ke=ue.port2;ue.port1.onmessage=U,te=function(){ke.postMessage(null)}}else te=function(){P(U,0)};function Be(ve){L=ve,O||(O=!0,te())}function Ve(ve,Fe){X=P(function(){ve(e.unstable_now())},Fe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(ve){ve.callback=null},e.unstable_continueExecution=function(){y||x||(y=!0,Be(K))},e.unstable_forceFrameRate=function(ve){0>ve||125<ve?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<ve?Math.floor(1e3/ve):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(ve){switch(g){case 1:case 2:case 3:var Fe=3;break;default:Fe=g}var Ce=g;g=Fe;try{return ve()}finally{g=Ce}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(ve,Fe){switch(ve){case 1:case 2:case 3:case 4:case 5:break;default:ve=3}var Ce=g;g=ve;try{return Fe()}finally{g=Ce}},e.unstable_scheduleCallback=function(ve,Fe,Ce){var Ke=e.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?Ke+Ce:Ke):Ce=Ke,ve){case 1:var me=-1;break;case 2:me=250;break;case 5:me=1073741823;break;case 4:me=1e4;break;default:me=5e3}return me=Ce+me,ve={id:d++,callback:Fe,priorityLevel:ve,startTime:Ce,expirationTime:me,sortIndex:-1},Ce>Ke?(ve.sortIndex=Ce,t(f,ve),n(c)===null&&ve===n(f)&&(_?(k(X),X=-1):_=!0,Ve(A,Ce-Ke))):(ve.sortIndex=me,t(c,ve),y||x||(y=!0,Be(K))),ve},e.unstable_shouldYield=q,e.unstable_wrapCallback=function(ve){var Fe=g;return function(){var Ce=g;g=Fe;try{return ve.apply(this,arguments)}finally{g=Ce}}}})(oP);rP.exports=oP;var DF=rP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iP=R,Mo=DF;function qe(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var aP=new Set,vd={};function Hl(e,t){oc(e,t),oc(e+"Capture",t)}function oc(e,t){for(vd[e]=t,e=0;e<t.length;e++)aP.add(t[e])}var La=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hy=Object.prototype.hasOwnProperty,LF=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xx={},Sx={};function MF(e){return Hy.call(Sx,e)?!0:Hy.call(xx,e)?!1:LF.test(e)?Sx[e]=!0:(xx[e]=!0,!1)}function zF(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function FF(e,t,n,r){if(t===null||typeof t>"u"||zF(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function so(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Mr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Mr[e]=new so(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Mr[t]=new so(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Mr[e]=new so(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Mr[e]=new so(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Mr[e]=new so(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Mr[e]=new so(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Mr[e]=new so(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Mr[e]=new so(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Mr[e]=new so(e,5,!1,e.toLowerCase(),null,!1,!1)});var Ub=/[\-:]([a-z])/g;function Kb(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Ub,Kb);Mr[t]=new so(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Ub,Kb);Mr[t]=new so(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Ub,Kb);Mr[t]=new so(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Mr[e]=new so(e,1,!1,e.toLowerCase(),null,!1,!1)});Mr.xlinkHref=new so("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Mr[e]=new so(e,1,!1,e.toLowerCase(),null,!0,!0)});function Hb(e,t,n,r){var o=Mr.hasOwnProperty(t)?Mr[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(FF(t,n,o,r)&&(n=null),r||o===null?MF(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ua=iP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Xh=Symbol.for("react.element"),ju=Symbol.for("react.portal"),Au=Symbol.for("react.fragment"),Wb=Symbol.for("react.strict_mode"),Wy=Symbol.for("react.profiler"),sP=Symbol.for("react.provider"),lP=Symbol.for("react.context"),Vb=Symbol.for("react.forward_ref"),Vy=Symbol.for("react.suspense"),Gy=Symbol.for("react.suspense_list"),Gb=Symbol.for("react.memo"),ls=Symbol.for("react.lazy"),uP=Symbol.for("react.offscreen"),_x=Symbol.iterator;function mf(e){return e===null||typeof e!="object"?null:(e=_x&&e[_x]||e["@@iterator"],typeof e=="function"?e:null)}var Jn=Object.assign,zg;function Mf(e){if(zg===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);zg=t&&t[1]||""}return`
`+zg+e}var Fg=!1;function $g(e,t){if(!e||Fg)return"";Fg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var o=f.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,u=i.length-1;1<=s&&0<=u&&o[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(o[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||o[s]!==i[u]){var c=`
`+o[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{Fg=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mf(e):""}function $F(e){switch(e.tag){case 5:return Mf(e.type);case 16:return Mf("Lazy");case 13:return Mf("Suspense");case 19:return Mf("SuspenseList");case 0:case 2:case 15:return e=$g(e.type,!1),e;case 11:return e=$g(e.type.render,!1),e;case 1:return e=$g(e.type,!0),e;default:return""}}function qy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Au:return"Fragment";case ju:return"Portal";case Wy:return"Profiler";case Wb:return"StrictMode";case Vy:return"Suspense";case Gy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case lP:return(e.displayName||"Context")+".Consumer";case sP:return(e._context.displayName||"Context")+".Provider";case Vb:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Gb:return t=e.displayName||null,t!==null?t:qy(e.type)||"Memo";case ls:t=e._payload,e=e._init;try{return qy(e(t))}catch{}}return null}function BF(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qy(t);case 8:return t===Wb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Rs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function UF(e){var t=cP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Jh(e){e._valueTracker||(e._valueTracker=UF(e))}function fP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=cP(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function rm(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Yy(e,t){var n=t.checked;return Jn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function kx(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Rs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dP(e,t){t=t.checked,t!=null&&Hb(e,"checked",t,!1)}function Xy(e,t){dP(e,t);var n=Rs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Jy(e,t.type,n):t.hasOwnProperty("defaultValue")&&Jy(e,t.type,Rs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Px(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Jy(e,t,n){(t!=="number"||rm(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zf=Array.isArray;function qu(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Rs(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Qy(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(qe(91));return Jn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Cx(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(qe(92));if(zf(n)){if(1<n.length)throw Error(qe(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Rs(n)}}function hP(e,t){var n=Rs(t.value),r=Rs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Tx(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function pP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Zy(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?pP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qh,mP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qh=Qh||document.createElement("div"),Qh.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qh.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function gd(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var qf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},KF=["Webkit","ms","Moz","O"];Object.keys(qf).forEach(function(e){KF.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),qf[t]=qf[e]})});function vP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||qf.hasOwnProperty(e)&&qf[e]?(""+t).trim():t+"px"}function gP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=vP(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var HF=Jn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function e0(e,t){if(t){if(HF[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(qe(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(qe(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(qe(61))}if(t.style!=null&&typeof t.style!="object")throw Error(qe(62))}}function t0(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var n0=null;function qb(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var r0=null,Yu=null,Xu=null;function Nx(e){if(e=Gd(e)){if(typeof r0!="function")throw Error(qe(280));var t=e.stateNode;t&&(t=nv(t),r0(e.stateNode,e.type,t))}}function yP(e){Yu?Xu?Xu.push(e):Xu=[e]:Yu=e}function bP(){if(Yu){var e=Yu,t=Xu;if(Xu=Yu=null,Nx(e),t)for(e=0;e<t.length;e++)Nx(t[e])}}function wP(e,t){return e(t)}function EP(){}var Bg=!1;function xP(e,t,n){if(Bg)return e(t,n);Bg=!0;try{return wP(e,t,n)}finally{Bg=!1,(Yu!==null||Xu!==null)&&(EP(),bP())}}function yd(e,t){var n=e.stateNode;if(n===null)return null;var r=nv(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(qe(231,t,typeof n));return n}var o0=!1;if(La)try{var vf={};Object.defineProperty(vf,"passive",{get:function(){o0=!0}}),window.addEventListener("test",vf,vf),window.removeEventListener("test",vf,vf)}catch{o0=!1}function WF(e,t,n,r,o,i,s,u,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(d){this.onError(d)}}var Yf=!1,om=null,im=!1,i0=null,VF={onError:function(e){Yf=!0,om=e}};function GF(e,t,n,r,o,i,s,u,c){Yf=!1,om=null,WF.apply(VF,arguments)}function qF(e,t,n,r,o,i,s,u,c){if(GF.apply(this,arguments),Yf){if(Yf){var f=om;Yf=!1,om=null}else throw Error(qe(198));im||(im=!0,i0=f)}}function Wl(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function SP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ox(e){if(Wl(e)!==e)throw Error(qe(188))}function YF(e){var t=e.alternate;if(!t){if(t=Wl(e),t===null)throw Error(qe(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Ox(o),e;if(i===r)return Ox(o),t;i=i.sibling}throw Error(qe(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,u=o.child;u;){if(u===n){s=!0,n=o,r=i;break}if(u===r){s=!0,r=o,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=o;break}if(u===r){s=!0,r=i,n=o;break}u=u.sibling}if(!s)throw Error(qe(189))}}if(n.alternate!==r)throw Error(qe(190))}if(n.tag!==3)throw Error(qe(188));return n.stateNode.current===n?e:t}function _P(e){return e=YF(e),e!==null?kP(e):null}function kP(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=kP(e);if(t!==null)return t;e=e.sibling}return null}var PP=Mo.unstable_scheduleCallback,Rx=Mo.unstable_cancelCallback,XF=Mo.unstable_shouldYield,JF=Mo.unstable_requestPaint,ur=Mo.unstable_now,QF=Mo.unstable_getCurrentPriorityLevel,Yb=Mo.unstable_ImmediatePriority,CP=Mo.unstable_UserBlockingPriority,am=Mo.unstable_NormalPriority,ZF=Mo.unstable_LowPriority,TP=Mo.unstable_IdlePriority,Qm=null,Ji=null;function e$(e){if(Ji&&typeof Ji.onCommitFiberRoot=="function")try{Ji.onCommitFiberRoot(Qm,e,void 0,(e.current.flags&128)===128)}catch{}}var Ri=Math.clz32?Math.clz32:r$,t$=Math.log,n$=Math.LN2;function r$(e){return e>>>=0,e===0?32:31-(t$(e)/n$|0)|0}var Zh=64,ep=4194304;function Ff(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function sm(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~o;u!==0?r=Ff(u):(i&=s,i!==0&&(r=Ff(i)))}else s=n&~o,s!==0?r=Ff(s):i!==0&&(r=Ff(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Ri(t),o=1<<n,r|=e[n],t&=~o;return r}function o$(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function i$(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Ri(i),u=1<<s,c=o[s];c===-1?(!(u&n)||u&r)&&(o[s]=o$(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function a0(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function NP(){var e=Zh;return Zh<<=1,!(Zh&4194240)&&(Zh=64),e}function Ug(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wd(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ri(t),e[t]=n}function a$(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ri(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Xb(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Ri(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var Sn=0;function OP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var RP,Jb,jP,AP,IP,s0=!1,tp=[],xs=null,Ss=null,_s=null,bd=new Map,wd=new Map,ds=[],s$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function jx(e,t){switch(e){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":Ss=null;break;case"mouseover":case"mouseout":_s=null;break;case"pointerover":case"pointerout":bd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":wd.delete(t.pointerId)}}function gf(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=Gd(t),t!==null&&Jb(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function l$(e,t,n,r,o){switch(t){case"focusin":return xs=gf(xs,e,t,n,r,o),!0;case"dragenter":return Ss=gf(Ss,e,t,n,r,o),!0;case"mouseover":return _s=gf(_s,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return bd.set(i,gf(bd.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,wd.set(i,gf(wd.get(i)||null,e,t,n,r,o)),!0}return!1}function DP(e){var t=xl(e.target);if(t!==null){var n=Wl(t);if(n!==null){if(t=n.tag,t===13){if(t=SP(n),t!==null){e.blockedOn=t,IP(e.priority,function(){jP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=l0(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);n0=r,n.target.dispatchEvent(r),n0=null}else return t=Gd(n),t!==null&&Jb(t),e.blockedOn=n,!1;t.shift()}return!0}function Ax(e,t,n){Dp(e)&&n.delete(t)}function u$(){s0=!1,xs!==null&&Dp(xs)&&(xs=null),Ss!==null&&Dp(Ss)&&(Ss=null),_s!==null&&Dp(_s)&&(_s=null),bd.forEach(Ax),wd.forEach(Ax)}function yf(e,t){e.blockedOn===t&&(e.blockedOn=null,s0||(s0=!0,Mo.unstable_scheduleCallback(Mo.unstable_NormalPriority,u$)))}function Ed(e){function t(o){return yf(o,e)}if(0<tp.length){yf(tp[0],e);for(var n=1;n<tp.length;n++){var r=tp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(xs!==null&&yf(xs,e),Ss!==null&&yf(Ss,e),_s!==null&&yf(_s,e),bd.forEach(t),wd.forEach(t),n=0;n<ds.length;n++)r=ds[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<ds.length&&(n=ds[0],n.blockedOn===null);)DP(n),n.blockedOn===null&&ds.shift()}var Ju=Ua.ReactCurrentBatchConfig,lm=!0;function c$(e,t,n,r){var o=Sn,i=Ju.transition;Ju.transition=null;try{Sn=1,Qb(e,t,n,r)}finally{Sn=o,Ju.transition=i}}function f$(e,t,n,r){var o=Sn,i=Ju.transition;Ju.transition=null;try{Sn=4,Qb(e,t,n,r)}finally{Sn=o,Ju.transition=i}}function Qb(e,t,n,r){if(lm){var o=l0(e,t,n,r);if(o===null)Qg(e,t,r,um,n),jx(e,r);else if(l$(o,e,t,n,r))r.stopPropagation();else if(jx(e,r),t&4&&-1<s$.indexOf(e)){for(;o!==null;){var i=Gd(o);if(i!==null&&RP(i),i=l0(e,t,n,r),i===null&&Qg(e,t,r,um,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Qg(e,t,r,null,n)}}var um=null;function l0(e,t,n,r){if(um=null,e=qb(r),e=xl(e),e!==null)if(t=Wl(e),t===null)e=null;else if(n=t.tag,n===13){if(e=SP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return um=e,null}function LP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QF()){case Yb:return 1;case CP:return 4;case am:case ZF:return 16;case TP:return 536870912;default:return 16}default:return 16}}var ms=null,Zb=null,Lp=null;function MP(){if(Lp)return Lp;var e,t=Zb,n=t.length,r,o="value"in ms?ms.value:ms.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return Lp=o.slice(e,1<r?1-r:void 0)}function Mp(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function np(){return!0}function Ix(){return!1}function Bo(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?np:Ix,this.isPropagationStopped=Ix,this}return Jn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=np)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=np)},persist:function(){},isPersistent:np}),t}var Pc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ew=Bo(Pc),Vd=Jn({},Pc,{view:0,detail:0}),d$=Bo(Vd),Kg,Hg,bf,Zm=Jn({},Vd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tw,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==bf&&(bf&&e.type==="mousemove"?(Kg=e.screenX-bf.screenX,Hg=e.screenY-bf.screenY):Hg=Kg=0,bf=e),Kg)},movementY:function(e){return"movementY"in e?e.movementY:Hg}}),Dx=Bo(Zm),h$=Jn({},Zm,{dataTransfer:0}),p$=Bo(h$),m$=Jn({},Vd,{relatedTarget:0}),Wg=Bo(m$),v$=Jn({},Pc,{animationName:0,elapsedTime:0,pseudoElement:0}),g$=Bo(v$),y$=Jn({},Pc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),b$=Bo(y$),w$=Jn({},Pc,{data:0}),Lx=Bo(w$),E$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},x$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},S$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _$(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=S$[e])?!!t[e]:!1}function tw(){return _$}var k$=Jn({},Vd,{key:function(e){if(e.key){var t=E$[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mp(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?x$[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tw,charCode:function(e){return e.type==="keypress"?Mp(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mp(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),P$=Bo(k$),C$=Jn({},Zm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mx=Bo(C$),T$=Jn({},Vd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tw}),N$=Bo(T$),O$=Jn({},Pc,{propertyName:0,elapsedTime:0,pseudoElement:0}),R$=Bo(O$),j$=Jn({},Zm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),A$=Bo(j$),I$=[9,13,27,32],nw=La&&"CompositionEvent"in window,Xf=null;La&&"documentMode"in document&&(Xf=document.documentMode);var D$=La&&"TextEvent"in window&&!Xf,zP=La&&(!nw||Xf&&8<Xf&&11>=Xf),zx=" ",Fx=!1;function FP(e,t){switch(e){case"keyup":return I$.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $P(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Iu=!1;function L$(e,t){switch(e){case"compositionend":return $P(t);case"keypress":return t.which!==32?null:(Fx=!0,zx);case"textInput":return e=t.data,e===zx&&Fx?null:e;default:return null}}function M$(e,t){if(Iu)return e==="compositionend"||!nw&&FP(e,t)?(e=MP(),Lp=Zb=ms=null,Iu=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zP&&t.locale!=="ko"?null:t.data;default:return null}}var z$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $x(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!z$[e.type]:t==="textarea"}function BP(e,t,n,r){yP(r),t=cm(t,"onChange"),0<t.length&&(n=new ew("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jf=null,xd=null;function F$(e){QP(e,0)}function ev(e){var t=Mu(e);if(fP(t))return e}function $$(e,t){if(e==="change")return t}var UP=!1;if(La){var Vg;if(La){var Gg="oninput"in document;if(!Gg){var Bx=document.createElement("div");Bx.setAttribute("oninput","return;"),Gg=typeof Bx.oninput=="function"}Vg=Gg}else Vg=!1;UP=Vg&&(!document.documentMode||9<document.documentMode)}function Ux(){Jf&&(Jf.detachEvent("onpropertychange",KP),xd=Jf=null)}function KP(e){if(e.propertyName==="value"&&ev(xd)){var t=[];BP(t,xd,e,qb(e)),xP(F$,t)}}function B$(e,t,n){e==="focusin"?(Ux(),Jf=t,xd=n,Jf.attachEvent("onpropertychange",KP)):e==="focusout"&&Ux()}function U$(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ev(xd)}function K$(e,t){if(e==="click")return ev(t)}function H$(e,t){if(e==="input"||e==="change")return ev(t)}function W$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ai=typeof Object.is=="function"?Object.is:W$;function Sd(e,t){if(Ai(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Hy.call(t,o)||!Ai(e[o],t[o]))return!1}return!0}function Kx(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hx(e,t){var n=Kx(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Kx(n)}}function HP(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?HP(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function WP(){for(var e=window,t=rm();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rm(e.document)}return t}function rw(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function V$(e){var t=WP(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&HP(n.ownerDocument.documentElement,n)){if(r!==null&&rw(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Hx(n,i);var s=Hx(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var G$=La&&"documentMode"in document&&11>=document.documentMode,Du=null,u0=null,Qf=null,c0=!1;function Wx(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;c0||Du==null||Du!==rm(r)||(r=Du,"selectionStart"in r&&rw(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Qf&&Sd(Qf,r)||(Qf=r,r=cm(u0,"onSelect"),0<r.length&&(t=new ew("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Du)))}function rp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lu={animationend:rp("Animation","AnimationEnd"),animationiteration:rp("Animation","AnimationIteration"),animationstart:rp("Animation","AnimationStart"),transitionend:rp("Transition","TransitionEnd")},qg={},VP={};La&&(VP=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function tv(e){if(qg[e])return qg[e];if(!Lu[e])return e;var t=Lu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in VP)return qg[e]=t[n];return e}var GP=tv("animationend"),qP=tv("animationiteration"),YP=tv("animationstart"),XP=tv("transitionend"),JP=new Map,Vx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(e,t){JP.set(e,t),Hl(t,[e])}for(var Yg=0;Yg<Vx.length;Yg++){var Xg=Vx[Yg],q$=Xg.toLowerCase(),Y$=Xg[0].toUpperCase()+Xg.slice(1);Ds(q$,"on"+Y$)}Ds(GP,"onAnimationEnd");Ds(qP,"onAnimationIteration");Ds(YP,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(XP,"onTransitionEnd");oc("onMouseEnter",["mouseout","mouseover"]);oc("onMouseLeave",["mouseout","mouseover"]);oc("onPointerEnter",["pointerout","pointerover"]);oc("onPointerLeave",["pointerout","pointerover"]);Hl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X$=new Set("cancel close invalid load scroll toggle".split(" ").concat($f));function Gx(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,qF(r,t,void 0,e),e.currentTarget=null}function QP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==i&&o.isPropagationStopped())break e;Gx(o,u,f),i=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==i&&o.isPropagationStopped())break e;Gx(o,u,f),i=c}}}if(im)throw e=i0,im=!1,i0=null,e}function Mn(e,t){var n=t[m0];n===void 0&&(n=t[m0]=new Set);var r=e+"__bubble";n.has(r)||(ZP(t,e,2,!1),n.add(r))}function Jg(e,t,n){var r=0;t&&(r|=4),ZP(n,e,r,t)}var op="_reactListening"+Math.random().toString(36).slice(2);function _d(e){if(!e[op]){e[op]=!0,aP.forEach(function(n){n!=="selectionchange"&&(X$.has(n)||Jg(n,!1,e),Jg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[op]||(t[op]=!0,Jg("selectionchange",!1,t))}}function ZP(e,t,n,r){switch(LP(t)){case 1:var o=c$;break;case 4:o=f$;break;default:o=Qb}n=o.bind(null,t,n,e),o=void 0,!o0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Qg(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===o||u.nodeType===8&&u.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===o||c.nodeType===8&&c.parentNode===o))return;s=s.return}for(;u!==null;){if(s=xl(u),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}u=u.parentNode}}r=r.return}xP(function(){var f=i,d=qb(n),m=[];e:{var g=JP.get(e);if(g!==void 0){var x=ew,y=e;switch(e){case"keypress":if(Mp(n)===0)break e;case"keydown":case"keyup":x=P$;break;case"focusin":y="focus",x=Wg;break;case"focusout":y="blur",x=Wg;break;case"beforeblur":case"afterblur":x=Wg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=Dx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=p$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=N$;break;case GP:case qP:case YP:x=g$;break;case XP:x=R$;break;case"scroll":x=d$;break;case"wheel":x=A$;break;case"copy":case"cut":case"paste":x=b$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Mx}var _=(t&4)!==0,P=!_&&e==="scroll",k=_?g!==null?g+"Capture":null:g;_=[];for(var C=f,S;C!==null;){S=C;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,k!==null&&(A=yd(C,k),A!=null&&_.push(kd(C,A,S)))),P)break;C=C.return}0<_.length&&(g=new x(g,y,null,n,d),m.push({event:g,listeners:_}))}}if(!(t&7)){e:{if(g=e==="mouseover"||e==="pointerover",x=e==="mouseout"||e==="pointerout",g&&n!==n0&&(y=n.relatedTarget||n.fromElement)&&(xl(y)||y[Ma]))break e;if((x||g)&&(g=d.window===d?d:(g=d.ownerDocument)?g.defaultView||g.parentWindow:window,x?(y=n.relatedTarget||n.toElement,x=f,y=y?xl(y):null,y!==null&&(P=Wl(y),y!==P||y.tag!==5&&y.tag!==6)&&(y=null)):(x=null,y=f),x!==y)){if(_=Dx,A="onMouseLeave",k="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(_=Mx,A="onPointerLeave",k="onPointerEnter",C="pointer"),P=x==null?g:Mu(x),S=y==null?g:Mu(y),g=new _(A,C+"leave",x,n,d),g.target=P,g.relatedTarget=S,A=null,xl(d)===f&&(_=new _(k,C+"enter",y,n,d),_.target=S,_.relatedTarget=P,A=_),P=A,x&&y)t:{for(_=x,k=y,C=0,S=_;S;S=xu(S))C++;for(S=0,A=k;A;A=xu(A))S++;for(;0<C-S;)_=xu(_),C--;for(;0<S-C;)k=xu(k),S--;for(;C--;){if(_===k||k!==null&&_===k.alternate)break t;_=xu(_),k=xu(k)}_=null}else _=null;x!==null&&qx(m,g,x,_,!1),y!==null&&P!==null&&qx(m,P,y,_,!0)}}e:{if(g=f?Mu(f):window,x=g.nodeName&&g.nodeName.toLowerCase(),x==="select"||x==="input"&&g.type==="file")var K=$$;else if($x(g))if(UP)K=H$;else{K=U$;var O=B$}else(x=g.nodeName)&&x.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(K=K$);if(K&&(K=K(e,f))){BP(m,K,n,d);break e}O&&O(e,g,f),e==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&Jy(g,"number",g.value)}switch(O=f?Mu(f):window,e){case"focusin":($x(O)||O.contentEditable==="true")&&(Du=O,u0=f,Qf=null);break;case"focusout":Qf=u0=Du=null;break;case"mousedown":c0=!0;break;case"contextmenu":case"mouseup":case"dragend":c0=!1,Wx(m,n,d);break;case"selectionchange":if(G$)break;case"keydown":case"keyup":Wx(m,n,d)}var L;if(nw)e:{switch(e){case"compositionstart":var X="onCompositionStart";break e;case"compositionend":X="onCompositionEnd";break e;case"compositionupdate":X="onCompositionUpdate";break e}X=void 0}else Iu?FP(e,n)&&(X="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(X="onCompositionStart");X&&(zP&&n.locale!=="ko"&&(Iu||X!=="onCompositionStart"?X==="onCompositionEnd"&&Iu&&(L=MP()):(ms=d,Zb="value"in ms?ms.value:ms.textContent,Iu=!0)),O=cm(f,X),0<O.length&&(X=new Lx(X,e,null,n,d),m.push({event:X,listeners:O}),L?X.data=L:(L=$P(n),L!==null&&(X.data=L)))),(L=D$?L$(e,n):M$(e,n))&&(f=cm(f,"onBeforeInput"),0<f.length&&(d=new Lx("onBeforeInput","beforeinput",null,n,d),m.push({event:d,listeners:f}),d.data=L))}QP(m,t)})}function kd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function cm(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=yd(e,n),i!=null&&r.unshift(kd(e,i,o)),i=yd(e,t),i!=null&&r.push(kd(e,i,o))),e=e.return}return r}function xu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qx(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,o?(c=yd(n,i),c!=null&&s.unshift(kd(n,c,u))):o||(c=yd(n,i),c!=null&&s.push(kd(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var J$=/\r\n?/g,Q$=/\u0000|\uFFFD/g;function Yx(e){return(typeof e=="string"?e:""+e).replace(J$,`
`).replace(Q$,"")}function ip(e,t,n){if(t=Yx(t),Yx(e)!==t&&n)throw Error(qe(425))}function fm(){}var f0=null,d0=null;function h0(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var p0=typeof setTimeout=="function"?setTimeout:void 0,Z$=typeof clearTimeout=="function"?clearTimeout:void 0,Xx=typeof Promise=="function"?Promise:void 0,e2=typeof queueMicrotask=="function"?queueMicrotask:typeof Xx<"u"?function(e){return Xx.resolve(null).then(e).catch(t2)}:p0;function t2(e){setTimeout(function(){throw e})}function Zg(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),Ed(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Ed(t)}function ks(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Jx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),qi="__reactFiber$"+Cc,Pd="__reactProps$"+Cc,Ma="__reactContainer$"+Cc,m0="__reactEvents$"+Cc,n2="__reactListeners$"+Cc,r2="__reactHandles$"+Cc;function xl(e){var t=e[qi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ma]||n[qi]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Jx(e);e!==null;){if(n=e[qi])return n;e=Jx(e)}return t}e=n,n=e.parentNode}return null}function Gd(e){return e=e[qi]||e[Ma],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Mu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(qe(33))}function nv(e){return e[Pd]||null}var v0=[],zu=-1;function Ls(e){return{current:e}}function Fn(e){0>zu||(e.current=v0[zu],v0[zu]=null,zu--)}function In(e,t){zu++,v0[zu]=e.current,e.current=t}var js={},Jr=Ls(js),bo=Ls(!1),jl=js;function ic(e,t){var n=e.type.contextTypes;if(!n)return js;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function wo(e){return e=e.childContextTypes,e!=null}function dm(){Fn(bo),Fn(Jr)}function Qx(e,t,n){if(Jr.current!==js)throw Error(qe(168));In(Jr,t),In(bo,n)}function eC(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error(qe(108,BF(e)||"Unknown",o));return Jn({},n,r)}function hm(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||js,jl=Jr.current,In(Jr,e),In(bo,bo.current),!0}function Zx(e,t,n){var r=e.stateNode;if(!r)throw Error(qe(169));n?(e=eC(e,t,jl),r.__reactInternalMemoizedMergedChildContext=e,Fn(bo),Fn(Jr),In(Jr,e)):Fn(bo),In(bo,n)}var xa=null,rv=!1,ey=!1;function tC(e){xa===null?xa=[e]:xa.push(e)}function o2(e){rv=!0,tC(e)}function Ms(){if(!ey&&xa!==null){ey=!0;var e=0,t=Sn;try{var n=xa;for(Sn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}xa=null,rv=!1}catch(o){throw xa!==null&&(xa=xa.slice(e+1)),PP(Yb,Ms),o}finally{Sn=t,ey=!1}}return null}var Fu=[],$u=0,pm=null,mm=0,ei=[],ti=0,Al=null,Pa=1,Ca="";function pl(e,t){Fu[$u++]=mm,Fu[$u++]=pm,pm=e,mm=t}function nC(e,t,n){ei[ti++]=Pa,ei[ti++]=Ca,ei[ti++]=Al,Al=e;var r=Pa;e=Ca;var o=32-Ri(r)-1;r&=~(1<<o),n+=1;var i=32-Ri(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Pa=1<<32-Ri(t)+o|n<<o|r,Ca=i+e}else Pa=1<<i|n<<o|r,Ca=e}function ow(e){e.return!==null&&(pl(e,1),nC(e,1,0))}function iw(e){for(;e===pm;)pm=Fu[--$u],Fu[$u]=null,mm=Fu[--$u],Fu[$u]=null;for(;e===Al;)Al=ei[--ti],ei[ti]=null,Ca=ei[--ti],ei[ti]=null,Pa=ei[--ti],ei[ti]=null}var Lo=null,Io=null,Un=!1,Ci=null;function rC(e,t){var n=ri(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function eS(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Lo=e,Io=ks(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Lo=e,Io=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Al!==null?{id:Pa,overflow:Ca}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ri(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Lo=e,Io=null,!0):!1;default:return!1}}function g0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function y0(e){if(Un){var t=Io;if(t){var n=t;if(!eS(e,t)){if(g0(e))throw Error(qe(418));t=ks(n.nextSibling);var r=Lo;t&&eS(e,t)?rC(r,n):(e.flags=e.flags&-4097|2,Un=!1,Lo=e)}}else{if(g0(e))throw Error(qe(418));e.flags=e.flags&-4097|2,Un=!1,Lo=e}}}function tS(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Lo=e}function ap(e){if(e!==Lo)return!1;if(!Un)return tS(e),Un=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!h0(e.type,e.memoizedProps)),t&&(t=Io)){if(g0(e))throw oC(),Error(qe(418));for(;t;)rC(e,t),t=ks(t.nextSibling)}if(tS(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(qe(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Io=ks(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Io=null}}else Io=Lo?ks(e.stateNode.nextSibling):null;return!0}function oC(){for(var e=Io;e;)e=ks(e.nextSibling)}function ac(){Io=Lo=null,Un=!1}function aw(e){Ci===null?Ci=[e]:Ci.push(e)}var i2=Ua.ReactCurrentBatchConfig;function Si(e,t){if(e&&e.defaultProps){t=Jn({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}var vm=Ls(null),gm=null,Bu=null,sw=null;function lw(){sw=Bu=gm=null}function uw(e){var t=vm.current;Fn(vm),e._currentValue=t}function b0(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Qu(e,t){gm=e,sw=Bu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(yo=!0),e.firstContext=null)}function ii(e){var t=e._currentValue;if(sw!==e)if(e={context:e,memoizedValue:t,next:null},Bu===null){if(gm===null)throw Error(qe(308));Bu=e,gm.dependencies={lanes:0,firstContext:e}}else Bu=Bu.next=e;return t}var Sl=null;function cw(e){Sl===null?Sl=[e]:Sl.push(e)}function iC(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,cw(t)):(n.next=o.next,o.next=n),t.interleaved=n,za(e,r)}function za(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var us=!1;function fw(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function aC(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Oa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pn&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,za(e,n)}return o=r.interleaved,o===null?(t.next=t,cw(r)):(t.next=o.next,o.next=t),r.interleaved=t,za(e,n)}function zp(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xb(e,n)}}function nS(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ym(e,t,n,r){var o=e.updateQueue;us=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,u=o.shared.pending;if(u!==null){o.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?i=f:s.next=f,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,u=d.lastBaseUpdate,u!==s&&(u===null?d.firstBaseUpdate=f:u.next=f,d.lastBaseUpdate=c))}if(i!==null){var m=o.baseState;s=0,d=f=c=null,u=i;do{var g=u.lane,x=u.eventTime;if((r&g)===g){d!==null&&(d=d.next={eventTime:x,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var y=e,_=u;switch(g=t,x=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){m=y.call(x,m,g);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,g=typeof y=="function"?y.call(x,m,g):y,g==null)break e;m=Jn({},m,g);break e;case 2:us=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,g=o.effects,g===null?o.effects=[u]:g.push(u))}else x={eventTime:x,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},d===null?(f=d=x,c=m):d=d.next=x,s|=g;if(u=u.next,u===null){if(u=o.shared.pending,u===null)break;g=u,u=g.next,g.next=null,o.lastBaseUpdate=g,o.shared.pending=null}}while(!0);if(d===null&&(c=m),o.baseState=c,o.firstBaseUpdate=f,o.lastBaseUpdate=d,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Dl|=s,e.lanes=s,e.memoizedState=m}}function rS(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(qe(191,o));o.call(r)}}}var sC=new iP.Component().refs;function w0(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Jn({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ov={isMounted:function(e){return(e=e._reactInternals)?Wl(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=io(),o=Ts(e),i=Oa(r,o);i.payload=t,n!=null&&(i.callback=n),t=Ps(e,i,o),t!==null&&(ji(t,e,o,r),zp(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=io(),o=Ts(e),i=Oa(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Ps(e,i,o),t!==null&&(ji(t,e,o,r),zp(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=io(),r=Ts(e),o=Oa(n,r);o.tag=2,t!=null&&(o.callback=t),t=Ps(e,o,r),t!==null&&(ji(t,e,r,n),zp(t,e,r))}};function oS(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Sd(n,r)||!Sd(o,i):!0}function lC(e,t,n){var r=!1,o=js,i=t.contextType;return typeof i=="object"&&i!==null?i=ii(i):(o=wo(t)?jl:Jr.current,r=t.contextTypes,i=(r=r!=null)?ic(e,o):js),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ov,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function iS(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ov.enqueueReplaceState(t,t.state,null)}function E0(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs=sC,fw(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=ii(i):(i=wo(t)?jl:Jr.current,o.context=ic(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(w0(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ov.enqueueReplaceState(o,o.state,null),ym(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function wf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(qe(309));var r=n.stateNode}if(!r)throw Error(qe(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=o.refs;u===sC&&(u=o.refs={}),s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(qe(284));if(!n._owner)throw Error(qe(290,e))}return e}function sp(e,t){throw e=Object.prototype.toString.call(t),Error(qe(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function aS(e){var t=e._init;return t(e._payload)}function uC(e){function t(k,C){if(e){var S=k.deletions;S===null?(k.deletions=[C],k.flags|=16):S.push(C)}}function n(k,C){if(!e)return null;for(;C!==null;)t(k,C),C=C.sibling;return null}function r(k,C){for(k=new Map;C!==null;)C.key!==null?k.set(C.key,C):k.set(C.index,C),C=C.sibling;return k}function o(k,C){return k=Ns(k,C),k.index=0,k.sibling=null,k}function i(k,C,S){return k.index=S,e?(S=k.alternate,S!==null?(S=S.index,S<C?(k.flags|=2,C):S):(k.flags|=2,C)):(k.flags|=1048576,C)}function s(k){return e&&k.alternate===null&&(k.flags|=2),k}function u(k,C,S,A){return C===null||C.tag!==6?(C=sy(S,k.mode,A),C.return=k,C):(C=o(C,S),C.return=k,C)}function c(k,C,S,A){var K=S.type;return K===Au?d(k,C,S.props.children,A,S.key):C!==null&&(C.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ls&&aS(K)===C.type)?(A=o(C,S.props),A.ref=wf(k,C,S),A.return=k,A):(A=Hp(S.type,S.key,S.props,null,k.mode,A),A.ref=wf(k,C,S),A.return=k,A)}function f(k,C,S,A){return C===null||C.tag!==4||C.stateNode.containerInfo!==S.containerInfo||C.stateNode.implementation!==S.implementation?(C=ly(S,k.mode,A),C.return=k,C):(C=o(C,S.children||[]),C.return=k,C)}function d(k,C,S,A,K){return C===null||C.tag!==7?(C=Tl(S,k.mode,A,K),C.return=k,C):(C=o(C,S),C.return=k,C)}function m(k,C,S){if(typeof C=="string"&&C!==""||typeof C=="number")return C=sy(""+C,k.mode,S),C.return=k,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Xh:return S=Hp(C.type,C.key,C.props,null,k.mode,S),S.ref=wf(k,null,C),S.return=k,S;case ju:return C=ly(C,k.mode,S),C.return=k,C;case ls:var A=C._init;return m(k,A(C._payload),S)}if(zf(C)||mf(C))return C=Tl(C,k.mode,S,null),C.return=k,C;sp(k,C)}return null}function g(k,C,S,A){var K=C!==null?C.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return K!==null?null:u(k,C,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Xh:return S.key===K?c(k,C,S,A):null;case ju:return S.key===K?f(k,C,S,A):null;case ls:return K=S._init,g(k,C,K(S._payload),A)}if(zf(S)||mf(S))return K!==null?null:d(k,C,S,A,null);sp(k,S)}return null}function x(k,C,S,A,K){if(typeof A=="string"&&A!==""||typeof A=="number")return k=k.get(S)||null,u(C,k,""+A,K);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Xh:return k=k.get(A.key===null?S:A.key)||null,c(C,k,A,K);case ju:return k=k.get(A.key===null?S:A.key)||null,f(C,k,A,K);case ls:var O=A._init;return x(k,C,S,O(A._payload),K)}if(zf(A)||mf(A))return k=k.get(S)||null,d(C,k,A,K,null);sp(C,A)}return null}function y(k,C,S,A){for(var K=null,O=null,L=C,X=C=0,F=null;L!==null&&X<S.length;X++){L.index>X?(F=L,L=null):F=L.sibling;var N=g(k,L,S[X],A);if(N===null){L===null&&(L=F);break}e&&L&&N.alternate===null&&t(k,L),C=i(N,C,X),O===null?K=N:O.sibling=N,O=N,L=F}if(X===S.length)return n(k,L),Un&&pl(k,X),K;if(L===null){for(;X<S.length;X++)L=m(k,S[X],A),L!==null&&(C=i(L,C,X),O===null?K=L:O.sibling=L,O=L);return Un&&pl(k,X),K}for(L=r(k,L);X<S.length;X++)F=x(L,k,X,S[X],A),F!==null&&(e&&F.alternate!==null&&L.delete(F.key===null?X:F.key),C=i(F,C,X),O===null?K=F:O.sibling=F,O=F);return e&&L.forEach(function(q){return t(k,q)}),Un&&pl(k,X),K}function _(k,C,S,A){var K=mf(S);if(typeof K!="function")throw Error(qe(150));if(S=K.call(S),S==null)throw Error(qe(151));for(var O=K=null,L=C,X=C=0,F=null,N=S.next();L!==null&&!N.done;X++,N=S.next()){L.index>X?(F=L,L=null):F=L.sibling;var q=g(k,L,N.value,A);if(q===null){L===null&&(L=F);break}e&&L&&q.alternate===null&&t(k,L),C=i(q,C,X),O===null?K=q:O.sibling=q,O=q,L=F}if(N.done)return n(k,L),Un&&pl(k,X),K;if(L===null){for(;!N.done;X++,N=S.next())N=m(k,N.value,A),N!==null&&(C=i(N,C,X),O===null?K=N:O.sibling=N,O=N);return Un&&pl(k,X),K}for(L=r(k,L);!N.done;X++,N=S.next())N=x(L,k,X,N.value,A),N!==null&&(e&&N.alternate!==null&&L.delete(N.key===null?X:N.key),C=i(N,C,X),O===null?K=N:O.sibling=N,O=N);return e&&L.forEach(function(U){return t(k,U)}),Un&&pl(k,X),K}function P(k,C,S,A){if(typeof S=="object"&&S!==null&&S.type===Au&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Xh:e:{for(var K=S.key,O=C;O!==null;){if(O.key===K){if(K=S.type,K===Au){if(O.tag===7){n(k,O.sibling),C=o(O,S.props.children),C.return=k,k=C;break e}}else if(O.elementType===K||typeof K=="object"&&K!==null&&K.$$typeof===ls&&aS(K)===O.type){n(k,O.sibling),C=o(O,S.props),C.ref=wf(k,O,S),C.return=k,k=C;break e}n(k,O);break}else t(k,O);O=O.sibling}S.type===Au?(C=Tl(S.props.children,k.mode,A,S.key),C.return=k,k=C):(A=Hp(S.type,S.key,S.props,null,k.mode,A),A.ref=wf(k,C,S),A.return=k,k=A)}return s(k);case ju:e:{for(O=S.key;C!==null;){if(C.key===O)if(C.tag===4&&C.stateNode.containerInfo===S.containerInfo&&C.stateNode.implementation===S.implementation){n(k,C.sibling),C=o(C,S.children||[]),C.return=k,k=C;break e}else{n(k,C);break}else t(k,C);C=C.sibling}C=ly(S,k.mode,A),C.return=k,k=C}return s(k);case ls:return O=S._init,P(k,C,O(S._payload),A)}if(zf(S))return y(k,C,S,A);if(mf(S))return _(k,C,S,A);sp(k,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,C!==null&&C.tag===6?(n(k,C.sibling),C=o(C,S),C.return=k,k=C):(n(k,C),C=sy(S,k.mode,A),C.return=k,k=C),s(k)):n(k,C)}return P}var sc=uC(!0),cC=uC(!1),qd={},Qi=Ls(qd),Cd=Ls(qd),Td=Ls(qd);function _l(e){if(e===qd)throw Error(qe(174));return e}function dw(e,t){switch(In(Td,t),In(Cd,e),In(Qi,qd),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Zy(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Zy(t,e)}Fn(Qi),In(Qi,t)}function lc(){Fn(Qi),Fn(Cd),Fn(Td)}function fC(e){_l(Td.current);var t=_l(Qi.current),n=Zy(t,e.type);t!==n&&(In(Cd,e),In(Qi,n))}function hw(e){Cd.current===e&&(Fn(Qi),Fn(Cd))}var Yn=Ls(0);function bm(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ty=[];function pw(){for(var e=0;e<ty.length;e++)ty[e]._workInProgressVersionPrimary=null;ty.length=0}var Fp=Ua.ReactCurrentDispatcher,ny=Ua.ReactCurrentBatchConfig,Il=0,Xn=null,wr=null,Cr=null,wm=!1,Zf=!1,Nd=0,a2=0;function Wr(){throw Error(qe(321))}function mw(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ai(e[n],t[n]))return!1;return!0}function vw(e,t,n,r,o,i){if(Il=i,Xn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Fp.current=e===null||e.memoizedState===null?c2:f2,e=n(r,o),Zf){i=0;do{if(Zf=!1,Nd=0,25<=i)throw Error(qe(301));i+=1,Cr=wr=null,t.updateQueue=null,Fp.current=d2,e=n(r,o)}while(Zf)}if(Fp.current=Em,t=wr!==null&&wr.next!==null,Il=0,Cr=wr=Xn=null,wm=!1,t)throw Error(qe(300));return e}function gw(){var e=Nd!==0;return Nd=0,e}function Hi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Cr===null?Xn.memoizedState=Cr=e:Cr=Cr.next=e,Cr}function ai(){if(wr===null){var e=Xn.alternate;e=e!==null?e.memoizedState:null}else e=wr.next;var t=Cr===null?Xn.memoizedState:Cr.next;if(t!==null)Cr=t,wr=e;else{if(e===null)throw Error(qe(310));wr=e,e={memoizedState:wr.memoizedState,baseState:wr.baseState,baseQueue:wr.baseQueue,queue:wr.queue,next:null},Cr===null?Xn.memoizedState=Cr=e:Cr=Cr.next=e}return Cr}function Od(e,t){return typeof t=="function"?t(e):t}function ry(e){var t=ai(),n=t.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=e;var r=wr,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var u=s=null,c=null,f=i;do{var d=f.lane;if((Il&d)===d)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var m={lane:d,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=m,s=r):c=c.next=m,Xn.lanes|=d,Dl|=d}f=f.next}while(f!==null&&f!==i);c===null?s=r:c.next=u,Ai(r,t.memoizedState)||(yo=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,Xn.lanes|=i,Dl|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function oy(e){var t=ai(),n=t.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Ai(i,t.memoizedState)||(yo=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function dC(){}function hC(e,t){var n=Xn,r=ai(),o=t(),i=!Ai(r.memoizedState,o);if(i&&(r.memoizedState=o,yo=!0),r=r.queue,yw(vC.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Cr!==null&&Cr.memoizedState.tag&1){if(n.flags|=2048,Rd(9,mC.bind(null,n,r,o,t),void 0,null),Tr===null)throw Error(qe(349));Il&30||pC(n,t,o)}return o}function pC(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Xn.updateQueue,t===null?(t={lastEffect:null,stores:null},Xn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function mC(e,t,n,r){t.value=n,t.getSnapshot=r,gC(t)&&yC(e)}function vC(e,t,n){return n(function(){gC(t)&&yC(e)})}function gC(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ai(e,n)}catch{return!0}}function yC(e){var t=za(e,1);t!==null&&ji(t,e,1,-1)}function sS(e){var t=Hi();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Od,lastRenderedState:e},t.queue=e,e=e.dispatch=u2.bind(null,Xn,e),[t.memoizedState,e]}function Rd(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Xn.updateQueue,t===null?(t={lastEffect:null,stores:null},Xn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function bC(){return ai().memoizedState}function $p(e,t,n,r){var o=Hi();Xn.flags|=e,o.memoizedState=Rd(1|t,n,void 0,r===void 0?null:r)}function iv(e,t,n,r){var o=ai();r=r===void 0?null:r;var i=void 0;if(wr!==null){var s=wr.memoizedState;if(i=s.destroy,r!==null&&mw(r,s.deps)){o.memoizedState=Rd(t,n,i,r);return}}Xn.flags|=e,o.memoizedState=Rd(1|t,n,i,r)}function lS(e,t){return $p(8390656,8,e,t)}function yw(e,t){return iv(2048,8,e,t)}function wC(e,t){return iv(4,2,e,t)}function EC(e,t){return iv(4,4,e,t)}function xC(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function SC(e,t,n){return n=n!=null?n.concat([e]):null,iv(4,4,xC.bind(null,t,e),n)}function bw(){}function _C(e,t){var n=ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mw(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kC(e,t){var n=ai();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&mw(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function PC(e,t,n){return Il&21?(Ai(n,t)||(n=NP(),Xn.lanes|=n,Dl|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,yo=!0),e.memoizedState=n)}function s2(e,t){var n=Sn;Sn=n!==0&&4>n?n:4,e(!0);var r=ny.transition;ny.transition={};try{e(!1),t()}finally{Sn=n,ny.transition=r}}function CC(){return ai().memoizedState}function l2(e,t,n){var r=Ts(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},TC(e))NC(t,n);else if(n=iC(e,t,n,r),n!==null){var o=io();ji(n,e,r,o),OC(n,t,r)}}function u2(e,t,n){var r=Ts(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(TC(e))NC(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,n);if(o.hasEagerState=!0,o.eagerState=u,Ai(u,s)){var c=t.interleaved;c===null?(o.next=o,cw(t)):(o.next=c.next,c.next=o),t.interleaved=o;return}}catch{}finally{}n=iC(e,t,o,r),n!==null&&(o=io(),ji(n,e,r,o),OC(n,t,r))}}function TC(e){var t=e.alternate;return e===Xn||t!==null&&t===Xn}function NC(e,t){Zf=wm=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function OC(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Xb(e,n)}}var Em={readContext:ii,useCallback:Wr,useContext:Wr,useEffect:Wr,useImperativeHandle:Wr,useInsertionEffect:Wr,useLayoutEffect:Wr,useMemo:Wr,useReducer:Wr,useRef:Wr,useState:Wr,useDebugValue:Wr,useDeferredValue:Wr,useTransition:Wr,useMutableSource:Wr,useSyncExternalStore:Wr,useId:Wr,unstable_isNewReconciler:!1},c2={readContext:ii,useCallback:function(e,t){return Hi().memoizedState=[e,t===void 0?null:t],e},useContext:ii,useEffect:lS,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,$p(4194308,4,xC.bind(null,t,e),n)},useLayoutEffect:function(e,t){return $p(4194308,4,e,t)},useInsertionEffect:function(e,t){return $p(4,2,e,t)},useMemo:function(e,t){var n=Hi();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Hi();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=l2.bind(null,Xn,e),[r.memoizedState,e]},useRef:function(e){var t=Hi();return e={current:e},t.memoizedState=e},useState:sS,useDebugValue:bw,useDeferredValue:function(e){return Hi().memoizedState=e},useTransition:function(){var e=sS(!1),t=e[0];return e=s2.bind(null,e[1]),Hi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Xn,o=Hi();if(Un){if(n===void 0)throw Error(qe(407));n=n()}else{if(n=t(),Tr===null)throw Error(qe(349));Il&30||pC(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,lS(vC.bind(null,r,i,e),[e]),r.flags|=2048,Rd(9,mC.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Hi(),t=Tr.identifierPrefix;if(Un){var n=Ca,r=Pa;n=(r&~(1<<32-Ri(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Nd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=a2++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},f2={readContext:ii,useCallback:_C,useContext:ii,useEffect:yw,useImperativeHandle:SC,useInsertionEffect:wC,useLayoutEffect:EC,useMemo:kC,useReducer:ry,useRef:bC,useState:function(){return ry(Od)},useDebugValue:bw,useDeferredValue:function(e){var t=ai();return PC(t,wr.memoizedState,e)},useTransition:function(){var e=ry(Od)[0],t=ai().memoizedState;return[e,t]},useMutableSource:dC,useSyncExternalStore:hC,useId:CC,unstable_isNewReconciler:!1},d2={readContext:ii,useCallback:_C,useContext:ii,useEffect:yw,useImperativeHandle:SC,useInsertionEffect:wC,useLayoutEffect:EC,useMemo:kC,useReducer:oy,useRef:bC,useState:function(){return oy(Od)},useDebugValue:bw,useDeferredValue:function(e){var t=ai();return wr===null?t.memoizedState=e:PC(t,wr.memoizedState,e)},useTransition:function(){var e=oy(Od)[0],t=ai().memoizedState;return[e,t]},useMutableSource:dC,useSyncExternalStore:hC,useId:CC,unstable_isNewReconciler:!1};function uc(e,t){try{var n="",r=t;do n+=$F(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function iy(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function x0(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var h2=typeof WeakMap=="function"?WeakMap:Map;function RC(e,t,n){n=Oa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Sm||(Sm=!0,j0=r),x0(e,t)},n}function jC(e,t,n){n=Oa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){x0(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){x0(e,t),typeof r!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function uS(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new h2;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=C2.bind(null,e,t,n),t.then(e,e))}function cS(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fS(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Oa(-1,1),t.tag=2,Ps(n,t,1))),n.lanes|=1),e)}var p2=Ua.ReactCurrentOwner,yo=!1;function oo(e,t,n,r){t.child=e===null?cC(t,null,n,r):sc(t,e.child,n,r)}function dS(e,t,n,r,o){n=n.render;var i=t.ref;return Qu(t,o),r=vw(e,t,n,r,i,o),n=gw(),e!==null&&!yo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fa(e,t,o)):(Un&&n&&ow(t),t.flags|=1,oo(e,t,r,o),t.child)}function hS(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!Cw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,AC(e,t,i,r,o)):(e=Hp(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Sd,n(s,r)&&e.ref===t.ref)return Fa(e,t,o)}return t.flags|=1,e=Ns(i,r),e.ref=t.ref,e.return=t,t.child=e}function AC(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(Sd(i,r)&&e.ref===t.ref)if(yo=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(yo=!0);else return t.lanes=e.lanes,Fa(e,t,o)}return S0(e,t,n,r,o)}function IC(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},In(Ku,jo),jo|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,In(Ku,jo),jo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,In(Ku,jo),jo|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,In(Ku,jo),jo|=r;return oo(e,t,o,n),t.child}function DC(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function S0(e,t,n,r,o){var i=wo(n)?jl:Jr.current;return i=ic(t,i),Qu(t,o),n=vw(e,t,n,r,i,o),r=gw(),e!==null&&!yo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Fa(e,t,o)):(Un&&r&&ow(t),t.flags|=1,oo(e,t,n,o),t.child)}function pS(e,t,n,r,o){if(wo(n)){var i=!0;hm(t)}else i=!1;if(Qu(t,o),t.stateNode===null)Bp(e,t),lC(t,n,r),E0(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=ii(f):(f=wo(n)?jl:Jr.current,f=ic(t,f));var d=n.getDerivedStateFromProps,m=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";m||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==f)&&iS(t,s,r,f),us=!1;var g=t.memoizedState;s.state=g,ym(t,r,s,o),c=t.memoizedState,u!==r||g!==c||bo.current||us?(typeof d=="function"&&(w0(t,n,d,r),c=t.memoizedState),(u=us||oS(t,n,u,r,g,c,f))?(m||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=f,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,aC(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:Si(t.type,u),s.props=f,m=t.pendingProps,g=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=ii(c):(c=wo(n)?jl:Jr.current,c=ic(t,c));var x=n.getDerivedStateFromProps;(d=typeof x=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==m||g!==c)&&iS(t,s,r,c),us=!1,g=t.memoizedState,s.state=g,ym(t,r,s,o);var y=t.memoizedState;u!==m||g!==y||bo.current||us?(typeof x=="function"&&(w0(t,n,x,r),y=t.memoizedState),(f=us||oS(t,n,f,r,g,y,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=y),s.props=r,s.state=y,s.context=c,r=f):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),r=!1)}return _0(e,t,n,r,i,o)}function _0(e,t,n,r,o,i){DC(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&Zx(t,n,!1),Fa(e,t,i);r=t.stateNode,p2.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=sc(t,e.child,null,i),t.child=sc(t,null,u,i)):oo(e,t,u,i),t.memoizedState=r.state,o&&Zx(t,n,!0),t.child}function LC(e){var t=e.stateNode;t.pendingContext?Qx(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Qx(e,t.context,!1),dw(e,t.containerInfo)}function mS(e,t,n,r,o){return ac(),aw(o),t.flags|=256,oo(e,t,n,r),t.child}var k0={dehydrated:null,treeContext:null,retryLane:0};function P0(e){return{baseLanes:e,cachePool:null,transitions:null}}function MC(e,t,n){var r=t.pendingProps,o=Yn.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(o&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),In(Yn,o&1),e===null)return y0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=lv(s,r,0,null),e=Tl(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=P0(n),t.memoizedState=k0,e):ww(t,s));if(o=e.memoizedState,o!==null&&(u=o.dehydrated,u!==null))return m2(e,t,s,r,u,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,u=o.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Ns(o,c),r.subtreeFlags=o.subtreeFlags&14680064),u!==null?i=Ns(u,i):(i=Tl(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?P0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=k0,r}return i=e.child,e=i.sibling,r=Ns(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ww(e,t){return t=lv({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function lp(e,t,n,r){return r!==null&&aw(r),sc(t,e.child,null,n),e=ww(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function m2(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=iy(Error(qe(422))),lp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=lv({mode:"visible",children:r.children},o,0,null),i=Tl(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&sc(t,e.child,null,s),t.child.memoizedState=P0(s),t.memoizedState=k0,i);if(!(t.mode&1))return lp(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(qe(419)),r=iy(i,r,void 0),lp(e,t,s,r)}if(u=(s&e.childLanes)!==0,yo||u){if(r=Tr,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,za(e,o),ji(r,e,o,-1))}return Pw(),r=iy(Error(qe(421))),lp(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=T2.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,Io=ks(o.nextSibling),Lo=t,Un=!0,Ci=null,e!==null&&(ei[ti++]=Pa,ei[ti++]=Ca,ei[ti++]=Al,Pa=e.id,Ca=e.overflow,Al=t),t=ww(t,r.children),t.flags|=4096,t)}function vS(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),b0(e.return,t,n)}function ay(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function zC(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(oo(e,t,r.children,n),r=Yn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vS(e,n,t);else if(e.tag===19)vS(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(In(Yn,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&bm(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ay(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&bm(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ay(t,!0,n,null,i);break;case"together":ay(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bp(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dl|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(qe(153));if(t.child!==null){for(e=t.child,n=Ns(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Ns(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function v2(e,t,n){switch(t.tag){case 3:LC(t),ac();break;case 5:fC(t);break;case 1:wo(t.type)&&hm(t);break;case 4:dw(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;In(vm,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(In(Yn,Yn.current&1),t.flags|=128,null):n&t.child.childLanes?MC(e,t,n):(In(Yn,Yn.current&1),e=Fa(e,t,n),e!==null?e.sibling:null);In(Yn,Yn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return zC(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),In(Yn,Yn.current),r)break;return null;case 22:case 23:return t.lanes=0,IC(e,t,n)}return Fa(e,t,n)}var FC,C0,$C,BC;FC=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};C0=function(){};$C=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,_l(Qi.current);var i=null;switch(n){case"input":o=Yy(e,o),r=Yy(e,r),i=[];break;case"select":o=Jn({},o,{value:void 0}),r=Jn({},r,{value:void 0}),i=[];break;case"textarea":o=Qy(e,o),r=Qy(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=fm)}e0(n,r);var s;n=null;for(f in o)if(!r.hasOwnProperty(f)&&o.hasOwnProperty(f)&&o[f]!=null)if(f==="style"){var u=o[f];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(vd.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in r){var c=r[f];if(u=o!=null?o[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(vd.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Mn("scroll",e),i||u===c||(i=[])):(i=i||[]).push(f,c))}n&&(i=i||[]).push("style",n);var f=i;(t.updateQueue=f)&&(t.flags|=4)}};BC=function(e,t,n,r){n!==r&&(t.flags|=4)};function Ef(e,t){if(!Un)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vr(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function g2(e,t,n){var r=t.pendingProps;switch(iw(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vr(t),null;case 1:return wo(t.type)&&dm(),Vr(t),null;case 3:return r=t.stateNode,lc(),Fn(bo),Fn(Jr),pw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(ap(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Ci!==null&&(D0(Ci),Ci=null))),C0(e,t),Vr(t),null;case 5:hw(t);var o=_l(Td.current);if(n=t.type,e!==null&&t.stateNode!=null)$C(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(qe(166));return Vr(t),null}if(e=_l(Qi.current),ap(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[qi]=t,r[Pd]=i,e=(t.mode&1)!==0,n){case"dialog":Mn("cancel",r),Mn("close",r);break;case"iframe":case"object":case"embed":Mn("load",r);break;case"video":case"audio":for(o=0;o<$f.length;o++)Mn($f[o],r);break;case"source":Mn("error",r);break;case"img":case"image":case"link":Mn("error",r),Mn("load",r);break;case"details":Mn("toggle",r);break;case"input":kx(r,i),Mn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mn("invalid",r);break;case"textarea":Cx(r,i),Mn("invalid",r)}e0(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&ip(r.textContent,u,e),o=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&ip(r.textContent,u,e),o=["children",""+u]):vd.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&Mn("scroll",r)}switch(n){case"input":Jh(r),Px(r,i,!0);break;case"textarea":Jh(r),Tx(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=fm)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=pP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[qi]=t,e[Pd]=r,FC(e,t,!1,!1),t.stateNode=e;e:{switch(s=t0(n,r),n){case"dialog":Mn("cancel",e),Mn("close",e),o=r;break;case"iframe":case"object":case"embed":Mn("load",e),o=r;break;case"video":case"audio":for(o=0;o<$f.length;o++)Mn($f[o],e);o=r;break;case"source":Mn("error",e),o=r;break;case"img":case"image":case"link":Mn("error",e),Mn("load",e),o=r;break;case"details":Mn("toggle",e),o=r;break;case"input":kx(e,r),o=Yy(e,r),Mn("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=Jn({},r,{value:void 0}),Mn("invalid",e);break;case"textarea":Cx(e,r),o=Qy(e,r),Mn("invalid",e);break;default:o=r}e0(n,o),u=o;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?gP(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&mP(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&gd(e,c):typeof c=="number"&&gd(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(vd.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Mn("scroll",e):c!=null&&Hb(e,i,c,s))}switch(n){case"input":Jh(e),Px(e,r,!1);break;case"textarea":Jh(e),Tx(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Rs(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?qu(e,!!r.multiple,i,!1):r.defaultValue!=null&&qu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=fm)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Vr(t),null;case 6:if(e&&t.stateNode!=null)BC(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(qe(166));if(n=_l(Td.current),_l(Qi.current),ap(t)){if(r=t.stateNode,n=t.memoizedProps,r[qi]=t,(i=r.nodeValue!==n)&&(e=Lo,e!==null))switch(e.tag){case 3:ip(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ip(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[qi]=t,t.stateNode=r}return Vr(t),null;case 13:if(Fn(Yn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Un&&Io!==null&&t.mode&1&&!(t.flags&128))oC(),ac(),t.flags|=98560,i=!1;else if(i=ap(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(qe(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(qe(317));i[qi]=t}else ac(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Vr(t),i=!1}else Ci!==null&&(D0(Ci),Ci=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Yn.current&1?xr===0&&(xr=3):Pw())),t.updateQueue!==null&&(t.flags|=4),Vr(t),null);case 4:return lc(),C0(e,t),e===null&&_d(t.stateNode.containerInfo),Vr(t),null;case 10:return uw(t.type._context),Vr(t),null;case 17:return wo(t.type)&&dm(),Vr(t),null;case 19:if(Fn(Yn),i=t.memoizedState,i===null)return Vr(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Ef(i,!1);else{if(xr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=bm(e),s!==null){for(t.flags|=128,Ef(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return In(Yn,Yn.current&1|2),t.child}e=e.sibling}i.tail!==null&&ur()>cc&&(t.flags|=128,r=!0,Ef(i,!1),t.lanes=4194304)}else{if(!r)if(e=bm(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ef(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Un)return Vr(t),null}else 2*ur()-i.renderingStartTime>cc&&n!==1073741824&&(t.flags|=128,r=!0,Ef(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=ur(),t.sibling=null,n=Yn.current,In(Yn,r?n&1|2:n&1),t):(Vr(t),null);case 22:case 23:return kw(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?jo&1073741824&&(Vr(t),t.subtreeFlags&6&&(t.flags|=8192)):Vr(t),null;case 24:return null;case 25:return null}throw Error(qe(156,t.tag))}function y2(e,t){switch(iw(t),t.tag){case 1:return wo(t.type)&&dm(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return lc(),Fn(bo),Fn(Jr),pw(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return hw(t),null;case 13:if(Fn(Yn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(qe(340));ac()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fn(Yn),null;case 4:return lc(),null;case 10:return uw(t.type._context),null;case 22:case 23:return kw(),null;case 24:return null;default:return null}}var up=!1,qr=!1,b2=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Uu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tr(e,t,r)}else n.current=null}function T0(e,t,n){try{n()}catch(r){tr(e,t,r)}}var gS=!1;function w2(e,t){if(f0=lm,e=WP(),rw(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,f=0,d=0,m=e,g=null;t:for(;;){for(var x;m!==n||o!==0&&m.nodeType!==3||(u=s+o),m!==i||r!==0&&m.nodeType!==3||(c=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(x=m.firstChild)!==null;)g=m,m=x;for(;;){if(m===e)break t;if(g===n&&++f===o&&(u=s),g===i&&++d===r&&(c=s),(x=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=x}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(d0={focusedElem:e,selectionRange:n},lm=!1,dt=t;dt!==null;)if(t=dt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,dt=e;else for(;dt!==null;){t=dt;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,P=y.memoizedState,k=t.stateNode,C=k.getSnapshotBeforeUpdate(t.elementType===t.type?_:Si(t.type,_),P);k.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(A){tr(t,t.return,A)}if(e=t.sibling,e!==null){e.return=t.return,dt=e;break}dt=t.return}return y=gS,gS=!1,y}function ed(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&T0(t,n,i)}o=o.next}while(o!==r)}}function av(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function N0(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function UC(e){var t=e.alternate;t!==null&&(e.alternate=null,UC(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[qi],delete t[Pd],delete t[m0],delete t[n2],delete t[r2])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function KC(e){return e.tag===5||e.tag===3||e.tag===4}function yS(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||KC(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function O0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=fm));else if(r!==4&&(e=e.child,e!==null))for(O0(e,t,n),e=e.sibling;e!==null;)O0(e,t,n),e=e.sibling}function R0(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(R0(e,t,n),e=e.sibling;e!==null;)R0(e,t,n),e=e.sibling}var Dr=null,_i=!1;function as(e,t,n){for(n=n.child;n!==null;)HC(e,t,n),n=n.sibling}function HC(e,t,n){if(Ji&&typeof Ji.onCommitFiberUnmount=="function")try{Ji.onCommitFiberUnmount(Qm,n)}catch{}switch(n.tag){case 5:qr||Uu(n,t);case 6:var r=Dr,o=_i;Dr=null,as(e,t,n),Dr=r,_i=o,Dr!==null&&(_i?(e=Dr,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Dr.removeChild(n.stateNode));break;case 18:Dr!==null&&(_i?(e=Dr,n=n.stateNode,e.nodeType===8?Zg(e.parentNode,n):e.nodeType===1&&Zg(e,n),Ed(e)):Zg(Dr,n.stateNode));break;case 4:r=Dr,o=_i,Dr=n.stateNode.containerInfo,_i=!0,as(e,t,n),Dr=r,_i=o;break;case 0:case 11:case 14:case 15:if(!qr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&T0(n,t,s),o=o.next}while(o!==r)}as(e,t,n);break;case 1:if(!qr&&(Uu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){tr(n,t,u)}as(e,t,n);break;case 21:as(e,t,n);break;case 22:n.mode&1?(qr=(r=qr)||n.memoizedState!==null,as(e,t,n),qr=r):as(e,t,n);break;default:as(e,t,n)}}function bS(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new b2),t.forEach(function(r){var o=N2.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function wi(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Dr=u.stateNode,_i=!1;break e;case 3:Dr=u.stateNode.containerInfo,_i=!0;break e;case 4:Dr=u.stateNode.containerInfo,_i=!0;break e}u=u.return}if(Dr===null)throw Error(qe(160));HC(i,s,o),Dr=null,_i=!1;var c=o.alternate;c!==null&&(c.return=null),o.return=null}catch(f){tr(o,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)WC(t,e),t=t.sibling}function WC(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(wi(t,e),Ki(e),r&4){try{ed(3,e,e.return),av(3,e)}catch(_){tr(e,e.return,_)}try{ed(5,e,e.return)}catch(_){tr(e,e.return,_)}}break;case 1:wi(t,e),Ki(e),r&512&&n!==null&&Uu(n,n.return);break;case 5:if(wi(t,e),Ki(e),r&512&&n!==null&&Uu(n,n.return),e.flags&32){var o=e.stateNode;try{gd(o,"")}catch(_){tr(e,e.return,_)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&dP(o,i),t0(u,s);var f=t0(u,i);for(s=0;s<c.length;s+=2){var d=c[s],m=c[s+1];d==="style"?gP(o,m):d==="dangerouslySetInnerHTML"?mP(o,m):d==="children"?gd(o,m):Hb(o,d,m,f)}switch(u){case"input":Xy(o,i);break;case"textarea":hP(o,i);break;case"select":var g=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var x=i.value;x!=null?qu(o,!!i.multiple,x,!1):g!==!!i.multiple&&(i.defaultValue!=null?qu(o,!!i.multiple,i.defaultValue,!0):qu(o,!!i.multiple,i.multiple?[]:"",!1))}o[Pd]=i}catch(_){tr(e,e.return,_)}}break;case 6:if(wi(t,e),Ki(e),r&4){if(e.stateNode===null)throw Error(qe(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(_){tr(e,e.return,_)}}break;case 3:if(wi(t,e),Ki(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ed(t.containerInfo)}catch(_){tr(e,e.return,_)}break;case 4:wi(t,e),Ki(e);break;case 13:wi(t,e),Ki(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Sw=ur())),r&4&&bS(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(qr=(f=qr)||d,wi(t,e),qr=f):wi(t,e),Ki(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!d&&e.mode&1)for(dt=e,d=e.child;d!==null;){for(m=dt=d;dt!==null;){switch(g=dt,x=g.child,g.tag){case 0:case 11:case 14:case 15:ed(4,g,g.return);break;case 1:Uu(g,g.return);var y=g.stateNode;if(typeof y.componentWillUnmount=="function"){r=g,n=g.return;try{t=r,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(_){tr(r,n,_)}}break;case 5:Uu(g,g.return);break;case 22:if(g.memoizedState!==null){ES(m);continue}}x!==null?(x.return=g,dt=x):ES(m)}d=d.sibling}e:for(d=null,m=e;;){if(m.tag===5){if(d===null){d=m;try{o=m.stateNode,f?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,c=m.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=vP("display",s))}catch(_){tr(e,e.return,_)}}}else if(m.tag===6){if(d===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(_){tr(e,e.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:wi(t,e),Ki(e),r&4&&bS(e);break;case 21:break;default:wi(t,e),Ki(e)}}function Ki(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(KC(n)){var r=n;break e}n=n.return}throw Error(qe(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(gd(o,""),r.flags&=-33);var i=yS(e);R0(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=yS(e);O0(e,u,s);break;default:throw Error(qe(161))}}catch(c){tr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function E2(e,t,n){dt=e,VC(e)}function VC(e,t,n){for(var r=(e.mode&1)!==0;dt!==null;){var o=dt,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||up;if(!s){var u=o.alternate,c=u!==null&&u.memoizedState!==null||qr;u=up;var f=qr;if(up=s,(qr=c)&&!f)for(dt=o;dt!==null;)s=dt,c=s.child,s.tag===22&&s.memoizedState!==null?xS(o):c!==null?(c.return=s,dt=c):xS(o);for(;i!==null;)dt=i,VC(i),i=i.sibling;dt=o,up=u,qr=f}wS(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,dt=i):wS(e)}}function wS(e){for(;dt!==null;){var t=dt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:qr||av(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!qr)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Si(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&rS(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rS(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var d=f.memoizedState;if(d!==null){var m=d.dehydrated;m!==null&&Ed(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}qr||t.flags&512&&N0(t)}catch(g){tr(t,t.return,g)}}if(t===e){dt=null;break}if(n=t.sibling,n!==null){n.return=t.return,dt=n;break}dt=t.return}}function ES(e){for(;dt!==null;){var t=dt;if(t===e){dt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,dt=n;break}dt=t.return}}function xS(e){for(;dt!==null;){var t=dt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{av(4,t)}catch(c){tr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(c){tr(t,o,c)}}var i=t.return;try{N0(t)}catch(c){tr(t,i,c)}break;case 5:var s=t.return;try{N0(t)}catch(c){tr(t,s,c)}}}catch(c){tr(t,t.return,c)}if(t===e){dt=null;break}var u=t.sibling;if(u!==null){u.return=t.return,dt=u;break}dt=t.return}}var x2=Math.ceil,xm=Ua.ReactCurrentDispatcher,Ew=Ua.ReactCurrentOwner,oi=Ua.ReactCurrentBatchConfig,pn=0,Tr=null,mr=null,Lr=0,jo=0,Ku=Ls(0),xr=0,jd=null,Dl=0,sv=0,xw=0,td=null,go=null,Sw=0,cc=1/0,Ea=null,Sm=!1,j0=null,Cs=null,cp=!1,vs=null,_m=0,nd=0,A0=null,Up=-1,Kp=0;function io(){return pn&6?ur():Up!==-1?Up:Up=ur()}function Ts(e){return e.mode&1?pn&2&&Lr!==0?Lr&-Lr:i2.transition!==null?(Kp===0&&(Kp=NP()),Kp):(e=Sn,e!==0||(e=window.event,e=e===void 0?16:LP(e.type)),e):1}function ji(e,t,n,r){if(50<nd)throw nd=0,A0=null,Error(qe(185));Wd(e,n,r),(!(pn&2)||e!==Tr)&&(e===Tr&&(!(pn&2)&&(sv|=n),xr===4&&hs(e,Lr)),Eo(e,r),n===1&&pn===0&&!(t.mode&1)&&(cc=ur()+500,rv&&Ms()))}function Eo(e,t){var n=e.callbackNode;i$(e,t);var r=sm(e,e===Tr?Lr:0);if(r===0)n!==null&&Rx(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Rx(n),t===1)e.tag===0?o2(SS.bind(null,e)):tC(SS.bind(null,e)),e2(function(){!(pn&6)&&Ms()}),n=null;else{switch(OP(r)){case 1:n=Yb;break;case 4:n=CP;break;case 16:n=am;break;case 536870912:n=TP;break;default:n=am}n=eT(n,GC.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function GC(e,t){if(Up=-1,Kp=0,pn&6)throw Error(qe(327));var n=e.callbackNode;if(Zu()&&e.callbackNode!==n)return null;var r=sm(e,e===Tr?Lr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=km(e,r);else{t=r;var o=pn;pn|=2;var i=YC();(Tr!==e||Lr!==t)&&(Ea=null,cc=ur()+500,Cl(e,t));do try{k2();break}catch(u){qC(e,u)}while(!0);lw(),xm.current=i,pn=o,mr!==null?t=0:(Tr=null,Lr=0,t=xr)}if(t!==0){if(t===2&&(o=a0(e),o!==0&&(r=o,t=I0(e,o))),t===1)throw n=jd,Cl(e,0),hs(e,r),Eo(e,ur()),n;if(t===6)hs(e,r);else{if(o=e.current.alternate,!(r&30)&&!S2(o)&&(t=km(e,r),t===2&&(i=a0(e),i!==0&&(r=i,t=I0(e,i))),t===1))throw n=jd,Cl(e,0),hs(e,r),Eo(e,ur()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(qe(345));case 2:ml(e,go,Ea);break;case 3:if(hs(e,r),(r&130023424)===r&&(t=Sw+500-ur(),10<t)){if(sm(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){io(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=p0(ml.bind(null,e,go,Ea),t);break}ml(e,go,Ea);break;case 4:if(hs(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-Ri(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=ur()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*x2(r/1960))-r,10<r){e.timeoutHandle=p0(ml.bind(null,e,go,Ea),r);break}ml(e,go,Ea);break;case 5:ml(e,go,Ea);break;default:throw Error(qe(329))}}}return Eo(e,ur()),e.callbackNode===n?GC.bind(null,e):null}function I0(e,t){var n=td;return e.current.memoizedState.isDehydrated&&(Cl(e,t).flags|=256),e=km(e,t),e!==2&&(t=go,go=n,t!==null&&D0(t)),e}function D0(e){go===null?go=e:go.push.apply(go,e)}function S2(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Ai(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function hs(e,t){for(t&=~xw,t&=~sv,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ri(t),r=1<<n;e[n]=-1,t&=~r}}function SS(e){if(pn&6)throw Error(qe(327));Zu();var t=sm(e,0);if(!(t&1))return Eo(e,ur()),null;var n=km(e,t);if(e.tag!==0&&n===2){var r=a0(e);r!==0&&(t=r,n=I0(e,r))}if(n===1)throw n=jd,Cl(e,0),hs(e,t),Eo(e,ur()),n;if(n===6)throw Error(qe(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ml(e,go,Ea),Eo(e,ur()),null}function _w(e,t){var n=pn;pn|=1;try{return e(t)}finally{pn=n,pn===0&&(cc=ur()+500,rv&&Ms())}}function Ll(e){vs!==null&&vs.tag===0&&!(pn&6)&&Zu();var t=pn;pn|=1;var n=oi.transition,r=Sn;try{if(oi.transition=null,Sn=1,e)return e()}finally{Sn=r,oi.transition=n,pn=t,!(pn&6)&&Ms()}}function kw(){jo=Ku.current,Fn(Ku)}function Cl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Z$(n)),mr!==null)for(n=mr.return;n!==null;){var r=n;switch(iw(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dm();break;case 3:lc(),Fn(bo),Fn(Jr),pw();break;case 5:hw(r);break;case 4:lc();break;case 13:Fn(Yn);break;case 19:Fn(Yn);break;case 10:uw(r.type._context);break;case 22:case 23:kw()}n=n.return}if(Tr=e,mr=e=Ns(e.current,null),Lr=jo=t,xr=0,jd=null,xw=sv=Dl=0,go=td=null,Sl!==null){for(t=0;t<Sl.length;t++)if(n=Sl[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Sl=null}return e}function qC(e,t){do{var n=mr;try{if(lw(),Fp.current=Em,wm){for(var r=Xn.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}wm=!1}if(Il=0,Cr=wr=Xn=null,Zf=!1,Nd=0,Ew.current=null,n===null||n.return===null){xr=1,jd=t,mr=null;break}e:{var i=e,s=n.return,u=n,c=t;if(t=Lr,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,d=u,m=d.tag;if(!(d.mode&1)&&(m===0||m===11||m===15)){var g=d.alternate;g?(d.updateQueue=g.updateQueue,d.memoizedState=g.memoizedState,d.lanes=g.lanes):(d.updateQueue=null,d.memoizedState=null)}var x=cS(s);if(x!==null){x.flags&=-257,fS(x,s,u,i,t),x.mode&1&&uS(i,f,t),t=x,c=f;var y=t.updateQueue;if(y===null){var _=new Set;_.add(c),t.updateQueue=_}else y.add(c);break e}else{if(!(t&1)){uS(i,f,t),Pw();break e}c=Error(qe(426))}}else if(Un&&u.mode&1){var P=cS(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),fS(P,s,u,i,t),aw(uc(c,u));break e}}i=c=uc(c,u),xr!==4&&(xr=2),td===null?td=[i]:td.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var k=RC(i,c,t);nS(i,k);break e;case 1:u=c;var C=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof C.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Cs===null||!Cs.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var A=jC(i,u,t);nS(i,A);break e}}i=i.return}while(i!==null)}JC(n)}catch(K){t=K,mr===n&&n!==null&&(mr=n=n.return);continue}break}while(!0)}function YC(){var e=xm.current;return xm.current=Em,e===null?Em:e}function Pw(){(xr===0||xr===3||xr===2)&&(xr=4),Tr===null||!(Dl&268435455)&&!(sv&268435455)||hs(Tr,Lr)}function km(e,t){var n=pn;pn|=2;var r=YC();(Tr!==e||Lr!==t)&&(Ea=null,Cl(e,t));do try{_2();break}catch(o){qC(e,o)}while(!0);if(lw(),pn=n,xm.current=r,mr!==null)throw Error(qe(261));return Tr=null,Lr=0,xr}function _2(){for(;mr!==null;)XC(mr)}function k2(){for(;mr!==null&&!XF();)XC(mr)}function XC(e){var t=ZC(e.alternate,e,jo);e.memoizedProps=e.pendingProps,t===null?JC(e):mr=t,Ew.current=null}function JC(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=y2(n,t),n!==null){n.flags&=32767,mr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{xr=6,mr=null;return}}else if(n=g2(n,t,jo),n!==null){mr=n;return}if(t=t.sibling,t!==null){mr=t;return}mr=t=e}while(t!==null);xr===0&&(xr=5)}function ml(e,t,n){var r=Sn,o=oi.transition;try{oi.transition=null,Sn=1,P2(e,t,n,r)}finally{oi.transition=o,Sn=r}return null}function P2(e,t,n,r){do Zu();while(vs!==null);if(pn&6)throw Error(qe(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(qe(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(a$(e,i),e===Tr&&(mr=Tr=null,Lr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cp||(cp=!0,eT(am,function(){return Zu(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=oi.transition,oi.transition=null;var s=Sn;Sn=1;var u=pn;pn|=4,Ew.current=null,w2(e,n),WC(n,e),V$(d0),lm=!!f0,d0=f0=null,e.current=n,E2(n),JF(),pn=u,Sn=s,oi.transition=i}else e.current=n;if(cp&&(cp=!1,vs=e,_m=o),i=e.pendingLanes,i===0&&(Cs=null),e$(n.stateNode),Eo(e,ur()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Sm)throw Sm=!1,e=j0,j0=null,e;return _m&1&&e.tag!==0&&Zu(),i=e.pendingLanes,i&1?e===A0?nd++:(nd=0,A0=e):nd=0,Ms(),null}function Zu(){if(vs!==null){var e=OP(_m),t=oi.transition,n=Sn;try{if(oi.transition=null,Sn=16>e?16:e,vs===null)var r=!1;else{if(e=vs,vs=null,_m=0,pn&6)throw Error(qe(331));var o=pn;for(pn|=4,dt=e.current;dt!==null;){var i=dt,s=i.child;if(dt.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(dt=f;dt!==null;){var d=dt;switch(d.tag){case 0:case 11:case 15:ed(8,d,i)}var m=d.child;if(m!==null)m.return=d,dt=m;else for(;dt!==null;){d=dt;var g=d.sibling,x=d.return;if(UC(d),d===f){dt=null;break}if(g!==null){g.return=x,dt=g;break}dt=x}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var P=_.sibling;_.sibling=null,_=P}while(_!==null)}}dt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,dt=s;else e:for(;dt!==null;){if(i=dt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:ed(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,dt=k;break e}dt=i.return}}var C=e.current;for(dt=C;dt!==null;){s=dt;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,dt=S;else e:for(s=C;dt!==null;){if(u=dt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:av(9,u)}}catch(K){tr(u,u.return,K)}if(u===s){dt=null;break e}var A=u.sibling;if(A!==null){A.return=u.return,dt=A;break e}dt=u.return}}if(pn=o,Ms(),Ji&&typeof Ji.onPostCommitFiberRoot=="function")try{Ji.onPostCommitFiberRoot(Qm,e)}catch{}r=!0}return r}finally{Sn=n,oi.transition=t}}return!1}function _S(e,t,n){t=uc(n,t),t=RC(e,t,1),e=Ps(e,t,1),t=io(),e!==null&&(Wd(e,1,t),Eo(e,t))}function tr(e,t,n){if(e.tag===3)_S(e,e,n);else for(;t!==null;){if(t.tag===3){_S(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cs===null||!Cs.has(r))){e=uc(n,e),e=jC(t,e,1),t=Ps(t,e,1),e=io(),t!==null&&(Wd(t,1,e),Eo(t,e));break}}t=t.return}}function C2(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=io(),e.pingedLanes|=e.suspendedLanes&n,Tr===e&&(Lr&n)===n&&(xr===4||xr===3&&(Lr&130023424)===Lr&&500>ur()-Sw?Cl(e,0):xw|=n),Eo(e,t)}function QC(e,t){t===0&&(e.mode&1?(t=ep,ep<<=1,!(ep&130023424)&&(ep=4194304)):t=1);var n=io();e=za(e,t),e!==null&&(Wd(e,t,n),Eo(e,n))}function T2(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),QC(e,n)}function N2(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(qe(314))}r!==null&&r.delete(t),QC(e,n)}var ZC;ZC=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||bo.current)yo=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return yo=!1,v2(e,t,n);yo=!!(e.flags&131072)}else yo=!1,Un&&t.flags&1048576&&nC(t,mm,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Bp(e,t),e=t.pendingProps;var o=ic(t,Jr.current);Qu(t,n),o=vw(null,t,r,e,o,n);var i=gw();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wo(r)?(i=!0,hm(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,fw(t),o.updater=ov,t.stateNode=o,o._reactInternals=t,E0(t,r,e,n),t=_0(null,t,r,!0,i,n)):(t.tag=0,Un&&i&&ow(t),oo(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Bp(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=R2(r),e=Si(r,e),o){case 0:t=S0(null,t,r,e,n);break e;case 1:t=pS(null,t,r,e,n);break e;case 11:t=dS(null,t,r,e,n);break e;case 14:t=hS(null,t,r,Si(r.type,e),n);break e}throw Error(qe(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Si(r,o),S0(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Si(r,o),pS(e,t,r,o,n);case 3:e:{if(LC(t),e===null)throw Error(qe(387));r=t.pendingProps,i=t.memoizedState,o=i.element,aC(e,t),ym(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=uc(Error(qe(423)),t),t=mS(e,t,r,n,o);break e}else if(r!==o){o=uc(Error(qe(424)),t),t=mS(e,t,r,n,o);break e}else for(Io=ks(t.stateNode.containerInfo.firstChild),Lo=t,Un=!0,Ci=null,n=cC(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ac(),r===o){t=Fa(e,t,n);break e}oo(e,t,r,n)}t=t.child}return t;case 5:return fC(t),e===null&&y0(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,h0(r,o)?s=null:i!==null&&h0(r,i)&&(t.flags|=32),DC(e,t),oo(e,t,s,n),t.child;case 6:return e===null&&y0(t),null;case 13:return MC(e,t,n);case 4:return dw(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=sc(t,null,r,n):oo(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Si(r,o),dS(e,t,r,o,n);case 7:return oo(e,t,t.pendingProps,n),t.child;case 8:return oo(e,t,t.pendingProps.children,n),t.child;case 12:return oo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,In(vm,r._currentValue),r._currentValue=s,i!==null)if(Ai(i.value,s)){if(i.children===o.children&&!bo.current){t=Fa(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=Oa(-1,n&-n),c.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var d=f.pending;d===null?c.next=c:(c.next=d.next,d.next=c),f.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),b0(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(qe(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),b0(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}oo(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Qu(t,n),o=ii(o),r=r(o),t.flags|=1,oo(e,t,r,n),t.child;case 14:return r=t.type,o=Si(r,t.pendingProps),o=Si(r.type,o),hS(e,t,r,o,n);case 15:return AC(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:Si(r,o),Bp(e,t),t.tag=1,wo(r)?(e=!0,hm(t)):e=!1,Qu(t,n),lC(t,r,o),E0(t,r,o,n),_0(null,t,r,!0,e,n);case 19:return zC(e,t,n);case 22:return IC(e,t,n)}throw Error(qe(156,t.tag))};function eT(e,t){return PP(e,t)}function O2(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ri(e,t,n,r){return new O2(e,t,n,r)}function Cw(e){return e=e.prototype,!(!e||!e.isReactComponent)}function R2(e){if(typeof e=="function")return Cw(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Vb)return 11;if(e===Gb)return 14}return 2}function Ns(e,t){var n=e.alternate;return n===null?(n=ri(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Hp(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")Cw(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Au:return Tl(n.children,o,i,t);case Wb:s=8,o|=8;break;case Wy:return e=ri(12,n,t,o|2),e.elementType=Wy,e.lanes=i,e;case Vy:return e=ri(13,n,t,o),e.elementType=Vy,e.lanes=i,e;case Gy:return e=ri(19,n,t,o),e.elementType=Gy,e.lanes=i,e;case uP:return lv(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sP:s=10;break e;case lP:s=9;break e;case Vb:s=11;break e;case Gb:s=14;break e;case ls:s=16,r=null;break e}throw Error(qe(130,e==null?e:typeof e,""))}return t=ri(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Tl(e,t,n,r){return e=ri(7,e,r,t),e.lanes=n,e}function lv(e,t,n,r){return e=ri(22,e,r,t),e.elementType=uP,e.lanes=n,e.stateNode={isHidden:!1},e}function sy(e,t,n){return e=ri(6,e,null,t),e.lanes=n,e}function ly(e,t,n){return t=ri(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j2(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ug(0),this.expirationTimes=Ug(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ug(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Tw(e,t,n,r,o,i,s,u,c){return e=new j2(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=ri(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},fw(i),e}function A2(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ju,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function tT(e){if(!e)return js;e=e._reactInternals;e:{if(Wl(e)!==e||e.tag!==1)throw Error(qe(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wo(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(qe(171))}if(e.tag===1){var n=e.type;if(wo(n))return eC(e,n,t)}return t}function nT(e,t,n,r,o,i,s,u,c){return e=Tw(n,r,!0,e,o,i,s,u,c),e.context=tT(null),n=e.current,r=io(),o=Ts(n),i=Oa(r,o),i.callback=t??null,Ps(n,i,o),e.current.lanes=o,Wd(e,o,r),Eo(e,r),e}function uv(e,t,n,r){var o=t.current,i=io(),s=Ts(o);return n=tT(n),t.context===null?t.context=n:t.pendingContext=n,t=Oa(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Ps(o,t,s),e!==null&&(ji(e,o,s,i),zp(e,o,s)),s}function Pm(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function kS(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Nw(e,t){kS(e,t),(e=e.alternate)&&kS(e,t)}function I2(){return null}var rT=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ow(e){this._internalRoot=e}cv.prototype.render=Ow.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(qe(409));uv(e,t,null,null)};cv.prototype.unmount=Ow.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ll(function(){uv(null,e,null,null)}),t[Ma]=null}};function cv(e){this._internalRoot=e}cv.prototype.unstable_scheduleHydration=function(e){if(e){var t=AP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<ds.length&&t!==0&&t<ds[n].priority;n++);ds.splice(n,0,e),n===0&&DP(e)}};function Rw(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function fv(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function PS(){}function D2(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var f=Pm(s);i.call(f)}}var s=nT(t,r,e,0,null,!1,!1,"",PS);return e._reactRootContainer=s,e[Ma]=s.current,_d(e.nodeType===8?e.parentNode:e),Ll(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var u=r;r=function(){var f=Pm(c);u.call(f)}}var c=Tw(e,0,!1,null,null,!1,!1,"",PS);return e._reactRootContainer=c,e[Ma]=c.current,_d(e.nodeType===8?e.parentNode:e),Ll(function(){uv(t,c,n,r)}),c}function dv(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var u=o;o=function(){var c=Pm(s);u.call(c)}}uv(t,s,e,o)}else s=D2(n,t,e,o,r);return Pm(s)}RP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ff(t.pendingLanes);n!==0&&(Xb(t,n|1),Eo(t,ur()),!(pn&6)&&(cc=ur()+500,Ms()))}break;case 13:Ll(function(){var r=za(e,1);if(r!==null){var o=io();ji(r,e,1,o)}}),Nw(e,1)}};Jb=function(e){if(e.tag===13){var t=za(e,134217728);if(t!==null){var n=io();ji(t,e,134217728,n)}Nw(e,134217728)}};jP=function(e){if(e.tag===13){var t=Ts(e),n=za(e,t);if(n!==null){var r=io();ji(n,e,t,r)}Nw(e,t)}};AP=function(){return Sn};IP=function(e,t){var n=Sn;try{return Sn=e,t()}finally{Sn=n}};r0=function(e,t,n){switch(t){case"input":if(Xy(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=nv(r);if(!o)throw Error(qe(90));fP(r),Xy(r,o)}}}break;case"textarea":hP(e,n);break;case"select":t=n.value,t!=null&&qu(e,!!n.multiple,t,!1)}};wP=_w;EP=Ll;var L2={usingClientEntryPoint:!1,Events:[Gd,Mu,nv,yP,bP,_w]},xf={findFiberByHostInstance:xl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},M2={bundleType:xf.bundleType,version:xf.version,rendererPackageName:xf.rendererPackageName,rendererConfig:xf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_P(e),e===null?null:e.stateNode},findFiberByHostInstance:xf.findFiberByHostInstance||I2,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fp.isDisabled&&fp.supportsFiber)try{Qm=fp.inject(M2),Ji=fp}catch{}}$o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L2;$o.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rw(t))throw Error(qe(200));return A2(e,t,null,n)};$o.createRoot=function(e,t){if(!Rw(e))throw Error(qe(299));var n=!1,r="",o=rT;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Tw(e,1,!1,null,null,n,!1,r,o),e[Ma]=t.current,_d(e.nodeType===8?e.parentNode:e),new Ow(t)};$o.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(qe(188)):(e=Object.keys(e).join(","),Error(qe(268,e)));return e=_P(t),e=e===null?null:e.stateNode,e};$o.flushSync=function(e){return Ll(e)};$o.hydrate=function(e,t,n){if(!fv(t))throw Error(qe(200));return dv(null,e,t,!0,n)};$o.hydrateRoot=function(e,t,n){if(!Rw(e))throw Error(qe(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=rT;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=nT(t,null,e,1,n??null,o,!1,i,s),e[Ma]=t.current,_d(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new cv(t)};$o.render=function(e,t,n){if(!fv(t))throw Error(qe(200));return dv(null,e,t,!1,n)};$o.unmountComponentAtNode=function(e){if(!fv(e))throw Error(qe(40));return e._reactRootContainer?(Ll(function(){dv(null,null,e,!1,function(){e._reactRootContainer=null,e[Ma]=null})}),!0):!1};$o.unstable_batchedUpdates=_w;$o.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!fv(n))throw Error(qe(200));if(e==null||e._reactInternals===void 0)throw Error(qe(38));return dv(e,t,n,!1,r)};$o.version="18.2.0-next-9e3b772b8-20220608";function oT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(oT)}catch(e){console.error(e)}}oT(),nP.exports=$o;var jw=nP.exports;const gs=Kl(jw),z2=Hk({__proto__:null,default:gs},[jw]);var iT,CS=jw;iT=CS.createRoot,CS.hydrateRoot;/**
 * @remix-run/router v1.15.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nr(){return nr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nr.apply(this,arguments)}var lr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(lr||(lr={}));const TS="popstate";function F2(e){e===void 0&&(e={});function t(o,i){let{pathname:s="/",search:u="",hash:c=""}=ia(o.location.hash.substr(1));return!s.startsWith("/")&&!s.startsWith(".")&&(s="/"+s),Ad("",{pathname:s,search:u,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(o,i){let s=o.document.querySelector("base"),u="";if(s&&s.getAttribute("href")){let c=o.location.href,f=c.indexOf("#");u=f===-1?c:c.slice(0,f)}return u+"#"+(typeof i=="string"?i:zl(i))}function r(o,i){Ml(o.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return B2(t,n,r,e)}function rn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ml(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $2(){return Math.random().toString(36).substr(2,8)}function NS(e,t){return{usr:e.state,key:e.key,idx:t}}function Ad(e,t,n,r){return n===void 0&&(n=null),nr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ia(t):t,{state:n,key:t&&t.key||r||$2()})}function zl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ia(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function B2(e,t,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,u=lr.Pop,c=null,f=d();f==null&&(f=0,s.replaceState(nr({},s.state,{idx:f}),""));function d(){return(s.state||{idx:null}).idx}function m(){u=lr.Pop;let P=d(),k=P==null?null:P-f;f=P,c&&c({action:u,location:_.location,delta:k})}function g(P,k){u=lr.Push;let C=Ad(_.location,P,k);n&&n(C,P),f=d()+1;let S=NS(C,f),A=_.createHref(C);try{s.pushState(S,"",A)}catch(K){if(K instanceof DOMException&&K.name==="DataCloneError")throw K;o.location.assign(A)}i&&c&&c({action:u,location:_.location,delta:1})}function x(P,k){u=lr.Replace;let C=Ad(_.location,P,k);n&&n(C,P),f=d();let S=NS(C,f),A=_.createHref(C);s.replaceState(S,"",A),i&&c&&c({action:u,location:_.location,delta:0})}function y(P){let k=o.location.origin!=="null"?o.location.origin:o.location.href,C=typeof P=="string"?P:zl(P);return C=C.replace(/ $/,"%20"),rn(k,"No window.location.(origin|href) available to create URL for href: "+C),new URL(C,k)}let _={get action(){return u},get location(){return e(o,s)},listen(P){if(c)throw new Error("A history only accepts one active listener");return o.addEventListener(TS,m),c=P,()=>{o.removeEventListener(TS,m),c=null}},createHref(P){return t(o,P)},createURL:y,encodeLocation(P){let k=y(P);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:g,replace:x,go(P){return s.go(P)}};return _}var er;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(er||(er={}));const U2=new Set(["lazy","caseSensitive","path","id","index","children"]);function K2(e){return e.index===!0}function L0(e,t,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),e.map((o,i)=>{let s=[...n,i],u=typeof o.id=="string"?o.id:s.join("-");if(rn(o.index!==!0||!o.children,"Cannot specify children on an index route"),rn(!r[u],'Found a route id collision on id "'+u+`".  Route id's must be globally unique within Data Router usages`),K2(o)){let c=nr({},o,t(o),{id:u});return r[u]=c,c}else{let c=nr({},o,t(o),{id:u,children:void 0});return r[u]=c,o.children&&(c.children=L0(o.children,t,s,r)),c}})}function Hu(e,t,n){n===void 0&&(n="/");let r=typeof t=="string"?ia(t):t,o=Tc(r.pathname||"/",n);if(o==null)return null;let i=aT(e);W2(i);let s=null;for(let u=0;s==null&&u<i.length;++u){let c=rB(o);s=eB(i[u],c)}return s}function H2(e,t){let{route:n,pathname:r,params:o}=e;return{id:n.id,pathname:r,params:o,data:t[n.id],handle:n.handle}}function aT(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(rn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=Ra([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(rn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),aT(i.children,t,d,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:Q2(f,i.index),routesMeta:d})};return e.forEach((i,s)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))o(i,s);else for(let c of sT(i.path))o(i,s,c)}),t}function sT(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=sT(r.join("/")),u=[];return u.push(...s.map(c=>c===""?i:[i,c].join("/"))),o&&u.push(...s),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function W2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Z2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V2=/^:[\w-]+$/,G2=3,q2=2,Y2=1,X2=10,J2=-2,OS=e=>e==="*";function Q2(e,t){let n=e.split("/"),r=n.length;return n.some(OS)&&(r+=J2),t&&(r+=q2),n.filter(o=>!OS(o)).reduce((o,i)=>o+(V2.test(i)?G2:i===""?Y2:X2),r)}function Z2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,o)=>r===t[o])?e[e.length-1]-t[t.length-1]:0}function eB(e,t){let{routesMeta:n}=e,r={},o="/",i=[];for(let s=0;s<n.length;++s){let u=n[s],c=s===n.length-1,f=o==="/"?t:t.slice(o.length)||"/",d=tB({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f);if(!d)return null;Object.assign(r,d.params);let m=u.route;i.push({params:r,pathname:Ra([o,d.pathname]),pathnameBase:aB(Ra([o,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(o=Ra([o,d.pathnameBase]))}return i}function tB(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=nB(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),u=o.slice(1);return{params:r.reduce((f,d,m)=>{let{paramName:g,isOptional:x}=d;if(g==="*"){let _=u[m]||"";s=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const y=u[m];return x&&!y?f[g]=void 0:f[g]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:s,pattern:e}}function nB(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),Ml(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),r]}function rB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ml(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Tc(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function oB(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:o=""}=typeof e=="string"?ia(e):e;return{pathname:n?n.startsWith("/")?n:iB(n,t):t,search:sB(r),hash:lB(o)}}function iB(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function uy(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function lT(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Aw(e,t){let n=lT(e);return t?n.map((r,o)=>o===e.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Iw(e,t,n,r){r===void 0&&(r=!1);let o;typeof e=="string"?o=ia(e):(o=nr({},e),rn(!o.pathname||!o.pathname.includes("?"),uy("?","pathname","search",o)),rn(!o.pathname||!o.pathname.includes("#"),uy("#","pathname","hash",o)),rn(!o.search||!o.search.includes("#"),uy("#","search","hash",o)));let i=e===""||o.pathname==="",s=i?"/":o.pathname,u;if(s==null)u=n;else{let m=t.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;o.pathname=g.join("/")}u=m>=0?t[m]:"/"}let c=oB(o,u),f=s&&s!=="/"&&s.endsWith("/"),d=(i||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||d)&&(c.pathname+="/"),c}const Ra=e=>e.join("/").replace(/\/\/+/g,"/"),aB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class Dw{constructor(t,n,r,o){o===void 0&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function uT(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cT=["post","put","patch","delete"],uB=new Set(cT),cB=["get",...cT],fB=new Set(cB),dB=new Set([301,302,303,307,308]),hB=new Set([307,308]),cy={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},pB={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Sf={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mB=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),dT="remix-router-transitions";function vB(e){const t=e.window?e.window:typeof window<"u"?window:void 0,n=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",r=!n;rn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let o;if(e.mapRouteProperties)o=e.mapRouteProperties;else if(e.detectErrorBoundary){let ie=e.detectErrorBoundary;o=fe=>({hasErrorBoundary:ie(fe)})}else o=mB;let i={},s=L0(e.routes,o,void 0,i),u,c=e.basename||"/",f=nr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1},e.future),d=null,m=new Set,g=null,x=null,y=null,_=e.hydrationData!=null,P=Hu(s,e.history.location,c),k=null;if(P==null){let ie=Jo(404,{pathname:e.history.location.pathname}),{matches:fe,route:Ee}=zS(s);P=fe,k={[Ee.id]:ie}}let C,S=P.some(ie=>ie.route.lazy),A=P.some(ie=>ie.route.loader);if(S)C=!1;else if(!A)C=!0;else if(f.v7_partialHydration){let ie=e.hydrationData?e.hydrationData.loaderData:null,fe=e.hydrationData?e.hydrationData.errors:null,Ee=Ie=>Ie.route.loader?Ie.route.loader.hydrate===!0?!1:ie&&ie[Ie.route.id]!==void 0||fe&&fe[Ie.route.id]!==void 0:!0;if(fe){let Ie=P.findIndex(De=>fe[De.route.id]!==void 0);C=P.slice(0,Ie+1).every(Ee)}else C=P.every(Ee)}else C=e.hydrationData!=null;let K,O={historyAction:e.history.action,location:e.history.location,matches:P,initialized:C,navigation:cy,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||k,fetchers:new Map,blockers:new Map},L=lr.Pop,X=!1,F,N=!1,q=new Map,U=null,te=!1,ue=!1,ke=[],Be=[],Ve=new Map,ve=0,Fe=-1,Ce=new Map,Ke=new Set,me=new Map,Ge=new Map,Se=new Set,Re=new Map,Ze=new Map,pe=!1;function ye(){if(d=e.history.listen(ie=>{let{action:fe,location:Ee,delta:Ie}=ie;if(pe){pe=!1;return}Ml(Ze.size===0||Ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let De=Xe({currentLocation:O.location,nextLocation:Ee,historyAction:fe});if(De&&Ie!=null){pe=!0,e.history.go(Ie*-1),be(De,{state:"blocked",location:Ee,proceed(){be(De,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),e.history.go(Ie)},reset(){let ht=new Map(O.blockers);ht.set(De,Sf),ze({blockers:ht})}});return}return He(fe,Ee)}),n){CB(t,q);let ie=()=>TB(t,q);t.addEventListener("pagehide",ie),U=()=>t.removeEventListener("pagehide",ie)}return O.initialized||He(lr.Pop,O.location,{initialHydration:!0}),K}function de(){d&&d(),U&&U(),m.clear(),F&&F.abort(),O.fetchers.forEach((ie,fe)=>bt(fe)),O.blockers.forEach((ie,fe)=>ce(fe))}function Oe(ie){return m.add(ie),()=>m.delete(ie)}function ze(ie,fe){fe===void 0&&(fe={}),O=nr({},O,ie);let Ee=[],Ie=[];f.v7_fetcherPersist&&O.fetchers.forEach((De,ht)=>{De.state==="idle"&&(Se.has(ht)?Ie.push(ht):Ee.push(ht))}),[...m].forEach(De=>De(O,{deletedFetchers:Ie,unstable_viewTransitionOpts:fe.viewTransitionOpts,unstable_flushSync:fe.flushSync===!0})),f.v7_fetcherPersist&&(Ee.forEach(De=>O.fetchers.delete(De)),Ie.forEach(De=>bt(De)))}function Qe(ie,fe,Ee){var Ie,De;let{flushSync:ht}=Ee===void 0?{}:Ee,Le=O.actionData!=null&&O.navigation.formMethod!=null&&ki(O.navigation.formMethod)&&O.navigation.state==="loading"&&((Ie=ie.state)==null?void 0:Ie._isRedirect)!==!0,_e;fe.actionData?Object.keys(fe.actionData).length>0?_e=fe.actionData:_e=null:Le?_e=O.actionData:_e=null;let Pe=fe.loaderData?MS(O.loaderData,fe.loaderData,fe.matches||[],fe.errors):O.loaderData,$e=O.blockers;$e.size>0&&($e=new Map($e),$e.forEach((Ot,Rt)=>$e.set(Rt,Sf)));let ut=X===!0||O.navigation.formMethod!=null&&ki(O.navigation.formMethod)&&((De=ie.state)==null?void 0:De._isRedirect)!==!0;u&&(s=u,u=void 0),te||L===lr.Pop||(L===lr.Push?e.history.push(ie,ie.state):L===lr.Replace&&e.history.replace(ie,ie.state));let et;if(L===lr.Pop){let Ot=q.get(O.location.pathname);Ot&&Ot.has(ie.pathname)?et={currentLocation:O.location,nextLocation:ie}:q.has(ie.pathname)&&(et={currentLocation:ie,nextLocation:O.location})}else if(N){let Ot=q.get(O.location.pathname);Ot?Ot.add(ie.pathname):(Ot=new Set([ie.pathname]),q.set(O.location.pathname,Ot)),et={currentLocation:O.location,nextLocation:ie}}ze(nr({},fe,{actionData:_e,loaderData:Pe,historyAction:L,location:ie,initialized:!0,navigation:cy,revalidation:"idle",restoreScrollPosition:It(ie,fe.matches||O.matches),preventScrollReset:ut,blockers:$e}),{viewTransitionOpts:et,flushSync:ht===!0}),L=lr.Pop,X=!1,N=!1,te=!1,ue=!1,ke=[],Be=[]}async function yt(ie,fe){if(typeof ie=="number"){e.history.go(ie);return}let Ee=M0(O.location,O.matches,c,f.v7_prependBasename,ie,f.v7_relativeSplatPath,fe==null?void 0:fe.fromRouteId,fe==null?void 0:fe.relative),{path:Ie,submission:De,error:ht}=RS(f.v7_normalizeFormMethod,!1,Ee,fe),Le=O.location,_e=Ad(O.location,Ie,fe&&fe.state);_e=nr({},_e,e.history.encodeLocation(_e));let Pe=fe&&fe.replace!=null?fe.replace:void 0,$e=lr.Push;Pe===!0?$e=lr.Replace:Pe===!1||De!=null&&ki(De.formMethod)&&De.formAction===O.location.pathname+O.location.search&&($e=lr.Replace);let ut=fe&&"preventScrollReset"in fe?fe.preventScrollReset===!0:void 0,et=(fe&&fe.unstable_flushSync)===!0,Ot=Xe({currentLocation:Le,nextLocation:_e,historyAction:$e});if(Ot){be(Ot,{state:"blocked",location:_e,proceed(){be(Ot,{state:"proceeding",proceed:void 0,reset:void 0,location:_e}),yt(ie,fe)},reset(){let Rt=new Map(O.blockers);Rt.set(Ot,Sf),ze({blockers:Rt})}});return}return await He($e,_e,{submission:De,pendingError:ht,preventScrollReset:ut,replace:fe&&fe.replace,enableViewTransition:fe&&fe.unstable_viewTransition,flushSync:et})}function vt(){if(gn(),ze({revalidation:"loading"}),O.navigation.state!=="submitting"){if(O.navigation.state==="idle"){He(O.historyAction,O.location,{startUninterruptedRevalidation:!0});return}He(L||O.historyAction,O.navigation.location,{overrideNavigation:O.navigation})}}async function He(ie,fe,Ee){F&&F.abort(),F=null,L=ie,te=(Ee&&Ee.startUninterruptedRevalidation)===!0,At(O.location,O.matches),X=(Ee&&Ee.preventScrollReset)===!0,N=(Ee&&Ee.enableViewTransition)===!0;let Ie=u||s,De=Ee&&Ee.overrideNavigation,ht=Hu(Ie,fe,c),Le=(Ee&&Ee.flushSync)===!0;if(!ht){let Rt=Jo(404,{pathname:fe.pathname}),{matches:mn,route:Kt}=zS(Ie);ct(),Qe(fe,{matches:mn,loaderData:{},errors:{[Kt.id]:Rt}},{flushSync:Le});return}if(O.initialized&&!ue&&EB(O.location,fe)&&!(Ee&&Ee.submission&&ki(Ee.submission.formMethod))){Qe(fe,{matches:ht},{flushSync:Le});return}F=new AbortController;let _e=kf(e.history,fe,F.signal,Ee&&Ee.submission),Pe,$e;if(Ee&&Ee.pendingError)$e={[rd(ht).route.id]:Ee.pendingError};else if(Ee&&Ee.submission&&ki(Ee.submission.formMethod)){let Rt=await vn(_e,fe,Ee.submission,ht,{replace:Ee.replace,flushSync:Le});if(Rt.shortCircuited)return;Pe=Rt.pendingActionData,$e=Rt.pendingActionError,De=fy(fe,Ee.submission),Le=!1,_e=new Request(_e.url,{signal:_e.signal})}let{shortCircuited:ut,loaderData:et,errors:Ot}=await tn(_e,fe,ht,De,Ee&&Ee.submission,Ee&&Ee.fetcherSubmission,Ee&&Ee.replace,Ee&&Ee.initialHydration===!0,Le,Pe,$e);ut||(F=null,Qe(fe,nr({matches:ht},Pe?{actionData:Pe}:{},{loaderData:et,errors:Ot})))}async function vn(ie,fe,Ee,Ie,De){De===void 0&&(De={}),gn();let ht=kB(fe,Ee);ze({navigation:ht},{flushSync:De.flushSync===!0});let Le,_e=F0(Ie,fe);if(!_e.route.action&&!_e.route.lazy)Le={type:er.error,error:Jo(405,{method:ie.method,pathname:fe.pathname,routeId:_e.route.id})};else if(Le=await _f("action",ie,_e,Ie,i,o,c,f.v7_relativeSplatPath),ie.signal.aborted)return{shortCircuited:!0};if(Pl(Le)){let Pe;return De&&De.replace!=null?Pe=De.replace:Pe=Le.location===O.location.pathname+O.location.search,await jt(O,Le,{submission:Ee,replace:Pe}),{shortCircuited:!0}}if(Wu(Le)){let Pe=rd(Ie,_e.route.id);return(De&&De.replace)!==!0&&(L=lr.Push),{pendingActionData:{},pendingActionError:{[Pe.route.id]:Le.error}}}if(kl(Le))throw Jo(400,{type:"defer-action"});return{pendingActionData:{[_e.route.id]:Le.data}}}async function tn(ie,fe,Ee,Ie,De,ht,Le,_e,Pe,$e,ut){let et=Ie||fy(fe,De),Ot=De||ht||BS(et),Rt=u||s,[mn,Kt]=jS(e.history,O,Ee,Ot,fe,f.v7_partialHydration&&_e===!0,ue,ke,Be,Se,me,Ke,Rt,c,$e,ut);if(ct(Tt=>!(Ee&&Ee.some(Pt=>Pt.route.id===Tt))||mn&&mn.some(Pt=>Pt.route.id===Tt)),Fe=++ve,mn.length===0&&Kt.length===0){let Tt=D();return Qe(fe,nr({matches:Ee,loaderData:{},errors:ut||null},$e?{actionData:$e}:{},Tt?{fetchers:new Map(O.fetchers)}:{}),{flushSync:Pe}),{shortCircuited:!0}}if(!te&&(!f.v7_partialHydration||!_e)){Kt.forEach(Pt=>{let Zt=O.fetchers.get(Pt.key),Hn=Pf(void 0,Zt?Zt.data:void 0);O.fetchers.set(Pt.key,Hn)});let Tt=$e||O.actionData;ze(nr({navigation:et},Tt?Object.keys(Tt).length===0?{actionData:null}:{actionData:Tt}:{},Kt.length>0?{fetchers:new Map(O.fetchers)}:{}),{flushSync:Pe})}Kt.forEach(Tt=>{Ve.has(Tt.key)&&lt(Tt.key),Tt.controller&&Ve.set(Tt.key,Tt.controller)});let Dt=()=>Kt.forEach(Tt=>lt(Tt.key));F&&F.signal.addEventListener("abort",Dt);let{results:Cn,loaderResults:Yt,fetcherResults:Tn}=await yn(O.matches,Ee,mn,Kt,ie);if(ie.signal.aborted)return{shortCircuited:!0};F&&F.signal.removeEventListener("abort",Dt),Kt.forEach(Tt=>Ve.delete(Tt.key));let fn=FS(Cn);if(fn){if(fn.idx>=mn.length){let Tt=Kt[fn.idx-mn.length].key;Ke.add(Tt)}return await jt(O,fn.result,{replace:Le}),{shortCircuited:!0}}let{loaderData:fr,errors:Nn}=LS(O,Ee,mn,Yt,ut,Kt,Tn,Re);Re.forEach((Tt,Pt)=>{Tt.subscribe(Zt=>{(Zt||Tt.done)&&Re.delete(Pt)})}),f.v7_partialHydration&&_e&&O.errors&&Object.entries(O.errors).filter(Tt=>{let[Pt]=Tt;return!mn.some(Zt=>Zt.route.id===Pt)}).forEach(Tt=>{let[Pt,Zt]=Tt;Nn=Object.assign(Nn||{},{[Pt]:Zt})});let Ko=D(),Nr=W(Fe),un=Ko||Nr||Kt.length>0;return nr({loaderData:fr,errors:Nn},un?{fetchers:new Map(O.fetchers)}:{})}function $n(ie,fe,Ee,Ie){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Ve.has(ie)&&lt(ie);let De=(Ie&&Ie.unstable_flushSync)===!0,ht=u||s,Le=M0(O.location,O.matches,c,f.v7_prependBasename,Ee,f.v7_relativeSplatPath,fe,Ie==null?void 0:Ie.relative),_e=Hu(ht,Le,c);if(!_e){Et(ie,fe,Jo(404,{pathname:Le}),{flushSync:De});return}let{path:Pe,submission:$e,error:ut}=RS(f.v7_normalizeFormMethod,!0,Le,Ie);if(ut){Et(ie,fe,ut,{flushSync:De});return}let et=F0(_e,Pe);if(X=(Ie&&Ie.preventScrollReset)===!0,$e&&ki($e.formMethod)){or(ie,fe,Pe,et,_e,De,$e);return}me.set(ie,{routeId:fe,path:Pe}),dn(ie,fe,Pe,et,_e,De,$e)}async function or(ie,fe,Ee,Ie,De,ht,Le){if(gn(),me.delete(ie),!Ie.route.action&&!Ie.route.lazy){let Pt=Jo(405,{method:Le.formMethod,pathname:Ee,routeId:fe});Et(ie,fe,Pt,{flushSync:ht});return}let _e=O.fetchers.get(ie);Bt(ie,PB(Le,_e),{flushSync:ht});let Pe=new AbortController,$e=kf(e.history,Ee,Pe.signal,Le);Ve.set(ie,Pe);let ut=ve,et=await _f("action",$e,Ie,De,i,o,c,f.v7_relativeSplatPath);if($e.signal.aborted){Ve.get(ie)===Pe&&Ve.delete(ie);return}if(f.v7_fetcherPersist&&Se.has(ie)){if(Pl(et)||Wu(et)){Bt(ie,ss(void 0));return}}else{if(Pl(et))if(Ve.delete(ie),Fe>ut){Bt(ie,ss(void 0));return}else return Ke.add(ie),Bt(ie,Pf(Le)),jt(O,et,{fetcherSubmission:Le});if(Wu(et)){Et(ie,fe,et.error);return}}if(kl(et))throw Jo(400,{type:"defer-action"});let Ot=O.navigation.location||O.location,Rt=kf(e.history,Ot,Pe.signal),mn=u||s,Kt=O.navigation.state!=="idle"?Hu(mn,O.navigation.location,c):O.matches;rn(Kt,"Didn't find any matches after fetcher action");let Dt=++ve;Ce.set(ie,Dt);let Cn=Pf(Le,et.data);O.fetchers.set(ie,Cn);let[Yt,Tn]=jS(e.history,O,Kt,Le,Ot,!1,ue,ke,Be,Se,me,Ke,mn,c,{[Ie.route.id]:et.data},void 0);Tn.filter(Pt=>Pt.key!==ie).forEach(Pt=>{let Zt=Pt.key,Hn=O.fetchers.get(Zt),zr=Pf(void 0,Hn?Hn.data:void 0);O.fetchers.set(Zt,zr),Ve.has(Zt)&&lt(Zt),Pt.controller&&Ve.set(Zt,Pt.controller)}),ze({fetchers:new Map(O.fetchers)});let fn=()=>Tn.forEach(Pt=>lt(Pt.key));Pe.signal.addEventListener("abort",fn);let{results:fr,loaderResults:Nn,fetcherResults:Ko}=await yn(O.matches,Kt,Yt,Tn,Rt);if(Pe.signal.aborted)return;Pe.signal.removeEventListener("abort",fn),Ce.delete(ie),Ve.delete(ie),Tn.forEach(Pt=>Ve.delete(Pt.key));let Nr=FS(fr);if(Nr){if(Nr.idx>=Yt.length){let Pt=Tn[Nr.idx-Yt.length].key;Ke.add(Pt)}return jt(O,Nr.result)}let{loaderData:un,errors:Tt}=LS(O,O.matches,Yt,Nn,void 0,Tn,Ko,Re);if(O.fetchers.has(ie)){let Pt=ss(et.data);O.fetchers.set(ie,Pt)}W(Dt),O.navigation.state==="loading"&&Dt>Fe?(rn(L,"Expected pending action"),F&&F.abort(),Qe(O.navigation.location,{matches:Kt,loaderData:un,errors:Tt,fetchers:new Map(O.fetchers)})):(ze({errors:Tt,loaderData:MS(O.loaderData,un,Kt,Tt),fetchers:new Map(O.fetchers)}),ue=!1)}async function dn(ie,fe,Ee,Ie,De,ht,Le){let _e=O.fetchers.get(ie);Bt(ie,Pf(Le,_e?_e.data:void 0),{flushSync:ht});let Pe=new AbortController,$e=kf(e.history,Ee,Pe.signal);Ve.set(ie,Pe);let ut=ve,et=await _f("loader",$e,Ie,De,i,o,c,f.v7_relativeSplatPath);if(kl(et)&&(et=await mT(et,$e.signal,!0)||et),Ve.get(ie)===Pe&&Ve.delete(ie),!$e.signal.aborted){if(Se.has(ie)){Bt(ie,ss(void 0));return}if(Pl(et))if(Fe>ut){Bt(ie,ss(void 0));return}else{Ke.add(ie),await jt(O,et);return}if(Wu(et)){Et(ie,fe,et.error);return}rn(!kl(et),"Unhandled fetcher deferred data"),Bt(ie,ss(et.data))}}async function jt(ie,fe,Ee){let{submission:Ie,fetcherSubmission:De,replace:ht}=Ee===void 0?{}:Ee;fe.revalidate&&(ue=!0);let Le=Ad(ie.location,fe.location,{_isRedirect:!0});if(rn(Le,"Expected a location on the redirect navigation"),n){let Ot=!1;if(fe.reloadDocument)Ot=!0;else if(fT.test(fe.location)){const Rt=e.history.createURL(fe.location);Ot=Rt.origin!==t.location.origin||Tc(Rt.pathname,c)==null}if(Ot){ht?t.location.replace(fe.location):t.location.assign(fe.location);return}}F=null;let _e=ht===!0?lr.Replace:lr.Push,{formMethod:Pe,formAction:$e,formEncType:ut}=ie.navigation;!Ie&&!De&&Pe&&$e&&ut&&(Ie=BS(ie.navigation));let et=Ie||De;if(hB.has(fe.status)&&et&&ki(et.formMethod))await He(_e,Le,{submission:nr({},et,{formAction:fe.location}),preventScrollReset:X});else{let Ot=fy(Le,Ie);await He(_e,Le,{overrideNavigation:Ot,fetcherSubmission:De,preventScrollReset:X})}}async function yn(ie,fe,Ee,Ie,De){let ht=await Promise.all([...Ee.map(Pe=>_f("loader",De,Pe,fe,i,o,c,f.v7_relativeSplatPath)),...Ie.map(Pe=>Pe.matches&&Pe.match&&Pe.controller?_f("loader",kf(e.history,Pe.path,Pe.controller.signal),Pe.match,Pe.matches,i,o,c,f.v7_relativeSplatPath):{type:er.error,error:Jo(404,{pathname:Pe.path})})]),Le=ht.slice(0,Ee.length),_e=ht.slice(Ee.length);return await Promise.all([$S(ie,Ee,Le,Le.map(()=>De.signal),!1,O.loaderData),$S(ie,Ie.map(Pe=>Pe.match),_e,Ie.map(Pe=>Pe.controller?Pe.controller.signal:null),!0)]),{results:ht,loaderResults:Le,fetcherResults:_e}}function gn(){ue=!0,ke.push(...ct()),me.forEach((ie,fe)=>{Ve.has(fe)&&(Be.push(fe),lt(fe))})}function Bt(ie,fe,Ee){Ee===void 0&&(Ee={}),O.fetchers.set(ie,fe),ze({fetchers:new Map(O.fetchers)},{flushSync:(Ee&&Ee.flushSync)===!0})}function Et(ie,fe,Ee,Ie){Ie===void 0&&(Ie={});let De=rd(O.matches,fe);bt(ie),ze({errors:{[De.route.id]:Ee},fetchers:new Map(O.fetchers)},{flushSync:(Ie&&Ie.flushSync)===!0})}function at(ie){return f.v7_fetcherPersist&&(Ge.set(ie,(Ge.get(ie)||0)+1),Se.has(ie)&&Se.delete(ie)),O.fetchers.get(ie)||pB}function bt(ie){let fe=O.fetchers.get(ie);Ve.has(ie)&&!(fe&&fe.state==="loading"&&Ce.has(ie))&&lt(ie),me.delete(ie),Ce.delete(ie),Ke.delete(ie),Se.delete(ie),O.fetchers.delete(ie)}function Ut(ie){if(f.v7_fetcherPersist){let fe=(Ge.get(ie)||0)-1;fe<=0?(Ge.delete(ie),Se.add(ie)):Ge.set(ie,fe)}else bt(ie);ze({fetchers:new Map(O.fetchers)})}function lt(ie){let fe=Ve.get(ie);rn(fe,"Expected fetch controller: "+ie),fe.abort(),Ve.delete(ie)}function V(ie){for(let fe of ie){let Ee=at(fe),Ie=ss(Ee.data);O.fetchers.set(fe,Ie)}}function D(){let ie=[],fe=!1;for(let Ee of Ke){let Ie=O.fetchers.get(Ee);rn(Ie,"Expected fetcher: "+Ee),Ie.state==="loading"&&(Ke.delete(Ee),ie.push(Ee),fe=!0)}return V(ie),fe}function W(ie){let fe=[];for(let[Ee,Ie]of Ce)if(Ie<ie){let De=O.fetchers.get(Ee);rn(De,"Expected fetcher: "+Ee),De.state==="loading"&&(lt(Ee),Ce.delete(Ee),fe.push(Ee))}return V(fe),fe.length>0}function re(ie,fe){let Ee=O.blockers.get(ie)||Sf;return Ze.get(ie)!==fe&&Ze.set(ie,fe),Ee}function ce(ie){O.blockers.delete(ie),Ze.delete(ie)}function be(ie,fe){let Ee=O.blockers.get(ie)||Sf;rn(Ee.state==="unblocked"&&fe.state==="blocked"||Ee.state==="blocked"&&fe.state==="blocked"||Ee.state==="blocked"&&fe.state==="proceeding"||Ee.state==="blocked"&&fe.state==="unblocked"||Ee.state==="proceeding"&&fe.state==="unblocked","Invalid blocker state transition: "+Ee.state+" -> "+fe.state);let Ie=new Map(O.blockers);Ie.set(ie,fe),ze({blockers:Ie})}function Xe(ie){let{currentLocation:fe,nextLocation:Ee,historyAction:Ie}=ie;if(Ze.size===0)return;Ze.size>1&&Ml(!1,"A router only supports one blocker at a time");let De=Array.from(Ze.entries()),[ht,Le]=De[De.length-1],_e=O.blockers.get(ht);if(!(_e&&_e.state==="proceeding")&&Le({currentLocation:fe,nextLocation:Ee,historyAction:Ie}))return ht}function ct(ie){let fe=[];return Re.forEach((Ee,Ie)=>{(!ie||ie(Ie))&&(Ee.cancel(),fe.push(Ie),Re.delete(Ie))}),fe}function rt(ie,fe,Ee){if(g=ie,y=fe,x=Ee||null,!_&&O.navigation===cy){_=!0;let Ie=It(O.location,O.matches);Ie!=null&&ze({restoreScrollPosition:Ie})}return()=>{g=null,y=null,x=null}}function Ne(ie,fe){return x&&x(ie,fe.map(Ie=>H2(Ie,O.loaderData)))||ie.key}function At(ie,fe){if(g&&y){let Ee=Ne(ie,fe);g[Ee]=y()}}function It(ie,fe){if(g){let Ee=Ne(ie,fe),Ie=g[Ee];if(typeof Ie=="number")return Ie}return null}function Qt(ie){i={},u=L0(ie,o,void 0,i)}return K={get basename(){return c},get future(){return f},get state(){return O},get routes(){return s},get window(){return t},initialize:ye,subscribe:Oe,enableScrollRestoration:rt,navigate:yt,fetch:$n,revalidate:vt,createHref:ie=>e.history.createHref(ie),encodeLocation:ie=>e.history.encodeLocation(ie),getFetcher:at,deleteFetcher:Ut,dispose:de,getBlocker:re,deleteBlocker:ce,_internalFetchControllers:Ve,_internalActiveDeferreds:Re,_internalSetRoutes:Qt},K}function gB(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function M0(e,t,n,r,o,i,s,u){let c,f;if(s){c=[];for(let m of t)if(c.push(m),m.route.id===s){f=m;break}}else c=t,f=t[t.length-1];let d=Iw(o||".",Aw(c,i),Tc(e.pathname,n)||e.pathname,u==="path");return o==null&&(d.search=e.search,d.hash=e.hash),(o==null||o===""||o===".")&&f&&f.route.index&&!Lw(d.search)&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(d.pathname=d.pathname==="/"?n:Ra([n,d.pathname])),zl(d)}function RS(e,t,n,r){if(!r||!gB(r))return{path:n};if(r.formMethod&&!_B(r.formMethod))return{path:n,error:Jo(405,{method:r.formMethod})};let o=()=>({path:n,error:Jo(400,{type:"invalid-body"})}),i=r.formMethod||"get",s=e?i.toUpperCase():i.toLowerCase(),u=pT(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!ki(s))return o();let g=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((x,y)=>{let[_,P]=y;return""+x+_+"="+P+`
`},""):String(r.body);return{path:n,submission:{formMethod:s,formAction:u,formEncType:r.formEncType,formData:void 0,json:void 0,text:g}}}else if(r.formEncType==="application/json"){if(!ki(s))return o();try{let g=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:s,formAction:u,formEncType:r.formEncType,formData:void 0,json:g,text:void 0}}}catch{return o()}}}rn(typeof FormData=="function","FormData is not available in this environment");let c,f;if(r.formData)c=z0(r.formData),f=r.formData;else if(r.body instanceof FormData)c=z0(r.body),f=r.body;else if(r.body instanceof URLSearchParams)c=r.body,f=DS(c);else if(r.body==null)c=new URLSearchParams,f=new FormData;else try{c=new URLSearchParams(r.body),f=DS(c)}catch{return o()}let d={formMethod:s,formAction:u,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(ki(d.formMethod))return{path:n,submission:d};let m=ia(n);return t&&m.search&&Lw(m.search)&&c.append("index",""),m.search="?"+c,{path:zl(m),submission:d}}function yB(e,t){let n=e;if(t){let r=e.findIndex(o=>o.route.id===t);r>=0&&(n=e.slice(0,r))}return n}function jS(e,t,n,r,o,i,s,u,c,f,d,m,g,x,y,_){let P=_?Object.values(_)[0]:y?Object.values(y)[0]:void 0,k=e.createURL(t.location),C=e.createURL(o),S=_?Object.keys(_)[0]:void 0,K=yB(n,S).filter((L,X)=>{let{route:F}=L;if(F.lazy)return!0;if(F.loader==null)return!1;if(i)return F.loader.hydrate?!0:t.loaderData[F.id]===void 0&&(!t.errors||t.errors[F.id]===void 0);if(bB(t.loaderData,t.matches[X],L)||u.some(U=>U===L.route.id))return!0;let N=t.matches[X],q=L;return AS(L,nr({currentUrl:k,currentParams:N.params,nextUrl:C,nextParams:q.params},r,{actionResult:P,defaultShouldRevalidate:s||k.pathname+k.search===C.pathname+C.search||k.search!==C.search||hT(N,q)}))}),O=[];return d.forEach((L,X)=>{if(i||!n.some(te=>te.route.id===L.routeId)||f.has(X))return;let F=Hu(g,L.path,x);if(!F){O.push({key:X,routeId:L.routeId,path:L.path,matches:null,match:null,controller:null});return}let N=t.fetchers.get(X),q=F0(F,L.path),U=!1;m.has(X)?U=!1:c.includes(X)?U=!0:N&&N.state!=="idle"&&N.data===void 0?U=s:U=AS(q,nr({currentUrl:k,currentParams:t.matches[t.matches.length-1].params,nextUrl:C,nextParams:n[n.length-1].params},r,{actionResult:P,defaultShouldRevalidate:s})),U&&O.push({key:X,routeId:L.routeId,path:L.path,matches:F,match:q,controller:new AbortController})}),[K,O]}function bB(e,t,n){let r=!t||n.route.id!==t.route.id,o=e[n.route.id]===void 0;return r||o}function hT(e,t){let n=e.route.path;return e.pathname!==t.pathname||n!=null&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function AS(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if(typeof n=="boolean")return n}return t.defaultShouldRevalidate}async function IS(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let o=n[e.id];rn(o,"No route found in manifest");let i={};for(let s in r){let c=o[s]!==void 0&&s!=="hasErrorBoundary";Ml(!c,'Route "'+o.id+'" has a static property "'+s+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+s+'" will be ignored.')),!c&&!U2.has(s)&&(i[s]=r[s])}Object.assign(o,i),Object.assign(o,nr({},t(o),{lazy:void 0}))}async function _f(e,t,n,r,o,i,s,u,c){c===void 0&&(c={});let f,d,m,g=_=>{let P,k=new Promise((C,S)=>P=S);return m=()=>P(),t.signal.addEventListener("abort",m),Promise.race([_({request:t,params:n.params,context:c.requestContext}),k])};try{let _=n.route[e];if(n.route.lazy)if(_){let P,k=await Promise.all([g(_).catch(C=>{P=C}),IS(n.route,i,o)]);if(P)throw P;d=k[0]}else if(await IS(n.route,i,o),_=n.route[e],_)d=await g(_);else if(e==="action"){let P=new URL(t.url),k=P.pathname+P.search;throw Jo(405,{method:t.method,pathname:k,routeId:n.route.id})}else return{type:er.data,data:void 0};else if(_)d=await g(_);else{let P=new URL(t.url),k=P.pathname+P.search;throw Jo(404,{pathname:k})}rn(d!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(_){f=er.error,d=_}finally{m&&t.signal.removeEventListener("abort",m)}if(SB(d)){let _=d.status;if(dB.has(_)){let k=d.headers.get("Location");if(rn(k,"Redirects returned/thrown from loaders/actions must have a Location header"),!fT.test(k))k=M0(new URL(t.url),r.slice(0,r.indexOf(n)+1),s,!0,k,u);else if(!c.isStaticRequest){let C=new URL(t.url),S=k.startsWith("//")?new URL(C.protocol+k):new URL(k),A=Tc(S.pathname,s)!=null;S.origin===C.origin&&A&&(k=S.pathname+S.search+S.hash)}if(c.isStaticRequest)throw d.headers.set("Location",k),d;return{type:er.redirect,status:_,location:k,revalidate:d.headers.get("X-Remix-Revalidate")!==null,reloadDocument:d.headers.get("X-Remix-Reload-Document")!==null}}if(c.isRouteRequest)throw{type:f===er.error?er.error:er.data,response:d};let P;try{let k=d.headers.get("Content-Type");k&&/\bapplication\/json\b/.test(k)?d.body==null?P=null:P=await d.json():P=await d.text()}catch(k){return{type:er.error,error:k}}return f===er.error?{type:f,error:new Dw(_,d.statusText,P),headers:d.headers}:{type:er.data,data:P,statusCode:d.status,headers:d.headers}}if(f===er.error)return{type:f,error:d};if(xB(d)){var x,y;return{type:er.deferred,deferredData:d,statusCode:(x=d.init)==null?void 0:x.status,headers:((y=d.init)==null?void 0:y.headers)&&new Headers(d.init.headers)}}return{type:er.data,data:d}}function kf(e,t,n,r){let o=e.createURL(pT(t)).toString(),i={signal:n};if(r&&ki(r.formMethod)){let{formMethod:s,formEncType:u}=r;i.method=s.toUpperCase(),u==="application/json"?(i.headers=new Headers({"Content-Type":u}),i.body=JSON.stringify(r.json)):u==="text/plain"?i.body=r.text:u==="application/x-www-form-urlencoded"&&r.formData?i.body=z0(r.formData):i.body=r.formData}return new Request(o,i)}function z0(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,typeof r=="string"?r:r.name);return t}function DS(e){let t=new FormData;for(let[n,r]of e.entries())t.append(n,r);return t}function wB(e,t,n,r,o){let i={},s=null,u,c=!1,f={};return n.forEach((d,m)=>{let g=t[m].route.id;if(rn(!Pl(d),"Cannot handle redirect results in processLoaderData"),Wu(d)){let x=rd(e,g),y=d.error;r&&(y=Object.values(r)[0],r=void 0),s=s||{},s[x.route.id]==null&&(s[x.route.id]=y),i[g]=void 0,c||(c=!0,u=uT(d.error)?d.error.status:500),d.headers&&(f[g]=d.headers)}else kl(d)?(o.set(g,d.deferredData),i[g]=d.deferredData.data):i[g]=d.data,d.statusCode!=null&&d.statusCode!==200&&!c&&(u=d.statusCode),d.headers&&(f[g]=d.headers)}),r&&(s=r,i[Object.keys(r)[0]]=void 0),{loaderData:i,errors:s,statusCode:u||200,loaderHeaders:f}}function LS(e,t,n,r,o,i,s,u){let{loaderData:c,errors:f}=wB(t,n,r,o,u);for(let d=0;d<i.length;d++){let{key:m,match:g,controller:x}=i[d];rn(s!==void 0&&s[d]!==void 0,"Did not find corresponding fetcher result");let y=s[d];if(!(x&&x.signal.aborted))if(Wu(y)){let _=rd(e.matches,g==null?void 0:g.route.id);f&&f[_.route.id]||(f=nr({},f,{[_.route.id]:y.error})),e.fetchers.delete(m)}else if(Pl(y))rn(!1,"Unhandled fetcher revalidation redirect");else if(kl(y))rn(!1,"Unhandled fetcher deferred data");else{let _=ss(y.data);e.fetchers.set(m,_)}}return{loaderData:c,errors:f}}function MS(e,t,n,r){let o=nr({},t);for(let i of n){let s=i.route.id;if(t.hasOwnProperty(s)?t[s]!==void 0&&(o[s]=t[s]):e[s]!==void 0&&i.route.loader&&(o[s]=e[s]),r&&r.hasOwnProperty(s))break}return o}function rd(e,t){return(t?e.slice(0,e.findIndex(r=>r.route.id===t)+1):[...e]).reverse().find(r=>r.route.hasErrorBoundary===!0)||e[0]}function zS(e){let t=e.length===1?e[0]:e.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Jo(e,t){let{pathname:n,routeId:r,method:o,type:i}=t===void 0?{}:t,s="Unknown Server Error",u="Unknown @remix-run/router error";return e===400?(s="Bad Request",o&&n&&r?u="You made a "+o+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":i==="defer-action"?u="defer() is not supported in actions":i==="invalid-body"&&(u="Unable to encode submission body")):e===403?(s="Forbidden",u='Route "'+r+'" does not match URL "'+n+'"'):e===404?(s="Not Found",u='No route matches URL "'+n+'"'):e===405&&(s="Method Not Allowed",o&&n&&r?u="You made a "+o.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":o&&(u='Invalid request method "'+o.toUpperCase()+'"')),new Dw(e||500,s,new Error(u),!0)}function FS(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(Pl(n))return{result:n,idx:t}}}function pT(e){let t=typeof e=="string"?ia(e):e;return zl(nr({},t,{hash:""}))}function EB(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function kl(e){return e.type===er.deferred}function Wu(e){return e.type===er.error}function Pl(e){return(e&&e.type)===er.redirect}function xB(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function SB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function _B(e){return fB.has(e.toLowerCase())}function ki(e){return uB.has(e.toLowerCase())}async function $S(e,t,n,r,o,i){for(let s=0;s<n.length;s++){let u=n[s],c=t[s];if(!c)continue;let f=e.find(m=>m.route.id===c.route.id),d=f!=null&&!hT(f,c)&&(i&&i[c.route.id])!==void 0;if(kl(u)&&(o||d)){let m=r[s];rn(m,"Expected an AbortSignal for revalidating fetcher deferred result"),await mT(u,m,o).then(g=>{g&&(n[s]=g||n[s])})}}}async function mT(e,t,n){if(n===void 0&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:er.data,data:e.deferredData.unwrappedData}}catch(o){return{type:er.error,error:o}}return{type:er.data,data:e.deferredData.data}}}function Lw(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function F0(e,t){let n=typeof t=="string"?ia(t).search:t.search;if(e[e.length-1].route.index&&Lw(n||""))return e[e.length-1];let r=lT(e);return r[r.length-1]}function BS(e){let{formMethod:t,formAction:n,formEncType:r,text:o,formData:i,json:s}=e;if(!(!t||!n||!r)){if(o!=null)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:void 0,text:o};if(i!=null)return{formMethod:t,formAction:n,formEncType:r,formData:i,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function fy(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function kB(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Pf(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function PB(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function ss(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function CB(e,t){try{let n=e.sessionStorage.getItem(dT);if(n){let r=JSON.parse(n);for(let[o,i]of Object.entries(r||{}))i&&Array.isArray(i)&&t.set(o,new Set(i||[]))}}catch{}}function TB(e,t){if(t.size>0){let n={};for(let[r,o]of t)n[r]=[...o];try{e.sessionStorage.setItem(dT,JSON.stringify(n))}catch(r){Ml(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Id(){return Id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Id.apply(this,arguments)}const hv=R.createContext(null),vT=R.createContext(null),Vl=R.createContext(null),pv=R.createContext(null),Gl=R.createContext({outlet:null,matches:[],isDataRoute:!1}),gT=R.createContext(null);function NB(e,t){let{relative:n}=t===void 0?{}:t;Yd()||rn(!1);let{basename:r,navigator:o}=R.useContext(Vl),{hash:i,pathname:s,search:u}=bT(e,{relative:n}),c=s;return r!=="/"&&(c=s==="/"?r:Ra([r,s])),o.createHref({pathname:c,search:u,hash:i})}function Yd(){return R.useContext(pv)!=null}function mv(){return Yd()||rn(!1),R.useContext(pv).location}function yT(e){R.useContext(Vl).static||R.useLayoutEffect(e)}function OB(){let{isDataRoute:e}=R.useContext(Gl);return e?UB():RB()}function RB(){Yd()||rn(!1);let e=R.useContext(hv),{basename:t,future:n,navigator:r}=R.useContext(Vl),{matches:o}=R.useContext(Gl),{pathname:i}=mv(),s=JSON.stringify(Aw(o,n.v7_relativeSplatPath)),u=R.useRef(!1);return yT(()=>{u.current=!0}),R.useCallback(function(f,d){if(d===void 0&&(d={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let m=Iw(f,JSON.parse(s),i,d.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:Ra([t,m.pathname])),(d.replace?r.replace:r.push)(m,d.state,d)},[t,r,s,i,e])}function bT(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=R.useContext(Vl),{matches:o}=R.useContext(Gl),{pathname:i}=mv(),s=JSON.stringify(Aw(o,r.v7_relativeSplatPath));return R.useMemo(()=>Iw(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function jB(e,t,n,r){Yd()||rn(!1);let{navigator:o}=R.useContext(Vl),{matches:i}=R.useContext(Gl),s=i[i.length-1],u=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let f=mv(),d;if(t){var m;let P=typeof t=="string"?ia(t):t;c==="/"||(m=P.pathname)!=null&&m.startsWith(c)||rn(!1),d=P}else d=f;let g=d.pathname||"/",x=g;if(c!=="/"){let P=c.replace(/^\//,"").split("/");x="/"+g.replace(/^\//,"").split("/").slice(P.length).join("/")}let y=Hu(e,{pathname:x}),_=MB(y&&y.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Ra([c,o.encodeLocation?o.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:Ra([c,o.encodeLocation?o.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),i,n,r);return t&&_?R.createElement(pv.Provider,{value:{location:Id({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:lr.Pop}},_):_}function AB(){let e=BB(),t=uT(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},t),n?R.createElement("pre",{style:o},n):null,null)}const IB=R.createElement(AB,null);class DB extends R.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?R.createElement(Gl.Provider,{value:this.props.routeContext},R.createElement(gT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LB(e){let{routeContext:t,match:n,children:r}=e,o=R.useContext(hv);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Gl.Provider,{value:t},r)}function MB(e,t,n,r){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if((i=n)!=null&&i.errors)e=n.matches;else return null}let s=e,u=(o=n)==null?void 0:o.errors;if(u!=null){let d=s.findIndex(m=>m.route.id&&(u==null?void 0:u[m.route.id]));d>=0||rn(!1),s=s.slice(0,Math.min(s.length,d+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<s.length;d++){let m=s[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(f=d),m.route.id){let{loaderData:g,errors:x}=n,y=m.route.loader&&g[m.route.id]===void 0&&(!x||x[m.route.id]===void 0);if(m.route.lazy||y){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((d,m,g)=>{let x,y=!1,_=null,P=null;n&&(x=u&&m.route.id?u[m.route.id]:void 0,_=m.route.errorElement||IB,c&&(f<0&&g===0?(KB("route-fallback",!1),y=!0,P=null):f===g&&(y=!0,P=m.route.hydrateFallbackElement||null)));let k=t.concat(s.slice(0,g+1)),C=()=>{let S;return x?S=_:y?S=P:m.route.Component?S=R.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=d,R.createElement(LB,{match:m,routeContext:{outlet:d,matches:k,isDataRoute:n!=null},children:S})};return n&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?R.createElement(DB,{location:n.location,revalidation:n.revalidation,component:_,error:x,children:C(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):C()},null)}var wT=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(wT||{}),Cm=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Cm||{});function zB(e){let t=R.useContext(hv);return t||rn(!1),t}function FB(e){let t=R.useContext(vT);return t||rn(!1),t}function $B(e){let t=R.useContext(Gl);return t||rn(!1),t}function ET(e){let t=$B(),n=t.matches[t.matches.length-1];return n.route.id||rn(!1),n.route.id}function BB(){var e;let t=R.useContext(gT),n=FB(Cm.UseRouteError),r=ET(Cm.UseRouteError);return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function UB(){let{router:e}=zB(wT.UseNavigateStable),t=ET(Cm.UseNavigateStable),n=R.useRef(!1);return yT(()=>{n.current=!0}),R.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?e.navigate(o):e.navigate(o,Id({fromRouteId:t},i)))},[e,t])}const US={};function KB(e,t,n){!t&&!US[e]&&(US[e]=!0)}function HB(e){let{basename:t="/",children:n=null,location:r,navigationType:o=lr.Pop,navigator:i,static:s=!1,future:u}=e;Yd()&&rn(!1);let c=t.replace(/^\/*/,"/"),f=R.useMemo(()=>({basename:c,navigator:i,static:s,future:Id({v7_relativeSplatPath:!1},u)}),[c,u,i,s]);typeof r=="string"&&(r=ia(r));let{pathname:d="/",search:m="",hash:g="",state:x=null,key:y="default"}=r,_=R.useMemo(()=>{let P=Tc(d,c);return P==null?null:{location:{pathname:P,search:m,hash:g,state:x,key:y},navigationType:o}},[c,d,m,g,x,y,o]);return _==null?null:R.createElement(Vl.Provider,{value:f},R.createElement(pv.Provider,{children:n,value:_}))}new Promise(()=>{});function WB(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:R.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:R.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:R.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.22.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dd(){return Dd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dd.apply(this,arguments)}function VB(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function GB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qB(e,t){return e.button===0&&(!t||t==="_self")&&!GB(e)}const YB=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],XB="6";try{window.__reactRouterVersion=XB}catch{}function JB(e,t){return vB({basename:t==null?void 0:t.basename,future:Dd({},t==null?void 0:t.future,{v7_prependBasename:!0}),history:F2({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||QB(),routes:e,mapRouteProperties:WB,window:t==null?void 0:t.window}).initialize()}function QB(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Dd({},t,{errors:ZB(t.errors)})),t}function ZB(e){if(!e)return null;let t=Object.entries(e),n={};for(let[r,o]of t)if(o&&o.__type==="RouteErrorResponse")n[r]=new Dw(o.status,o.statusText,o.data,o.internal===!0);else if(o&&o.__type==="Error"){if(o.__subType){let i=window[o.__subType];if(typeof i=="function")try{let s=new i(o.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let i=new Error(o.message);i.stack="",n[r]=i}}else n[r]=o;return n}const e4=R.createContext({isTransitioning:!1}),t4=R.createContext(new Map),n4="startTransition",KS=TF[n4],r4="flushSync",HS=z2[r4];function o4(e){KS?KS(e):e()}function Cf(e){HS?HS(e):e()}class i4{constructor(){this.status="pending",this.promise=new Promise((t,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",t(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}}function a4(e){let{fallbackElement:t,router:n,future:r}=e,[o,i]=R.useState(n.state),[s,u]=R.useState(),[c,f]=R.useState({isTransitioning:!1}),[d,m]=R.useState(),[g,x]=R.useState(),[y,_]=R.useState(),P=R.useRef(new Map),{v7_startTransition:k}=r||{},C=R.useCallback(L=>{k?o4(L):L()},[k]),S=R.useCallback((L,X)=>{let{deletedFetchers:F,unstable_flushSync:N,unstable_viewTransitionOpts:q}=X;F.forEach(te=>P.current.delete(te)),L.fetchers.forEach((te,ue)=>{te.data!==void 0&&P.current.set(ue,te.data)});let U=n.window==null||typeof n.window.document.startViewTransition!="function";if(!q||U){N?Cf(()=>i(L)):C(()=>i(L));return}if(N){Cf(()=>{g&&(d&&d.resolve(),g.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:q.currentLocation,nextLocation:q.nextLocation})});let te=n.window.document.startViewTransition(()=>{Cf(()=>i(L))});te.finished.finally(()=>{Cf(()=>{m(void 0),x(void 0),u(void 0),f({isTransitioning:!1})})}),Cf(()=>x(te));return}g?(d&&d.resolve(),g.skipTransition(),_({state:L,currentLocation:q.currentLocation,nextLocation:q.nextLocation})):(u(L),f({isTransitioning:!0,flushSync:!1,currentLocation:q.currentLocation,nextLocation:q.nextLocation}))},[n.window,g,d,P,C]);R.useLayoutEffect(()=>n.subscribe(S),[n,S]),R.useEffect(()=>{c.isTransitioning&&!c.flushSync&&m(new i4)},[c]),R.useEffect(()=>{if(d&&s&&n.window){let L=s,X=d.promise,F=n.window.document.startViewTransition(async()=>{C(()=>i(L)),await X});F.finished.finally(()=>{m(void 0),x(void 0),u(void 0),f({isTransitioning:!1})}),x(F)}},[C,s,d,n.window]),R.useEffect(()=>{d&&s&&o.location.key===s.location.key&&d.resolve()},[d,g,o.location,s]),R.useEffect(()=>{!c.isTransitioning&&y&&(u(y.state),f({isTransitioning:!0,flushSync:!1,currentLocation:y.currentLocation,nextLocation:y.nextLocation}),_(void 0))},[c.isTransitioning,y]),R.useEffect(()=>{},[]);let A=R.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:L=>n.navigate(L),push:(L,X,F)=>n.navigate(L,{state:X,preventScrollReset:F==null?void 0:F.preventScrollReset}),replace:(L,X,F)=>n.navigate(L,{replace:!0,state:X,preventScrollReset:F==null?void 0:F.preventScrollReset})}),[n]),K=n.basename||"/",O=R.useMemo(()=>({router:n,navigator:A,static:!1,basename:K}),[n,A,K]);return R.createElement(R.Fragment,null,R.createElement(hv.Provider,{value:O},R.createElement(vT.Provider,{value:o},R.createElement(t4.Provider,{value:P.current},R.createElement(e4.Provider,{value:c},R.createElement(HB,{basename:K,location:o.location,navigationType:o.historyAction,navigator:A,future:{v7_relativeSplatPath:n.future.v7_relativeSplatPath}},o.initialized||n.future.v7_partialHydration?R.createElement(s4,{routes:n.routes,future:n.future,state:o}):t))))),null)}function s4(e){let{routes:t,future:n,state:r}=e;return jB(t,void 0,r,n)}const l4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",u4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,WS=R.forwardRef(function(t,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:u,target:c,to:f,preventScrollReset:d,unstable_viewTransition:m}=t,g=VB(t,YB),{basename:x}=R.useContext(Vl),y,_=!1;if(typeof f=="string"&&u4.test(f)&&(y=f,l4))try{let S=new URL(window.location.href),A=f.startsWith("//")?new URL(S.protocol+f):new URL(f),K=Tc(A.pathname,x);A.origin===S.origin&&K!=null?f=K+A.search+A.hash:_=!0}catch{}let P=NB(f,{relative:o}),k=c4(f,{replace:s,state:u,target:c,preventScrollReset:d,relative:o,unstable_viewTransition:m});function C(S){r&&r(S),S.defaultPrevented||k(S)}return R.createElement("a",Dd({},g,{href:y||P,onClick:_||i?r:C,ref:n,target:c}))});var VS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(VS||(VS={}));var GS;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(GS||(GS={}));function c4(e,t){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:u}=t===void 0?{}:t,c=OB(),f=mv(),d=bT(e,{relative:s});return R.useCallback(m=>{if(qB(m,n)){m.preventDefault();let g=r!==void 0?r:zl(f)===zl(d);c(e,{replace:g,state:o,preventScrollReset:i,relative:s,unstable_viewTransition:u})}},[f,c,d,r,o,n,e,i,s,u])}var xT={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(bl,function(){var n=function(h,v){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,T){b.__proto__=T}||function(b,T){for(var j in T)Object.prototype.hasOwnProperty.call(T,j)&&(b[j]=T[j])})(h,v)},r=function(){return(r=Object.assign||function(h){for(var v,b=1,T=arguments.length;b<T;b++)for(var j in v=arguments[b])Object.prototype.hasOwnProperty.call(v,j)&&(h[j]=v[j]);return h}).apply(this,arguments)};function o(h,v,b){if(b||arguments.length===2)for(var T,j=0,z=v.length;j<z;j++)!T&&j in v||((T=T||Array.prototype.slice.call(v,0,j))[j]=v[j]);return h.concat(T||Array.prototype.slice.call(v))}var i=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:bl,s=Object.keys,u=Array.isArray;function c(h,v){return typeof v!="object"||s(v).forEach(function(b){h[b]=v[b]}),h}typeof Promise>"u"||i.Promise||(i.Promise=Promise);var f=Object.getPrototypeOf,d={}.hasOwnProperty;function m(h,v){return d.call(h,v)}function g(h,v){typeof v=="function"&&(v=v(f(h))),(typeof Reflect>"u"?s:Reflect.ownKeys)(v).forEach(function(b){y(h,b,v[b])})}var x=Object.defineProperty;function y(h,v,b,T){x(h,v,c(b&&m(b,"get")&&typeof b.get=="function"?{get:b.get,set:b.set,configurable:!0}:{value:b,configurable:!0,writable:!0},T))}function _(h){return{from:function(v){return h.prototype=Object.create(v.prototype),y(h.prototype,"constructor",h),{extend:g.bind(null,h.prototype)}}}}var P=Object.getOwnPropertyDescriptor,k=[].slice;function C(h,v,b){return k.call(h,v,b)}function S(h,v){return v(h)}function A(h){if(!h)throw new Error("Assertion Failed")}function K(h){i.setImmediate?setImmediate(h):setTimeout(h,0)}function O(h,v){if(typeof v=="string"&&m(h,v))return h[v];if(!v)return h;if(typeof v!="string"){for(var b=[],T=0,j=v.length;T<j;++T){var z=O(h,v[T]);b.push(z)}return b}var Y=v.indexOf(".");if(Y!==-1){var ee=h[v.substr(0,Y)];return ee==null?void 0:O(ee,v.substr(Y+1))}}function L(h,v,b){if(h&&v!==void 0&&!("isFrozen"in Object&&Object.isFrozen(h)))if(typeof v!="string"&&"length"in v){A(typeof b!="string"&&"length"in b);for(var T=0,j=v.length;T<j;++T)L(h,v[T],b[T])}else{var z,Y,ee=v.indexOf(".");ee!==-1?(z=v.substr(0,ee),(Y=v.substr(ee+1))===""?b===void 0?u(h)&&!isNaN(parseInt(z))?h.splice(z,1):delete h[z]:h[z]=b:L(ee=!(ee=h[z])||!m(h,z)?h[z]={}:ee,Y,b)):b===void 0?u(h)&&!isNaN(parseInt(v))?h.splice(v,1):delete h[v]:h[v]=b}}function X(h){var v,b={};for(v in h)m(h,v)&&(b[v]=h[v]);return b}var F=[].concat;function N(h){return F.apply([],h)}var ci="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(N([8,16,32,64].map(function(h){return["Int","Uint","Float"].map(function(v){return v+h+"Array"})}))).filter(function(h){return i[h]}),q=new Set(ci.map(function(h){return i[h]})),U=null;function te(h){return U=new WeakMap,h=function v(b){if(!b||typeof b!="object")return b;var T=U.get(b);if(T)return T;if(u(b)){T=[],U.set(b,T);for(var j=0,z=b.length;j<z;++j)T.push(v(b[j]))}else if(q.has(b.constructor))T=b;else{var Y,ee=f(b);for(Y in T=ee===Object.prototype?{}:Object.create(ee),U.set(b,T),b)m(b,Y)&&(T[Y]=v(b[Y]))}return T}(h),U=null,h}var ue={}.toString;function ke(h){return ue.call(h).slice(8,-1)}var Be=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Ve=typeof Be=="symbol"?function(h){var v;return h!=null&&(v=h[Be])&&v.apply(h)}:function(){return null};function ve(h,v){return v=h.indexOf(v),0<=v&&h.splice(v,1),0<=v}var Fe={};function Ce(h){var v,b,T,j;if(arguments.length===1){if(u(h))return h.slice();if(this===Fe&&typeof h=="string")return[h];if(j=Ve(h)){for(b=[];!(T=j.next()).done;)b.push(T.value);return b}if(h==null)return[h];if(typeof(v=h.length)!="number")return[h];for(b=new Array(v);v--;)b[v]=h[v];return b}for(v=arguments.length,b=new Array(v);v--;)b[v]=arguments[v];return b}var Ke=typeof Symbol<"u"?function(h){return h[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Et=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],uo=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Et),me={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ge(h,v){this.name=h,this.message=v}function Se(h,v){return h+". Errors: "+Object.keys(v).map(function(b){return v[b].toString()}).filter(function(b,T,j){return j.indexOf(b)===T}).join(`
`)}function Re(h,v,b,T){this.failures=v,this.failedKeys=T,this.successCount=b,this.message=Se(h,v)}function Ze(h,v){this.name="BulkError",this.failures=Object.keys(v).map(function(b){return v[b]}),this.failuresByPos=v,this.message=Se(h,this.failures)}_(Ge).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(Re).from(Ge),_(Ze).from(Ge);var pe=uo.reduce(function(h,v){return h[v]=v+"Error",h},{}),ye=Ge,de=uo.reduce(function(h,v){var b=v+"Error";function T(j,z){this.name=b,j?typeof j=="string"?(this.message="".concat(j).concat(z?`
 `+z:""),this.inner=z||null):typeof j=="object"&&(this.message="".concat(j.name," ").concat(j.message),this.inner=j):(this.message=me[v]||b,this.inner=null)}return _(T).from(ye),h[v]=T,h},{});de.Syntax=SyntaxError,de.Type=TypeError,de.Range=RangeError;var Oe=Et.reduce(function(h,v){return h[v+"Error"]=de[v],h},{}),ze=uo.reduce(function(h,v){return["Syntax","Type","Range"].indexOf(v)===-1&&(h[v+"Error"]=de[v]),h},{});function Qe(){}function yt(h){return h}function vt(h,v){return h==null||h===yt?v:function(b){return v(h(b))}}function He(h,v){return function(){h.apply(this,arguments),v.apply(this,arguments)}}function vn(h,v){return h===Qe?v:function(){var b=h.apply(this,arguments);b!==void 0&&(arguments[0]=b);var T=this.onsuccess,j=this.onerror;this.onsuccess=null,this.onerror=null;var z=v.apply(this,arguments);return T&&(this.onsuccess=this.onsuccess?He(T,this.onsuccess):T),j&&(this.onerror=this.onerror?He(j,this.onerror):j),z!==void 0?z:b}}function tn(h,v){return h===Qe?v:function(){h.apply(this,arguments);var b=this.onsuccess,T=this.onerror;this.onsuccess=this.onerror=null,v.apply(this,arguments),b&&(this.onsuccess=this.onsuccess?He(b,this.onsuccess):b),T&&(this.onerror=this.onerror?He(T,this.onerror):T)}}function $n(h,v){return h===Qe?v:function(b){var T=h.apply(this,arguments);c(b,T);var j=this.onsuccess,z=this.onerror;return this.onsuccess=null,this.onerror=null,b=v.apply(this,arguments),j&&(this.onsuccess=this.onsuccess?He(j,this.onsuccess):j),z&&(this.onerror=this.onerror?He(z,this.onerror):z),T===void 0?b===void 0?void 0:b:c(T,b)}}function or(h,v){return h===Qe?v:function(){return v.apply(this,arguments)!==!1&&h.apply(this,arguments)}}function dn(h,v){return h===Qe?v:function(){var b=h.apply(this,arguments);if(b&&typeof b.then=="function"){for(var T=this,j=arguments.length,z=new Array(j);j--;)z[j]=arguments[j];return b.then(function(){return v.apply(T,z)})}return v.apply(this,arguments)}}ze.ModifyError=Re,ze.DexieError=Ge,ze.BulkError=Ze;var jt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function yn(h){jt=h}var gn={},Bt=100,ci=typeof Promise>"u"?[]:function(){var h=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[h,f(h),h];var v=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[v,f(v),h]}(),Et=ci[0],uo=ci[1],ci=ci[2],uo=uo&&uo.then,at=Et&&Et.constructor,bt=!!ci,Ut=function(h,v){Xe.push([h,v]),V&&(queueMicrotask(Ie),V=!1)},lt=!0,V=!0,D=[],W=[],re=yt,ce={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Qe,pgp:!1,env:{},finalize:Qe},be=ce,Xe=[],ct=0,rt=[];function Ne(h){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var v=this._PSD=be;if(typeof h!="function"){if(h!==gn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Qt(this,this._value))}this._state=null,this._value=null,++v.ref,function b(T,j){try{j(function(z){if(T._state===null){if(z===T)throw new TypeError("A promise cannot be resolved with itself.");var Y=T._lib&&De();z&&typeof z.then=="function"?b(T,function(ee,se){z instanceof Ne?z._then(ee,se):z.then(ee,se)}):(T._state=!0,T._value=z,ie(T)),Y&&ht()}},Qt.bind(null,T))}catch(z){Qt(T,z)}}(this,h)}var At={get:function(){var h=be,v=Rt;function b(T,j){var z=this,Y=!h.global&&(h!==be||v!==Rt),ee=Y&&!Cn(),se=new Ne(function(M,G){fe(z,new It(Ko(T,h,Y,ee),Ko(j,h,Y,ee),M,G,h))});return this._consoleTask&&(se._consoleTask=this._consoleTask),se}return b.prototype=gn,b},set:function(h){y(this,"then",h&&h.prototype===gn?At:{get:function(){return h},set:At.set})}};function It(h,v,b,T,j){this.onFulfilled=typeof h=="function"?h:null,this.onRejected=typeof v=="function"?v:null,this.resolve=b,this.reject=T,this.psd=j}function Qt(h,v){var b,T;W.push(v),h._state===null&&(b=h._lib&&De(),v=re(v),h._state=!1,h._value=v,T=h,D.some(function(j){return j._value===T._value})||D.push(T),ie(h),b&&ht())}function ie(h){var v=h._listeners;h._listeners=[];for(var b=0,T=v.length;b<T;++b)fe(h,v[b]);var j=h._PSD;--j.ref||j.finalize(),ct===0&&(++ct,Ut(function(){--ct==0&&Le()},[]))}function fe(h,v){if(h._state!==null){var b=h._state?v.onFulfilled:v.onRejected;if(b===null)return(h._state?v.resolve:v.reject)(h._value);++v.psd.ref,++ct,Ut(Ee,[b,h,v])}else h._listeners.push(v)}function Ee(h,v,b){try{var T,j=v._value;!v._state&&W.length&&(W=[]),T=jt&&v._consoleTask?v._consoleTask.run(function(){return h(j)}):h(j),v._state||W.indexOf(j)!==-1||function(z){for(var Y=D.length;Y;)if(D[--Y]._value===z._value)return D.splice(Y,1)}(v),b.resolve(T)}catch(z){b.reject(z)}finally{--ct==0&&Le(),--b.psd.ref||b.psd.finalize()}}function Ie(){Nn(ce,function(){De()&&ht()})}function De(){var h=lt;return V=lt=!1,h}function ht(){var h,v,b;do for(;0<Xe.length;)for(h=Xe,Xe=[],b=h.length,v=0;v<b;++v){var T=h[v];T[0].apply(null,T[1])}while(0<Xe.length);V=lt=!0}function Le(){var h=D;D=[],h.forEach(function(T){T._PSD.onunhandled.call(null,T._value,T)});for(var v=rt.slice(0),b=v.length;b;)v[--b]()}function _e(h){return new Ne(gn,!1,h)}function Pe(h,v){var b=be;return function(){var T=De(),j=be;try{return fn(b,!0),h.apply(this,arguments)}catch(z){v&&v(z)}finally{fn(j,!1),T&&ht()}}}g(Ne.prototype,{then:At,_then:function(h,v){fe(this,new It(null,null,h,v,be))},catch:function(h){if(arguments.length===1)return this.then(null,h);var v=h,b=arguments[1];return typeof v=="function"?this.then(null,function(T){return(T instanceof v?b:_e)(T)}):this.then(null,function(T){return(T&&T.name===v?b:_e)(T)})},finally:function(h){return this.then(function(v){return Ne.resolve(h()).then(function(){return v})},function(v){return Ne.resolve(h()).then(function(){return _e(v)})})},timeout:function(h,v){var b=this;return h<1/0?new Ne(function(T,j){var z=setTimeout(function(){return j(new de.Timeout(v))},h);b.then(T,j).finally(clearTimeout.bind(null,z))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&y(Ne.prototype,Symbol.toStringTag,"Dexie.Promise"),ce.env=fr(),g(Ne,{all:function(){var h=Ce.apply(null,arguments).map(Yt);return new Ne(function(v,b){h.length===0&&v([]);var T=h.length;h.forEach(function(j,z){return Ne.resolve(j).then(function(Y){h[z]=Y,--T||v(h)},b)})})},resolve:function(h){return h instanceof Ne?h:h&&typeof h.then=="function"?new Ne(function(v,b){h.then(v,b)}):new Ne(gn,!0,h)},reject:_e,race:function(){var h=Ce.apply(null,arguments).map(Yt);return new Ne(function(v,b){h.map(function(T){return Ne.resolve(T).then(v,b)})})},PSD:{get:function(){return be},set:function(h){return be=h}},totalEchoes:{get:function(){return Rt}},newPSD:Kt,usePSD:Nn,scheduler:{get:function(){return Ut},set:function(h){Ut=h}},rejectionMapper:{get:function(){return re},set:function(h){re=h}},follow:function(h,v){return new Ne(function(b,T){return Kt(function(j,z){var Y=be;Y.unhandleds=[],Y.onunhandled=z,Y.finalize=He(function(){var ee,se=this;ee=function(){se.unhandleds.length===0?j():z(se.unhandleds[0])},rt.push(function M(){ee(),rt.splice(rt.indexOf(M),1)}),++ct,Ut(function(){--ct==0&&Le()},[])},Y.finalize),h()},v,b,T)})}}),at&&(at.allSettled&&y(Ne,"allSettled",function(){var h=Ce.apply(null,arguments).map(Yt);return new Ne(function(v){h.length===0&&v([]);var b=h.length,T=new Array(b);h.forEach(function(j,z){return Ne.resolve(j).then(function(Y){return T[z]={status:"fulfilled",value:Y}},function(Y){return T[z]={status:"rejected",reason:Y}}).then(function(){return--b||v(T)})})})}),at.any&&typeof AggregateError<"u"&&y(Ne,"any",function(){var h=Ce.apply(null,arguments).map(Yt);return new Ne(function(v,b){h.length===0&&b(new AggregateError([]));var T=h.length,j=new Array(T);h.forEach(function(z,Y){return Ne.resolve(z).then(function(ee){return v(ee)},function(ee){j[Y]=ee,--T||b(new AggregateError(j))})})})}));var $e={awaits:0,echoes:0,id:0},ut=0,et=[],Ot=0,Rt=0,mn=0;function Kt(h,v,b,T){var j=be,z=Object.create(j);return z.parent=j,z.ref=0,z.global=!1,z.id=++mn,ce.env,z.env=bt?{Promise:Ne,PromiseProp:{value:Ne,configurable:!0,writable:!0},all:Ne.all,race:Ne.race,allSettled:Ne.allSettled,any:Ne.any,resolve:Ne.resolve,reject:Ne.reject}:{},v&&c(z,v),++j.ref,z.finalize=function(){--this.parent.ref||this.parent.finalize()},T=Nn(z,h,b,T),z.ref===0&&z.finalize(),T}function Dt(){return $e.id||($e.id=++ut),++$e.awaits,$e.echoes+=Bt,$e.id}function Cn(){return!!$e.awaits&&(--$e.awaits==0&&($e.id=0),$e.echoes=$e.awaits*Bt,!0)}function Yt(h){return $e.echoes&&h&&h.constructor===at?(Dt(),h.then(function(v){return Cn(),v},function(v){return Cn(),un(v)})):h}function Tn(){var h=et[et.length-1];et.pop(),fn(h,!1)}function fn(h,v){var b,T=be;(v?!$e.echoes||Ot++&&h===be:!Ot||--Ot&&h===be)||queueMicrotask(v?(function(j){++Rt,$e.echoes&&--$e.echoes!=0||($e.echoes=$e.awaits=$e.id=0),et.push(be),fn(j,!0)}).bind(null,h):Tn),h!==be&&(be=h,T===ce&&(ce.env=fr()),bt&&(b=ce.env.Promise,v=h.env,(T.global||h.global)&&(Object.defineProperty(i,"Promise",v.PromiseProp),b.all=v.all,b.race=v.race,b.resolve=v.resolve,b.reject=v.reject,v.allSettled&&(b.allSettled=v.allSettled),v.any&&(b.any=v.any))))}function fr(){var h=i.Promise;return bt?{Promise:h,PromiseProp:Object.getOwnPropertyDescriptor(i,"Promise"),all:h.all,race:h.race,allSettled:h.allSettled,any:h.any,resolve:h.resolve,reject:h.reject}:{}}function Nn(h,v,b,T,j){var z=be;try{return fn(h,!0),v(b,T,j)}finally{fn(z,!1)}}function Ko(h,v,b,T){return typeof h!="function"?h:function(){var j=be;b&&Dt(),fn(v,!0);try{return h.apply(this,arguments)}finally{fn(j,!1),T&&queueMicrotask(Cn)}}}function Nr(h){Promise===at&&$e.echoes===0?Ot===0?h():enqueueNativeMicroTask(h):setTimeout(h,0)}(""+uo).indexOf("[native code]")===-1&&(Dt=Cn=Qe);var un=Ne.reject,Tt="￿",Pt="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",Zt="String expected.",Hn=[],zr="__dbnames",Di="readonly",Yl="readwrite";function Li(h,v){return h?v?function(){return h.apply(this,arguments)&&v.apply(this,arguments)}:h:v}var Dc={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Xl(h){return typeof h!="string"||/\./.test(h)?function(v){return v}:function(v){return v[h]===void 0&&h in v&&delete(v=te(v))[h],v}}function ah(){throw de.Type()}function hn(h,v){try{var b=sh(h),T=sh(v);if(b!==T)return b==="Array"?1:T==="Array"?-1:b==="binary"?1:T==="binary"?-1:b==="string"?1:T==="string"?-1:b==="Date"?1:T!=="Date"?NaN:-1;switch(b){case"number":case"Date":case"string":return v<h?1:h<v?-1:0;case"binary":return function(j,z){for(var Y=j.length,ee=z.length,se=Y<ee?Y:ee,M=0;M<se;++M)if(j[M]!==z[M])return j[M]<z[M]?-1:1;return Y===ee?0:Y<ee?-1:1}(Lc(h),Lc(v));case"Array":return function(j,z){for(var Y=j.length,ee=z.length,se=Y<ee?Y:ee,M=0;M<se;++M){var G=hn(j[M],z[M]);if(G!==0)return G}return Y===ee?0:Y<ee?-1:1}(h,v)}}catch{}return NaN}function sh(h){var v=typeof h;return v!="object"?v:ArrayBuffer.isView(h)?"binary":(h=ke(h),h==="ArrayBuffer"?"binary":h)}function Lc(h){return h instanceof Uint8Array?h:ArrayBuffer.isView(h)?new Uint8Array(h.buffer,h.byteOffset,h.byteLength):new Uint8Array(h)}var Mc=(_n.prototype._trans=function(h,v,b){var T=this._tx||be.trans,j=this.name,z=jt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(h==="readonly"?"read":"write"," ").concat(this.name));function Y(M,G,$){if(!$.schema[j])throw new de.NotFound("Table "+j+" not part of transaction");return v($.idbtrans,$)}var ee=De();try{var se=T&&T.db._novip===this.db._novip?T===be.trans?T._promise(h,Y,b):Kt(function(){return T._promise(h,Y,b)},{trans:T,transless:be.transless||be}):function M(G,$,J,Q){if(G.idbdb&&(G._state.openComplete||be.letThrough||G._vip)){var ne=G._createTransaction($,J,G._dbSchema);try{ne.create(),G._state.PR1398_maxLoop=3}catch(le){return le.name===pe.InvalidState&&G.isOpen()&&0<--G._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),G.close({disableAutoOpen:!1}),G.open().then(function(){return M(G,$,J,Q)})):un(le)}return ne._promise($,function(le,oe){return Kt(function(){return be.trans=ne,Q(le,oe,ne)})}).then(function(le){if($==="readwrite")try{ne.idbtrans.commit()}catch{}return $==="readonly"?le:ne._completion.then(function(){return le})})}if(G._state.openComplete)return un(new de.DatabaseClosed(G._state.dbOpenError));if(!G._state.isBeingOpened){if(!G._state.autoOpen)return un(new de.DatabaseClosed);G.open().catch(Qe)}return G._state.dbReadyPromise.then(function(){return M(G,$,J,Q)})}(this.db,h,[this.name],Y);return z&&(se._consoleTask=z,se=se.catch(function(M){return console.trace(M),un(M)})),se}finally{ee&&ht()}},_n.prototype.get=function(h,v){var b=this;return h&&h.constructor===Object?this.where(h).first(v):h==null?un(new de.Type("Invalid argument to Table.get()")):this._trans("readonly",function(T){return b.core.get({trans:T,key:h}).then(function(j){return b.hook.reading.fire(j)})}).then(v)},_n.prototype.where=function(h){if(typeof h=="string")return new this.db.WhereClause(this,h);if(u(h))return new this.db.WhereClause(this,"[".concat(h.join("+"),"]"));var v=s(h);if(v.length===1)return this.where(v[0]).equals(h[v[0]]);var b=this.schema.indexes.concat(this.schema.primKey).filter(function(se){if(se.compound&&v.every(function(G){return 0<=se.keyPath.indexOf(G)})){for(var M=0;M<v.length;++M)if(v.indexOf(se.keyPath[M])===-1)return!1;return!0}return!1}).sort(function(se,M){return se.keyPath.length-M.keyPath.length})[0];if(b&&this.db._maxKey!==Tt){var Y=b.keyPath.slice(0,v.length);return this.where(Y).equals(Y.map(function(M){return h[M]}))}!b&&jt&&console.warn("The query ".concat(JSON.stringify(h)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(v.join("+"),"]"));var T=this.schema.idxByName,j=this.db._deps.indexedDB;function z(se,M){return j.cmp(se,M)===0}var ee=v.reduce(function(J,M){var G=J[0],$=J[1],J=T[M],Q=h[M];return[G||J,G||!J?Li($,J&&J.multi?function(ne){return ne=O(ne,M),u(ne)&&ne.some(function(le){return z(Q,le)})}:function(ne){return z(Q,O(ne,M))}):$]},[null,null]),Y=ee[0],ee=ee[1];return Y?this.where(Y.name).equals(h[Y.keyPath]).filter(ee):b?this.filter(ee):this.where(v).equals("")},_n.prototype.filter=function(h){return this.toCollection().and(h)},_n.prototype.count=function(h){return this.toCollection().count(h)},_n.prototype.offset=function(h){return this.toCollection().offset(h)},_n.prototype.limit=function(h){return this.toCollection().limit(h)},_n.prototype.each=function(h){return this.toCollection().each(h)},_n.prototype.toArray=function(h){return this.toCollection().toArray(h)},_n.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},_n.prototype.orderBy=function(h){return new this.db.Collection(new this.db.WhereClause(this,u(h)?"[".concat(h.join("+"),"]"):h))},_n.prototype.reverse=function(){return this.toCollection().reverse()},_n.prototype.mapToClass=function(h){var v,b=this.db,T=this.name;function j(){return v!==null&&v.apply(this,arguments)||this}(this.schema.mappedClass=h).prototype instanceof ah&&(function(se,M){if(typeof M!="function"&&M!==null)throw new TypeError("Class extends value "+String(M)+" is not a constructor or null");function G(){this.constructor=se}n(se,M),se.prototype=M===null?Object.create(M):(G.prototype=M.prototype,new G)}(j,v=h),Object.defineProperty(j.prototype,"db",{get:function(){return b},enumerable:!1,configurable:!0}),j.prototype.table=function(){return T},h=j);for(var z=new Set,Y=h.prototype;Y;Y=f(Y))Object.getOwnPropertyNames(Y).forEach(function(se){return z.add(se)});function ee(se){if(!se)return se;var M,G=Object.create(h.prototype);for(M in se)if(!z.has(M))try{G[M]=se[M]}catch{}return G}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=ee,this.hook("reading",ee),h},_n.prototype.defineClass=function(){return this.mapToClass(function(h){c(this,h)})},_n.prototype.add=function(h,v){var b=this,T=this.schema.primKey,j=T.auto,z=T.keyPath,Y=h;return z&&j&&(Y=Xl(z)(h)),this._trans("readwrite",function(ee){return b.core.mutate({trans:ee,type:"add",keys:v!=null?[v]:null,values:[Y]})}).then(function(ee){return ee.numFailures?Ne.reject(ee.failures[0]):ee.lastResult}).then(function(ee){if(z)try{L(h,z,ee)}catch{}return ee})},_n.prototype.update=function(h,v){return typeof h!="object"||u(h)?this.where(":id").equals(h).modify(v):(h=O(h,this.schema.primKey.keyPath),h===void 0?un(new de.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(h).modify(v))},_n.prototype.put=function(h,v){var b=this,T=this.schema.primKey,j=T.auto,z=T.keyPath,Y=h;return z&&j&&(Y=Xl(z)(h)),this._trans("readwrite",function(ee){return b.core.mutate({trans:ee,type:"put",values:[Y],keys:v!=null?[v]:null})}).then(function(ee){return ee.numFailures?Ne.reject(ee.failures[0]):ee.lastResult}).then(function(ee){if(z)try{L(h,z,ee)}catch{}return ee})},_n.prototype.delete=function(h){var v=this;return this._trans("readwrite",function(b){return v.core.mutate({trans:b,type:"delete",keys:[h]})}).then(function(b){return b.numFailures?Ne.reject(b.failures[0]):void 0})},_n.prototype.clear=function(){var h=this;return this._trans("readwrite",function(v){return h.core.mutate({trans:v,type:"deleteRange",range:Dc})}).then(function(v){return v.numFailures?Ne.reject(v.failures[0]):void 0})},_n.prototype.bulkGet=function(h){var v=this;return this._trans("readonly",function(b){return v.core.getMany({keys:h,trans:b}).then(function(T){return T.map(function(j){return v.hook.reading.fire(j)})})})},_n.prototype.bulkAdd=function(h,v,b){var T=this,j=Array.isArray(v)?v:void 0,z=(b=b||(j?void 0:v))?b.allKeys:void 0;return this._trans("readwrite",function(Y){var M=T.schema.primKey,ee=M.auto,M=M.keyPath;if(M&&j)throw new de.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(j&&j.length!==h.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var se=h.length,M=M&&ee?h.map(Xl(M)):h;return T.core.mutate({trans:Y,type:"add",keys:j,values:M,wantResults:z}).then(function(ne){var $=ne.numFailures,J=ne.results,Q=ne.lastResult,ne=ne.failures;if($===0)return z?J:Q;throw new Ze("".concat(T.name,".bulkAdd(): ").concat($," of ").concat(se," operations failed"),ne)})})},_n.prototype.bulkPut=function(h,v,b){var T=this,j=Array.isArray(v)?v:void 0,z=(b=b||(j?void 0:v))?b.allKeys:void 0;return this._trans("readwrite",function(Y){var M=T.schema.primKey,ee=M.auto,M=M.keyPath;if(M&&j)throw new de.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(j&&j.length!==h.length)throw new de.InvalidArgument("Arguments objects and keys must have the same length");var se=h.length,M=M&&ee?h.map(Xl(M)):h;return T.core.mutate({trans:Y,type:"put",keys:j,values:M,wantResults:z}).then(function(ne){var $=ne.numFailures,J=ne.results,Q=ne.lastResult,ne=ne.failures;if($===0)return z?J:Q;throw new Ze("".concat(T.name,".bulkPut(): ").concat($," of ").concat(se," operations failed"),ne)})})},_n.prototype.bulkUpdate=function(h){var v=this,b=this.core,T=h.map(function(Y){return Y.key}),j=h.map(function(Y){return Y.changes}),z=[];return this._trans("readwrite",function(Y){return b.getMany({trans:Y,keys:T,cache:"clone"}).then(function(ee){var se=[],M=[];h.forEach(function($,J){var Q=$.key,ne=$.changes,le=ee[J];if(le){for(var oe=0,ge=Object.keys(ne);oe<ge.length;oe++){var we=ge[oe],xe=ne[we];if(we===v.schema.primKey.keyPath){if(hn(xe,Q)!==0)throw new de.Constraint("Cannot update primary key in bulkUpdate()")}else L(le,we,xe)}z.push(J),se.push(Q),M.push(le)}});var G=se.length;return b.mutate({trans:Y,type:"put",keys:se,values:M,updates:{keys:T,changeSpecs:j}}).then(function($){var J=$.numFailures,Q=$.failures;if(J===0)return G;for(var ne=0,le=Object.keys(Q);ne<le.length;ne++){var oe,ge=le[ne],we=z[Number(ge)];we!=null&&(oe=Q[ge],delete Q[ge],Q[we]=oe)}throw new Ze("".concat(v.name,".bulkUpdate(): ").concat(J," of ").concat(G," operations failed"),Q)})})})},_n.prototype.bulkDelete=function(h){var v=this,b=h.length;return this._trans("readwrite",function(T){return v.core.mutate({trans:T,type:"delete",keys:h})}).then(function(Y){var j=Y.numFailures,z=Y.lastResult,Y=Y.failures;if(j===0)return z;throw new Ze("".concat(v.name,".bulkDelete(): ").concat(j," of ").concat(b," operations failed"),Y)})},_n);function _n(){}function aa(h){function v(Y,ee){if(ee){for(var se=arguments.length,M=new Array(se-1);--se;)M[se-1]=arguments[se];return b[Y].subscribe.apply(null,M),h}if(typeof Y=="string")return b[Y]}var b={};v.addEventType=z;for(var T=1,j=arguments.length;T<j;++T)z(arguments[T]);return v;function z(Y,ee,se){if(typeof Y!="object"){var M;ee=ee||or;var G={subscribers:[],fire:se=se||Qe,subscribe:function($){G.subscribers.indexOf($)===-1&&(G.subscribers.push($),G.fire=ee(G.fire,$))},unsubscribe:function($){G.subscribers=G.subscribers.filter(function(J){return J!==$}),G.fire=G.subscribers.reduce(ee,se)}};return b[Y]=v[Y]=G}s(M=Y).forEach(function($){var J=M[$];if(u(J))z($,M[$][0],M[$][1]);else{if(J!=="asap")throw new de.InvalidArgument("Invalid event config");var Q=z($,yt,function(){for(var ne=arguments.length,le=new Array(ne);ne--;)le[ne]=arguments[ne];Q.subscribers.forEach(function(oe){K(function(){oe.apply(null,le)})})})}})}}function Fs(h,v){return _(v).from({prototype:h}),v}function sa(h,v){return!(h.filter||h.algorithm||h.or)&&(v?h.justLimit:!h.replayFilter)}function Ga(h,v){h.filter=Li(h.filter,v)}function Jl(h,v,b){var T=h.replayFilter;h.replayFilter=T?function(){return Li(T(),v())}:v,h.justLimit=b&&!T}function Ql(h,v){if(h.isPrimKey)return v.primaryKey;var b=v.getIndexByKeyPath(h.index);if(!b)throw new de.Schema("KeyPath "+h.index+" on object store "+v.name+" is not indexed");return b}function zc(h,v,b){var T=Ql(h,v.schema);return v.openCursor({trans:b,values:!h.keysOnly,reverse:h.dir==="prev",unique:!!h.unique,query:{index:T,range:h.range}})}function $s(h,v,b,T){var j=h.replayFilter?Li(h.filter,h.replayFilter()):h.filter;if(h.or){var z={},Y=function(ee,se,M){var G,$;j&&!j(se,M,function(J){return se.stop(J)},function(J){return se.fail(J)})||(($=""+(G=se.primaryKey))=="[object ArrayBuffer]"&&($=""+new Uint8Array(G)),m(z,$)||(z[$]=!0,v(ee,se,M)))};return Promise.all([h.or._iterate(Y,b),Zl(zc(h,T,b),h.algorithm,Y,!h.keysOnly&&h.valueMapper)])}return Zl(zc(h,T,b),Li(h.algorithm,j),v,!h.keysOnly&&h.valueMapper)}function Zl(h,v,b,T){var j=Pe(T?function(z,Y,ee){return b(T(z),Y,ee)}:b);return h.then(function(z){if(z)return z.start(function(){var Y=function(){return z.continue()};v&&!v(z,function(ee){return Y=ee},function(ee){z.stop(ee),Y=Qe},function(ee){z.fail(ee),Y=Qe})||j(z.value,z,function(ee){return Y=ee}),Y()})})}var ci=Symbol(),eu=(tu.prototype.execute=function(h){var v=(v=this.replacePrefix)===null||v===void 0?void 0:v[0];return v&&typeof h=="string"&&h.startsWith(v)?this.replacePrefix[1]+h.substring(v.length):h},tu);function tu(h){Object.assign(this,h)}var Fc=(Xt.prototype._read=function(h,v){var b=this._ctx;return b.error?b.table._trans(null,un.bind(null,b.error)):b.table._trans("readonly",h).then(v)},Xt.prototype._write=function(h){var v=this._ctx;return v.error?v.table._trans(null,un.bind(null,v.error)):v.table._trans("readwrite",h,"locked")},Xt.prototype._addAlgorithm=function(h){var v=this._ctx;v.algorithm=Li(v.algorithm,h)},Xt.prototype._iterate=function(h,v){return $s(this._ctx,h,v,this._ctx.table.core)},Xt.prototype.clone=function(h){var v=Object.create(this.constructor.prototype),b=Object.create(this._ctx);return h&&c(b,h),v._ctx=b,v},Xt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Xt.prototype.each=function(h){var v=this._ctx;return this._read(function(b){return $s(v,h,b,v.table.core)})},Xt.prototype.count=function(h){var v=this;return this._read(function(b){var T=v._ctx,j=T.table.core;if(sa(T,!0))return j.count({trans:b,query:{index:Ql(T,j.schema),range:T.range}}).then(function(Y){return Math.min(Y,T.limit)});var z=0;return $s(T,function(){return++z,!1},b,j).then(function(){return z})}).then(h)},Xt.prototype.sortBy=function(h,v){var b=h.split(".").reverse(),T=b[0],j=b.length-1;function z(se,M){return M?z(se[b[M]],M-1):se[T]}var Y=this._ctx.dir==="next"?1:-1;function ee(se,M){return se=z(se,j),M=z(M,j),se<M?-Y:M<se?Y:0}return this.toArray(function(se){return se.sort(ee)}).then(v)},Xt.prototype.toArray=function(h){var v=this;return this._read(function(b){var T=v._ctx;if(T.dir==="next"&&sa(T,!0)&&0<T.limit){var j=T.valueMapper,z=Ql(T,T.table.core.schema);return T.table.core.query({trans:b,limit:T.limit,values:!0,query:{index:z,range:T.range}}).then(function(ee){return ee=ee.result,j?ee.map(j):ee})}var Y=[];return $s(T,function(ee){return Y.push(ee)},b,T.table.core).then(function(){return Y})},h)},Xt.prototype.offset=function(h){var v=this._ctx;return h<=0||(v.offset+=h,sa(v)?Jl(v,function(){var b=h;return function(T,j){return b===0||(b===1?--b:j(function(){T.advance(b),b=0}),!1)}}):Jl(v,function(){var b=h;return function(){return--b<0}})),this},Xt.prototype.limit=function(h){return this._ctx.limit=Math.min(this._ctx.limit,h),Jl(this._ctx,function(){var v=h;return function(b,T,j){return--v<=0&&T(j),0<=v}},!0),this},Xt.prototype.until=function(h,v){return Ga(this._ctx,function(b,T,j){return!h(b.value)||(T(j),v)}),this},Xt.prototype.first=function(h){return this.limit(1).toArray(function(v){return v[0]}).then(h)},Xt.prototype.last=function(h){return this.reverse().first(h)},Xt.prototype.filter=function(h){var v;return Ga(this._ctx,function(b){return h(b.value)}),(v=this._ctx).isMatch=Li(v.isMatch,h),this},Xt.prototype.and=function(h){return this.filter(h)},Xt.prototype.or=function(h){return new this.db.WhereClause(this._ctx.table,h,this)},Xt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Xt.prototype.desc=function(){return this.reverse()},Xt.prototype.eachKey=function(h){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(b,T){h(T.key,T)})},Xt.prototype.eachUniqueKey=function(h){return this._ctx.unique="unique",this.eachKey(h)},Xt.prototype.eachPrimaryKey=function(h){var v=this._ctx;return v.keysOnly=!v.isMatch,this.each(function(b,T){h(T.primaryKey,T)})},Xt.prototype.keys=function(h){var v=this._ctx;v.keysOnly=!v.isMatch;var b=[];return this.each(function(T,j){b.push(j.key)}).then(function(){return b}).then(h)},Xt.prototype.primaryKeys=function(h){var v=this._ctx;if(v.dir==="next"&&sa(v,!0)&&0<v.limit)return this._read(function(T){var j=Ql(v,v.table.core.schema);return v.table.core.query({trans:T,values:!1,limit:v.limit,query:{index:j,range:v.range}})}).then(function(T){return T.result}).then(h);v.keysOnly=!v.isMatch;var b=[];return this.each(function(T,j){b.push(j.primaryKey)}).then(function(){return b}).then(h)},Xt.prototype.uniqueKeys=function(h){return this._ctx.unique="unique",this.keys(h)},Xt.prototype.firstKey=function(h){return this.limit(1).keys(function(v){return v[0]}).then(h)},Xt.prototype.lastKey=function(h){return this.reverse().firstKey(h)},Xt.prototype.distinct=function(){var h=this._ctx,h=h.index&&h.table.schema.idxByName[h.index];if(!h||!h.multi)return this;var v={};return Ga(this._ctx,function(j){var T=j.primaryKey.toString(),j=m(v,T);return v[T]=!0,!j}),this},Xt.prototype.modify=function(h){var v=this,b=this._ctx;return this._write(function(T){var j,z,Y;Y=typeof h=="function"?h:(j=s(h),z=j.length,function(oe){for(var ge=!1,we=0;we<z;++we){var xe=j[we],Te=h[xe],Me=O(oe,xe);Te instanceof eu?(L(oe,xe,Te.execute(Me)),ge=!0):Me!==Te&&(L(oe,xe,Te),ge=!0)}return ge});function ee(oe,xe){var we=xe.failures,xe=xe.numFailures;ne+=oe-xe;for(var Te=0,Me=s(we);Te<Me.length;Te++){var tt=Me[Te];Q.push(we[tt])}}var se=b.table.core,M=se.schema.primaryKey,G=M.outbound,$=M.extractKey,J=v.db._options.modifyChunkSize||200,Q=[],ne=0,le=[];return v.clone().primaryKeys().then(function(oe){function ge(we){var xe=Math.min(J,oe.length-we);return se.getMany({trans:T,keys:oe.slice(we,we+xe),cache:"immutable"}).then(function(Te){for(var Me=[],tt=[],Ye=G?[]:null,Je=[],Ue=0;Ue<xe;++Ue){var ot=Te[Ue],xt={value:te(ot),primKey:oe[we+Ue]};Y.call(xt,xt.value,xt)!==!1&&(xt.value==null?Je.push(oe[we+Ue]):G||hn($(ot),$(xt.value))===0?(tt.push(xt.value),G&&Ye.push(oe[we+Ue])):(Je.push(oe[we+Ue]),Me.push(xt.value)))}var Lt=sa(b)&&b.limit===1/0&&(typeof h!="function"||h===nu)&&{index:b.index,range:b.range};return Promise.resolve(0<Me.length&&se.mutate({trans:T,type:"add",values:Me}).then(function(Vt){for(var Ht in Vt.failures)Je.splice(parseInt(Ht),1);ee(Me.length,Vt)})).then(function(){return(0<tt.length||Lt&&typeof h=="object")&&se.mutate({trans:T,type:"put",keys:Ye,values:tt,criteria:Lt,changeSpec:typeof h!="function"&&h}).then(function(Vt){return ee(tt.length,Vt)})}).then(function(){return(0<Je.length||Lt&&h===nu)&&se.mutate({trans:T,type:"delete",keys:Je,criteria:Lt}).then(function(Vt){return ee(Je.length,Vt)})}).then(function(){return oe.length>we+xe&&ge(we+J)})})}return ge(0).then(function(){if(0<Q.length)throw new Re("Error modifying one or more objects",Q,ne,le);return oe.length})})})},Xt.prototype.delete=function(){var h=this._ctx,v=h.range;return sa(h)&&(h.isPrimKey||v.type===3)?this._write(function(b){var T=h.table.core.schema.primaryKey,j=v;return h.table.core.count({trans:b,query:{index:T,range:j}}).then(function(z){return h.table.core.mutate({trans:b,type:"deleteRange",range:j}).then(function(Y){var ee=Y.failures;if(Y.lastResult,Y.results,Y=Y.numFailures,Y)throw new Re("Could not delete some values",Object.keys(ee).map(function(se){return ee[se]}),z-Y);return z-Y})})}):this.modify(nu)},Xt);function Xt(){}var nu=function(h,v){return v.value=null};function lh(h,v){return h<v?-1:h===v?0:1}function Lv(h,v){return v<h?-1:h===v?0:1}function Fr(h,v,b){return h=h instanceof ch?new h.Collection(h):h,h._ctx.error=new(b||TypeError)(v),h}function la(h){return new h.Collection(h,function(){return uh("")}).limit(0)}function Bs(h,v,b,T){var j,z,Y,ee,se,M,G,$=b.length;if(!b.every(function(ne){return typeof ne=="string"}))return Fr(h,Zt);function J(ne){j=ne==="next"?function(oe){return oe.toUpperCase()}:function(oe){return oe.toLowerCase()},z=ne==="next"?function(oe){return oe.toLowerCase()}:function(oe){return oe.toUpperCase()},Y=ne==="next"?lh:Lv;var le=b.map(function(oe){return{lower:z(oe),upper:j(oe)}}).sort(function(oe,ge){return Y(oe.lower,ge.lower)});ee=le.map(function(oe){return oe.upper}),se=le.map(function(oe){return oe.lower}),G=(M=ne)==="next"?"":T}J("next"),h=new h.Collection(h,function(){return fi(ee[0],se[$-1]+T)}),h._ondirectionchange=function(ne){J(ne)};var Q=0;return h._addAlgorithm(function(ne,le,oe){var ge=ne.key;if(typeof ge!="string")return!1;var we=z(ge);if(v(we,se,Q))return!0;for(var xe=null,Te=Q;Te<$;++Te){var Me=function(tt,Ye,Je,Ue,ot,xt){for(var Lt=Math.min(tt.length,Ue.length),Vt=-1,Ht=0;Ht<Lt;++Ht){var ko=Ye[Ht];if(ko!==Ue[Ht])return ot(tt[Ht],Je[Ht])<0?tt.substr(0,Ht)+Je[Ht]+Je.substr(Ht+1):ot(tt[Ht],Ue[Ht])<0?tt.substr(0,Ht)+Ue[Ht]+Je.substr(Ht+1):0<=Vt?tt.substr(0,Vt)+Ye[Vt]+Je.substr(Vt+1):null;ot(tt[Ht],ko)<0&&(Vt=Ht)}return Lt<Ue.length&&xt==="next"?tt+Je.substr(tt.length):Lt<tt.length&&xt==="prev"?tt.substr(0,Je.length):Vt<0?null:tt.substr(0,Vt)+Ue[Vt]+Je.substr(Vt+1)}(ge,we,ee[Te],se[Te],Y,M);Me===null&&xe===null?Q=Te+1:(xe===null||0<Y(xe,Me))&&(xe=Me)}return le(xe!==null?function(){ne.continue(xe+G)}:oe),!1}),h}function fi(h,v,b,T){return{type:2,lower:h,upper:v,lowerOpen:b,upperOpen:T}}function uh(h){return{type:1,lower:h,upper:h}}var ch=(Object.defineProperty(dr.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),dr.prototype.between=function(h,v,b,T){b=b!==!1,T=T===!0;try{return 0<this._cmp(h,v)||this._cmp(h,v)===0&&(b||T)&&(!b||!T)?la(this):new this.Collection(this,function(){return fi(h,v,!b,!T)})}catch{return Fr(this,Pt)}},dr.prototype.equals=function(h){return h==null?Fr(this,Pt):new this.Collection(this,function(){return uh(h)})},dr.prototype.above=function(h){return h==null?Fr(this,Pt):new this.Collection(this,function(){return fi(h,void 0,!0)})},dr.prototype.aboveOrEqual=function(h){return h==null?Fr(this,Pt):new this.Collection(this,function(){return fi(h,void 0,!1)})},dr.prototype.below=function(h){return h==null?Fr(this,Pt):new this.Collection(this,function(){return fi(void 0,h,!1,!0)})},dr.prototype.belowOrEqual=function(h){return h==null?Fr(this,Pt):new this.Collection(this,function(){return fi(void 0,h)})},dr.prototype.startsWith=function(h){return typeof h!="string"?Fr(this,Zt):this.between(h,h+Tt,!0,!0)},dr.prototype.startsWithIgnoreCase=function(h){return h===""?this.startsWith(h):Bs(this,function(v,b){return v.indexOf(b[0])===0},[h],Tt)},dr.prototype.equalsIgnoreCase=function(h){return Bs(this,function(v,b){return v===b[0]},[h],"")},dr.prototype.anyOfIgnoreCase=function(){var h=Ce.apply(Fe,arguments);return h.length===0?la(this):Bs(this,function(v,b){return b.indexOf(v)!==-1},h,"")},dr.prototype.startsWithAnyOfIgnoreCase=function(){var h=Ce.apply(Fe,arguments);return h.length===0?la(this):Bs(this,function(v,b){return b.some(function(T){return v.indexOf(T)===0})},h,Tt)},dr.prototype.anyOf=function(){var h=this,v=Ce.apply(Fe,arguments),b=this._cmp;try{v.sort(b)}catch{return Fr(this,Pt)}if(v.length===0)return la(this);var T=new this.Collection(this,function(){return fi(v[0],v[v.length-1])});T._ondirectionchange=function(z){b=z==="next"?h._ascending:h._descending,v.sort(b)};var j=0;return T._addAlgorithm(function(z,Y,ee){for(var se=z.key;0<b(se,v[j]);)if(++j===v.length)return Y(ee),!1;return b(se,v[j])===0||(Y(function(){z.continue(v[j])}),!1)}),T},dr.prototype.notEqual=function(h){return this.inAnyRange([[-1/0,h],[h,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},dr.prototype.noneOf=function(){var h=Ce.apply(Fe,arguments);if(h.length===0)return new this.Collection(this);try{h.sort(this._ascending)}catch{return Fr(this,Pt)}var v=h.reduce(function(b,T){return b?b.concat([[b[b.length-1][1],T]]):[[-1/0,T]]},null);return v.push([h[h.length-1],this.db._maxKey]),this.inAnyRange(v,{includeLowers:!1,includeUppers:!1})},dr.prototype.inAnyRange=function(ge,v){var b=this,T=this._cmp,j=this._ascending,z=this._descending,Y=this._min,ee=this._max;if(ge.length===0)return la(this);if(!ge.every(function(we){return we[0]!==void 0&&we[1]!==void 0&&j(we[0],we[1])<=0}))return Fr(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",de.InvalidArgument);var se=!v||v.includeLowers!==!1,M=v&&v.includeUppers===!0,G,$=j;function J(we,xe){return $(we[0],xe[0])}try{(G=ge.reduce(function(we,xe){for(var Te=0,Me=we.length;Te<Me;++Te){var tt=we[Te];if(T(xe[0],tt[1])<0&&0<T(xe[1],tt[0])){tt[0]=Y(tt[0],xe[0]),tt[1]=ee(tt[1],xe[1]);break}}return Te===Me&&we.push(xe),we},[])).sort(J)}catch{return Fr(this,Pt)}var Q=0,ne=M?function(we){return 0<j(we,G[Q][1])}:function(we){return 0<=j(we,G[Q][1])},le=se?function(we){return 0<z(we,G[Q][0])}:function(we){return 0<=z(we,G[Q][0])},oe=ne,ge=new this.Collection(this,function(){return fi(G[0][0],G[G.length-1][1],!se,!M)});return ge._ondirectionchange=function(we){$=we==="next"?(oe=ne,j):(oe=le,z),G.sort(J)},ge._addAlgorithm(function(we,xe,Te){for(var Me,tt=we.key;oe(tt);)if(++Q===G.length)return xe(Te),!1;return!ne(Me=tt)&&!le(Me)||(b._cmp(tt,G[Q][1])===0||b._cmp(tt,G[Q][0])===0||xe(function(){$===j?we.continue(G[Q][0]):we.continue(G[Q][1])}),!1)}),ge},dr.prototype.startsWithAnyOf=function(){var h=Ce.apply(Fe,arguments);return h.every(function(v){return typeof v=="string"})?h.length===0?la(this):this.inAnyRange(h.map(function(v){return[v,v+Tt]})):Fr(this,"startsWithAnyOf() only works with strings")},dr);function dr(){}function _o(h){return Pe(function(v){return Us(v),h(v.target.error),!1})}function Us(h){h.stopPropagation&&h.stopPropagation(),h.preventDefault&&h.preventDefault()}var Ks="storagemutated",$c="x-storagemutated-1",Mi=aa(null,Ks),Bc=(Ho.prototype._lock=function(){return A(!be.global),++this._reculock,this._reculock!==1||be.global||(be.lockOwnerFor=this),this},Ho.prototype._unlock=function(){if(A(!be.global),--this._reculock==0)for(be.global||(be.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var h=this._blockedFuncs.shift();try{Nn(h[1],h[0])}catch{}}return this},Ho.prototype._locked=function(){return this._reculock&&be.lockOwnerFor!==this},Ho.prototype.create=function(h){var v=this;if(!this.mode)return this;var b=this.db.idbdb,T=this.db._state.dbOpenError;if(A(!this.idbtrans),!h&&!b)switch(T&&T.name){case"DatabaseClosedError":throw new de.DatabaseClosed(T);case"MissingAPIError":throw new de.MissingAPI(T.message,T);default:throw new de.OpenFailed(T)}if(!this.active)throw new de.TransactionInactive;return A(this._completion._state===null),(h=this.idbtrans=h||(this.db.core||b).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Pe(function(j){Us(j),v._reject(h.error)}),h.onabort=Pe(function(j){Us(j),v.active&&v._reject(new de.Abort(h.error)),v.active=!1,v.on("abort").fire(j)}),h.oncomplete=Pe(function(){v.active=!1,v._resolve(),"mutatedParts"in h&&Mi.storagemutated.fire(h.mutatedParts)}),this},Ho.prototype._promise=function(h,v,b){var T=this;if(h==="readwrite"&&this.mode!=="readwrite")return un(new de.ReadOnly("Transaction is readonly"));if(!this.active)return un(new de.TransactionInactive);if(this._locked())return new Ne(function(z,Y){T._blockedFuncs.push([function(){T._promise(h,v,b).then(z,Y)},be])});if(b)return Kt(function(){var z=new Ne(function(Y,ee){T._lock();var se=v(Y,ee,T);se&&se.then&&se.then(Y,ee)});return z.finally(function(){return T._unlock()}),z._lib=!0,z});var j=new Ne(function(z,Y){var ee=v(z,Y,T);ee&&ee.then&&ee.then(z,Y)});return j._lib=!0,j},Ho.prototype._root=function(){return this.parent?this.parent._root():this},Ho.prototype.waitFor=function(h){var v,b=this._root(),T=Ne.resolve(h);b._waitingFor?b._waitingFor=b._waitingFor.then(function(){return T}):(b._waitingFor=T,b._waitingQueue=[],v=b.idbtrans.objectStore(b.storeNames[0]),function z(){for(++b._spinCount;b._waitingQueue.length;)b._waitingQueue.shift()();b._waitingFor&&(v.get(-1/0).onsuccess=z)}());var j=b._waitingFor;return new Ne(function(z,Y){T.then(function(ee){return b._waitingQueue.push(Pe(z.bind(null,ee)))},function(ee){return b._waitingQueue.push(Pe(Y.bind(null,ee)))}).finally(function(){b._waitingFor===j&&(b._waitingFor=null)})})},Ho.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new de.Abort))},Ho.prototype.table=function(h){var v=this._memoizedTables||(this._memoizedTables={});if(m(v,h))return v[h];var b=this.schema[h];if(!b)throw new de.NotFound("Table "+h+" not part of transaction");return b=new this.db.Table(h,b,this),b.core=this.db.core.table(h),v[h]=b},Ho);function Ho(){}function Uc(h,v,b,T,j,z,Y){return{name:h,keyPath:v,unique:b,multi:T,auto:j,compound:z,src:(b&&!Y?"&":"")+(T?"*":"")+(j?"++":"")+fh(v)}}function fh(h){return typeof h=="string"?h:h?"["+[].join.call(h,"+")+"]":""}function Kc(h,v,b){return{name:h,primKey:v,indexes:b,mappedClass:null,idxByName:(T=function(j){return[j.name,j]},b.reduce(function(j,z,Y){return Y=T(z,Y),Y&&(j[Y[0]]=Y[1]),j},{}))};var T}var Hs=function(h){try{return h.only([[]]),Hs=function(){return[[]]},[[]]}catch{return Hs=function(){return Tt},Tt}};function En(h){return h==null?function(){}:typeof h=="string"?(v=h).split(".").length===1?function(b){return b[v]}:function(b){return O(b,v)}:function(b){return O(b,h)};var v}function xn(h){return[].slice.call(h)}var Mv=0;function Ws(h){return h==null?":id":typeof h=="string"?h:"[".concat(h.join("+"),"]")}function zv(h,v,se){function T(oe){if(oe.type===3)return null;if(oe.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var Q=oe.lower,ne=oe.upper,le=oe.lowerOpen,oe=oe.upperOpen;return Q===void 0?ne===void 0?null:v.upperBound(ne,!!oe):ne===void 0?v.lowerBound(Q,!!le):v.bound(Q,ne,!!le,!!oe)}function j(J){var Q,ne=J.name;return{name:ne,schema:J,mutate:function(le){var oe=le.trans,ge=le.type,we=le.keys,xe=le.values,Te=le.range;return new Promise(function(Me,tt){Me=Pe(Me);var Ye=oe.objectStore(ne),Je=Ye.keyPath==null,Ue=ge==="put"||ge==="add";if(!Ue&&ge!=="delete"&&ge!=="deleteRange")throw new Error("Invalid operation type: "+ge);var ot,xt=(we||xe||{length:1}).length;if(we&&xe&&we.length!==xe.length)throw new Error("Given keys array must have same length as given values array.");if(xt===0)return Me({numFailures:0,failures:{},results:[],lastResult:void 0});function Lt(hr){++ko,Us(hr)}var Vt=[],Ht=[],ko=0;if(ge==="deleteRange"){if(Te.type===4)return Me({numFailures:ko,failures:Ht,results:[],lastResult:void 0});Te.type===3?Vt.push(ot=Ye.clear()):Vt.push(ot=Ye.delete(T(Te)))}else{var Je=Ue?Je?[xe,we]:[xe,null]:[we,null],Mt=Je[0],Ln=Je[1];if(Ue)for(var ir=0;ir<xt;++ir)Vt.push(ot=Ln&&Ln[ir]!==void 0?Ye[ge](Mt[ir],Ln[ir]):Ye[ge](Mt[ir])),ot.onerror=Lt;else for(ir=0;ir<xt;++ir)Vt.push(ot=Ye[ge](Mt[ir])),ot.onerror=Lt}function nl(hr){hr=hr.target.result,Vt.forEach(function(Fi,hu){return Fi.error!=null&&(Ht[hu]=Fi.error)}),Me({numFailures:ko,failures:Ht,results:ge==="delete"?we:Vt.map(function(Fi){return Fi.result}),lastResult:hr})}ot.onerror=function(hr){Lt(hr),nl(hr)},ot.onsuccess=nl})},getMany:function(le){var oe=le.trans,ge=le.keys;return new Promise(function(we,xe){we=Pe(we);for(var Te,Me=oe.objectStore(ne),tt=ge.length,Ye=new Array(tt),Je=0,Ue=0,ot=function(Vt){Vt=Vt.target,Ye[Vt._pos]=Vt.result,++Ue===Je&&we(Ye)},xt=_o(xe),Lt=0;Lt<tt;++Lt)ge[Lt]!=null&&((Te=Me.get(ge[Lt]))._pos=Lt,Te.onsuccess=ot,Te.onerror=xt,++Je);Je===0&&we(Ye)})},get:function(le){var oe=le.trans,ge=le.key;return new Promise(function(we,xe){we=Pe(we);var Te=oe.objectStore(ne).get(ge);Te.onsuccess=function(Me){return we(Me.target.result)},Te.onerror=_o(xe)})},query:(Q=M,function(le){return new Promise(function(oe,ge){oe=Pe(oe);var we,xe,Te,Je=le.trans,Me=le.values,tt=le.limit,ot=le.query,Ye=tt===1/0?void 0:tt,Ue=ot.index,ot=ot.range,Je=Je.objectStore(ne),Ue=Ue.isPrimaryKey?Je:Je.index(Ue.name),ot=T(ot);if(tt===0)return oe({result:[]});Q?((Ye=Me?Ue.getAll(ot,Ye):Ue.getAllKeys(ot,Ye)).onsuccess=function(xt){return oe({result:xt.target.result})},Ye.onerror=_o(ge)):(we=0,xe=!Me&&"openKeyCursor"in Ue?Ue.openKeyCursor(ot):Ue.openCursor(ot),Te=[],xe.onsuccess=function(xt){var Lt=xe.result;return Lt?(Te.push(Me?Lt.value:Lt.primaryKey),++we===tt?oe({result:Te}):void Lt.continue()):oe({result:Te})},xe.onerror=_o(ge))})}),openCursor:function(le){var oe=le.trans,ge=le.values,we=le.query,xe=le.reverse,Te=le.unique;return new Promise(function(Me,tt){Me=Pe(Me);var Ue=we.index,Ye=we.range,Je=oe.objectStore(ne),Je=Ue.isPrimaryKey?Je:Je.index(Ue.name),Ue=xe?Te?"prevunique":"prev":Te?"nextunique":"next",ot=!ge&&"openKeyCursor"in Je?Je.openKeyCursor(T(Ye),Ue):Je.openCursor(T(Ye),Ue);ot.onerror=_o(tt),ot.onsuccess=Pe(function(xt){var Lt,Vt,Ht,ko,Mt=ot.result;Mt?(Mt.___id=++Mv,Mt.done=!1,Lt=Mt.continue.bind(Mt),Vt=(Vt=Mt.continuePrimaryKey)&&Vt.bind(Mt),Ht=Mt.advance.bind(Mt),ko=function(){throw new Error("Cursor not stopped")},Mt.trans=oe,Mt.stop=Mt.continue=Mt.continuePrimaryKey=Mt.advance=function(){throw new Error("Cursor not started")},Mt.fail=Pe(tt),Mt.next=function(){var Ln=this,ir=1;return this.start(function(){return ir--?Ln.continue():Ln.stop()}).then(function(){return Ln})},Mt.start=function(Ln){function ir(){if(ot.result)try{Ln()}catch(hr){Mt.fail(hr)}else Mt.done=!0,Mt.start=function(){throw new Error("Cursor behind last entry")},Mt.stop()}var nl=new Promise(function(hr,Fi){hr=Pe(hr),ot.onerror=_o(Fi),Mt.fail=Fi,Mt.stop=function(hu){Mt.stop=Mt.continue=Mt.continuePrimaryKey=Mt.advance=ko,hr(hu)}});return ot.onsuccess=Pe(function(hr){ot.onsuccess=ir,ir()}),Mt.continue=Lt,Mt.continuePrimaryKey=Vt,Mt.advance=Ht,ir(),nl},Me(Mt)):Me(null)},tt)})},count:function(le){var oe=le.query,ge=le.trans,we=oe.index,xe=oe.range;return new Promise(function(Te,Me){var tt=ge.objectStore(ne),Ye=we.isPrimaryKey?tt:tt.index(we.name),tt=T(xe),Ye=tt?Ye.count(tt):Ye.count();Ye.onsuccess=Pe(function(Je){return Te(Je.target.result)}),Ye.onerror=_o(Me)})}}}var z,Y,ee,G=(Y=se,ee=xn((z=h).objectStoreNames),{schema:{name:z.name,tables:ee.map(function(J){return Y.objectStore(J)}).map(function(J){var Q=J.keyPath,oe=J.autoIncrement,ne=u(Q),le={},oe={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:Q==null,compound:ne,keyPath:Q,autoIncrement:oe,unique:!0,extractKey:En(Q)},indexes:xn(J.indexNames).map(function(ge){return J.index(ge)}).map(function(Te){var we=Te.name,xe=Te.unique,Me=Te.multiEntry,Te=Te.keyPath,Me={name:we,compound:u(Te),keyPath:Te,unique:xe,multiEntry:Me,extractKey:En(Te)};return le[Ws(Te)]=Me}),getIndexByKeyPath:function(ge){return le[Ws(ge)]}};return le[":id"]=oe.primaryKey,Q!=null&&(le[Ws(Q)]=oe.primaryKey),oe})},hasGetAll:0<ee.length&&"getAll"in Y.objectStore(ee[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),se=G.schema,M=G.hasGetAll,G=se.tables.map(j),$={};return G.forEach(function(J){return $[J.name]=J}),{stack:"dbcore",transaction:h.transaction.bind(h),table:function(J){if(!$[J])throw new Error("Table '".concat(J,"' not found"));return $[J]},MIN_KEY:-1/0,MAX_KEY:Hs(v),schema:se}}function Fv(h,v,b,T){var j=b.IDBKeyRange;return b.indexedDB,{dbcore:(T=zv(v,j,T),h.dbcore.reduce(function(z,Y){return Y=Y.create,r(r({},z),Y(z))},T))}}function ru(h,T){var b=T.db,T=Fv(h._middlewares,b,h._deps,T);h.core=T.dbcore,h.tables.forEach(function(j){var z=j.name;h.core.schema.tables.some(function(Y){return Y.name===z})&&(j.core=h.core.table(z),h[z]instanceof h.Table&&(h[z].core=j.core))})}function ou(h,v,b,T){b.forEach(function(j){var z=T[j];v.forEach(function(Y){var ee=function se(M,G){return P(M,G)||(M=f(M))&&se(M,G)}(Y,j);(!ee||"value"in ee&&ee.value===void 0)&&(Y===h.Transaction.prototype||Y instanceof h.Transaction?y(Y,j,{get:function(){return this.table(j)},set:function(se){x(this,j,{value:se,writable:!0,configurable:!0,enumerable:!0})}}):Y[j]=new h.Table(j,z))})})}function iu(h,v){v.forEach(function(b){for(var T in b)b[T]instanceof h.Table&&delete b[T]})}function $v(h,v){return h._cfg.version-v._cfg.version}function gr(h,v,b,T){var j=h._dbSchema;b.objectStoreNames.contains("$meta")&&!j.$meta&&(j.$meta=Kc("$meta",Wc("")[0],[]),h._storeNames.push("$meta"));var z=h._createTransaction("readwrite",h._storeNames,j);z.create(b),z._completion.catch(T);var Y=z._reject.bind(z),ee=be.transless||be;Kt(function(){return be.trans=z,be.transless=ee,v!==0?(ru(h,b),M=v,((se=z).storeNames.includes("$meta")?se.table("$meta").get("version").then(function(G){return G??M}):Ne.resolve(M)).then(function(G){return J=G,Q=z,ne=b,le=[],G=($=h)._versions,oe=$._dbSchema=Vs(0,$.idbdb,ne),(G=G.filter(function(ge){return ge._cfg.version>=J})).length!==0?(G.forEach(function(ge){le.push(function(){var we=oe,xe=ge._cfg.dbschema;Gs($,we,ne),Gs($,xe,ne),oe=$._dbSchema=xe;var Te=di(we,xe);Te.add.forEach(function(Ue){au(ne,Ue[0],Ue[1].primKey,Ue[1].indexes)}),Te.change.forEach(function(Ue){if(Ue.recreate)throw new de.Upgrade("Not yet support for changing primary key");var ot=ne.objectStore(Ue.name);Ue.add.forEach(function(xt){return Or(ot,xt)}),Ue.change.forEach(function(xt){ot.deleteIndex(xt.name),Or(ot,xt)}),Ue.del.forEach(function(xt){return ot.deleteIndex(xt)})});var Me=ge._cfg.contentUpgrade;if(Me&&ge._cfg.version>J){ru($,ne),Q._memoizedTables={};var tt=X(xe);Te.del.forEach(function(Ue){tt[Ue]=we[Ue]}),iu($,[$.Transaction.prototype]),ou($,[$.Transaction.prototype],s(tt),tt),Q.schema=tt;var Ye,Je=Ke(Me);return Je&&Dt(),Te=Ne.follow(function(){var Ue;(Ye=Me(Q))&&Je&&(Ue=Cn.bind(null,null),Ye.then(Ue,Ue))}),Ye&&typeof Ye.then=="function"?Ne.resolve(Ye):Te.then(function(){return Ye})}}),le.push(function(we){var xe,Te,Me=ge._cfg.dbschema;xe=Me,Te=we,[].slice.call(Te.db.objectStoreNames).forEach(function(tt){return xe[tt]==null&&Te.db.deleteObjectStore(tt)}),iu($,[$.Transaction.prototype]),ou($,[$.Transaction.prototype],$._storeNames,$._dbSchema),Q.schema=$._dbSchema}),le.push(function(we){$.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil($.idbdb.version/10)===ge._cfg.version?($.idbdb.deleteObjectStore("$meta"),delete $._dbSchema.$meta,$._storeNames=$._storeNames.filter(function(xe){return xe!=="$meta"})):we.objectStore("$meta").put(ge._cfg.version,"version"))})}),function ge(){return le.length?Ne.resolve(le.shift()(Q.idbtrans)).then(ge):Ne.resolve()}().then(function(){su(oe,ne)})):Ne.resolve();var $,J,Q,ne,le,oe}).catch(Y)):(s(j).forEach(function(G){au(b,G,j[G].primKey,j[G].indexes)}),ru(h,b),void Ne.follow(function(){return h.on.populate.fire(z)}).catch(Y));var se,M})}function Hc(h,v){su(h._dbSchema,v),v.db.version%10!=0||v.objectStoreNames.contains("$meta")||v.db.createObjectStore("$meta").add(Math.ceil(v.db.version/10-1),"version");var b=Vs(0,h.idbdb,v);Gs(h,h._dbSchema,v);for(var T=0,j=di(b,h._dbSchema).change;T<j.length;T++){var z=function(Y){if(Y.change.length||Y.recreate)return console.warn("Unable to patch indexes of table ".concat(Y.name," because it has changes on the type of index or primary key.")),{value:void 0};var ee=v.objectStore(Y.name);Y.add.forEach(function(se){jt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(Y.name,".").concat(se.src)),Or(ee,se)})}(j[T]);if(typeof z=="object")return z.value}}function di(h,v){var b,T={del:[],add:[],change:[]};for(b in h)v[b]||T.del.push(b);for(b in v){var j=h[b],z=v[b];if(j){var Y={name:b,def:z,recreate:!1,del:[],add:[],change:[]};if(""+(j.primKey.keyPath||"")!=""+(z.primKey.keyPath||"")||j.primKey.auto!==z.primKey.auto)Y.recreate=!0,T.change.push(Y);else{var ee=j.idxByName,se=z.idxByName,M=void 0;for(M in ee)se[M]||Y.del.push(M);for(M in se){var G=ee[M],$=se[M];G?G.src!==$.src&&Y.change.push($):Y.add.push($)}(0<Y.del.length||0<Y.add.length||0<Y.change.length)&&T.change.push(Y)}}else T.add.push([b,z])}return T}function au(h,v,b,T){var j=h.db.createObjectStore(v,b.keyPath?{keyPath:b.keyPath,autoIncrement:b.auto}:{autoIncrement:b.auto});return T.forEach(function(z){return Or(j,z)}),j}function su(h,v){s(h).forEach(function(b){v.db.objectStoreNames.contains(b)||(jt&&console.debug("Dexie: Creating missing table",b),au(v,b,h[b].primKey,h[b].indexes))})}function Or(h,v){h.createIndex(v.name,v.keyPath,{unique:v.unique,multiEntry:v.multi})}function Vs(h,v,b){var T={};return C(v.objectStoreNames,0).forEach(function(j){for(var z=b.objectStore(j),Y=Uc(fh(M=z.keyPath),M||"",!0,!1,!!z.autoIncrement,M&&typeof M!="string",!0),ee=[],se=0;se<z.indexNames.length;++se){var G=z.index(z.indexNames[se]),M=G.keyPath,G=Uc(G.name,M,!!G.unique,!!G.multiEntry,!1,M&&typeof M!="string",!1);ee.push(G)}T[j]=Kc(j,Y,ee)}),T}function Gs(h,v,b){for(var T=b.db.objectStoreNames,j=0;j<T.length;++j){var z=T[j],Y=b.objectStore(z);h._hasGetAll="getAll"in Y;for(var ee=0;ee<Y.indexNames.length;++ee){var se=Y.indexNames[ee],M=Y.index(se).keyPath,G=typeof M=="string"?M:"["+C(M).join("+")+"]";!v[z]||(M=v[z].idxByName[G])&&(M.name=se,delete v[z].idxByName[G],v[z].idxByName[se]=M)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&i.WorkerGlobalScope&&i instanceof i.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(h._hasGetAll=!1)}function Wc(h){return h.split(",").map(function(v,b){var T=(v=v.trim()).replace(/([&*]|\+\+)/g,""),j=/^\[/.test(T)?T.match(/^\[(.*)\]$/)[1].split("+"):T;return Uc(T,j||null,/\&/.test(v),/\*/.test(v),/\+\+/.test(v),u(j),b===0)})}var dh=(qs.prototype._parseStoresSpec=function(h,v){s(h).forEach(function(b){if(h[b]!==null){var T=Wc(h[b]),j=T.shift();if(j.unique=!0,j.multi)throw new de.Schema("Primary key cannot be multi-valued");T.forEach(function(z){if(z.auto)throw new de.Schema("Only primary key can be marked as autoIncrement (++)");if(!z.keyPath)throw new de.Schema("Index must have a name and cannot be an empty string")}),v[b]=Kc(b,j,T)}})},qs.prototype.stores=function(b){var v=this.db;this._cfg.storesSource=this._cfg.storesSource?c(this._cfg.storesSource,b):b;var b=v._versions,T={},j={};return b.forEach(function(z){c(T,z._cfg.storesSource),j=z._cfg.dbschema={},z._parseStoresSpec(T,j)}),v._dbSchema=j,iu(v,[v._allTables,v,v.Transaction.prototype]),ou(v,[v._allTables,v,v.Transaction.prototype,this._cfg.tables],s(j),j),v._storeNames=s(j),this},qs.prototype.upgrade=function(h){return this._cfg.contentUpgrade=dn(this._cfg.contentUpgrade||Qe,h),this},qs);function qs(){}function lu(h,v){var b=h._dbNamesDB;return b||(b=h._dbNamesDB=new mi(zr,{addons:[],indexedDB:h,IDBKeyRange:v})).version(1).stores({dbnames:"name"}),b.table("dbnames")}function Rr(h){return h&&typeof h.databases=="function"}function Vc(h){return Kt(function(){return be.letThrough=!0,h()})}function $r(h){return!("from"in h)}var _r=function(h,v){if(!this){var b=new _r;return h&&"d"in h&&c(b,h),b}c(this,arguments.length?{d:1,from:h,to:1<arguments.length?v:h}:{d:0})};function qa(h,v,b){var T=hn(v,b);if(!isNaN(T)){if(0<T)throw RangeError();if($r(h))return c(h,{from:v,to:b,d:1});var j=h.l,T=h.r;if(hn(b,h.from)<0)return j?qa(j,v,b):h.l={from:v,to:b,d:1,l:null,r:null},On(h);if(0<hn(v,h.to))return T?qa(T,v,b):h.r={from:v,to:b,d:1,l:null,r:null},On(h);hn(v,h.from)<0&&(h.from=v,h.l=null,h.d=T?T.d+1:1),0<hn(b,h.to)&&(h.to=b,h.r=null,h.d=h.l?h.l.d+1:1),b=!h.r,j&&!h.l&&lo(h,j),T&&b&&lo(h,T)}}function lo(h,v){$r(v)||function b(T,se){var z=se.from,Y=se.to,ee=se.l,se=se.r;qa(T,z,Y),ee&&b(T,ee),se&&b(T,se)}(h,v)}function ua(h,v){var b=Ys(v),T=b.next();if(T.done)return!1;for(var j=T.value,z=Ys(h),Y=z.next(j.from),ee=Y.value;!T.done&&!Y.done;){if(hn(ee.from,j.to)<=0&&0<=hn(ee.to,j.from))return!0;hn(j.from,ee.from)<0?j=(T=b.next(ee.from)).value:ee=(Y=z.next(j.from)).value}return!1}function Ys(h){var v=$r(h)?null:{s:0,n:h};return{next:function(b){for(var T=0<arguments.length;v;)switch(v.s){case 0:if(v.s=1,T)for(;v.n.l&&hn(b,v.n.from)<0;)v={up:v,n:v.n.l,s:1};else for(;v.n.l;)v={up:v,n:v.n.l,s:1};case 1:if(v.s=2,!T||hn(b,v.n.to)<=0)return{value:v.n,done:!1};case 2:if(v.n.r){v.s=3,v={up:v,n:v.n.r,s:0};continue}case 3:v=v.up}return{done:!0}}}}function On(h){var v,b,T=(((v=h.r)===null||v===void 0?void 0:v.d)||0)-(((b=h.l)===null||b===void 0?void 0:b.d)||0),j=1<T?"r":T<-1?"l":"";j&&(v=j=="r"?"l":"r",b=r({},h),T=h[j],h.from=T.from,h.to=T.to,h[j]=T[j],b[j]=T[v],(h[v]=b).d=hi(b)),h.d=hi(h)}function hi(b){var v=b.r,b=b.l;return(v?b?Math.max(v.d,b.d):v.d:b?b.d:0)+1}function Ya(h,v){return s(v).forEach(function(b){h[b]?lo(h[b],v[b]):h[b]=function T(j){var z,Y,ee={};for(z in j)m(j,z)&&(Y=j[z],ee[z]=!Y||typeof Y!="object"||q.has(Y.constructor)?Y:T(Y));return ee}(v[b])}),h}function Gc(h,v){return h.all||v.all||Object.keys(h).some(function(b){return v[b]&&ua(v[b],h[b])})}g(_r.prototype,((uo={add:function(h){return lo(this,h),this},addKey:function(h){return qa(this,h,h),this},addKeys:function(h){var v=this;return h.forEach(function(b){return qa(v,b,b)}),this}})[Be]=function(){return Ys(this)},uo));var pi={},qc={},Yc=!1;function uu(h){Ya(qc,h),Yc||(Yc=!0,setTimeout(function(){Yc=!1,cu(qc,!(qc={}))},0))}function cu(h,v){v===void 0&&(v=!1);var b=new Set;if(h.all)for(var T=0,j=Object.values(pi);T<j.length;T++)Xs(Y=j[T],h,b,v);else for(var z in h){var Y,ee=/^idb\:\/\/(.*)\/(.*)\//.exec(z);ee&&(z=ee[1],ee=ee[2],(Y=pi["idb://".concat(z,"/").concat(ee)])&&Xs(Y,h,b,v))}b.forEach(function(se){return se()})}function Xs(h,v,b,T){for(var j=[],z=0,Y=Object.entries(h.queries.query);z<Y.length;z++){for(var ee=Y[z],se=ee[0],M=[],G=0,$=ee[1];G<$.length;G++){var J=$[G];Gc(v,J.obsSet)?J.subscribers.forEach(function(oe){return b.add(oe)}):T&&M.push(J)}T&&j.push([se,M])}if(T)for(var Q=0,ne=j;Q<ne.length;Q++){var le=ne[Q],se=le[0],M=le[1];h.queries.query[se]=M}}function Xa(h){var v=h._state,b=h._deps.indexedDB;if(v.isBeingOpened||h.idbdb)return v.dbReadyPromise.then(function(){return v.dbOpenError?un(v.dbOpenError):h});v.isBeingOpened=!0,v.dbOpenError=null,v.openComplete=!1;var T=v.openCanceller,j=Math.round(10*h.verno),z=!1;function Y(){if(v.openCanceller!==T)throw new de.DatabaseClosed("db.open() was cancelled")}function ee(){return new Ne(function(J,Q){if(Y(),!b)throw new de.MissingAPI;var ne=h.name,le=v.autoSchema||!j?b.open(ne):b.open(ne,j);if(!le)throw new de.MissingAPI;le.onerror=_o(Q),le.onblocked=Pe(h._fireOnBlocked),le.onupgradeneeded=Pe(function(oe){var ge;G=le.transaction,v.autoSchema&&!h._options.allowEmptyDB?(le.onerror=Us,G.abort(),le.result.close(),(ge=b.deleteDatabase(ne)).onsuccess=ge.onerror=Pe(function(){Q(new de.NoSuchDatabase("Database ".concat(ne," doesnt exist")))})):(G.onerror=_o(Q),oe=oe.oldVersion>Math.pow(2,62)?0:oe.oldVersion,$=oe<1,h.idbdb=le.result,z&&Hc(h,G),gr(h,oe/10,G,Q))},Q),le.onsuccess=Pe(function(){G=null;var oe,ge,we,xe,Te,Me=h.idbdb=le.result,tt=C(Me.objectStoreNames);if(0<tt.length)try{var Ye=Me.transaction((xe=tt).length===1?xe[0]:xe,"readonly");if(v.autoSchema)ge=Me,we=Ye,(oe=h).verno=ge.version/10,we=oe._dbSchema=Vs(0,ge,we),oe._storeNames=C(ge.objectStoreNames,0),ou(oe,[oe._allTables],s(we),we);else if(Gs(h,h._dbSchema,Ye),((Te=di(Vs(0,(Te=h).idbdb,Ye),Te._dbSchema)).add.length||Te.change.some(function(Je){return Je.add.length||Je.change.length}))&&!z)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),Me.close(),j=Me.version+1,z=!0,J(ee());ru(h,Ye)}catch{}Hn.push(h),Me.onversionchange=Pe(function(Je){v.vcFired=!0,h.on("versionchange").fire(Je)}),Me.onclose=Pe(function(Je){h.on("close").fire(Je)}),$&&(Te=h._deps,Ye=ne,Me=Te.indexedDB,Te=Te.IDBKeyRange,Rr(Me)||Ye===zr||lu(Me,Te).put({name:Ye}).catch(Qe)),J()},Q)}).catch(function(J){switch(J==null?void 0:J.name){case"UnknownError":if(0<v.PR1398_maxLoop)return v.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),ee();break;case"VersionError":if(0<j)return j=0,ee()}return Ne.reject(J)})}var se,M=v.dbReadyResolve,G=null,$=!1;return Ne.race([T,(typeof navigator>"u"?Ne.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function Q(){return indexedDB.databases().finally(J)}se=setInterval(Q,100),Q()}).finally(function(){return clearInterval(se)}):Promise.resolve()).then(ee)]).then(function(){return Y(),v.onReadyBeingFired=[],Ne.resolve(Vc(function(){return h.on.ready.fire(h.vip)})).then(function J(){if(0<v.onReadyBeingFired.length){var Q=v.onReadyBeingFired.reduce(dn,Qe);return v.onReadyBeingFired=[],Ne.resolve(Vc(function(){return Q(h.vip)})).then(J)}})}).finally(function(){v.openCanceller===T&&(v.onReadyBeingFired=null,v.isBeingOpened=!1)}).catch(function(J){v.dbOpenError=J;try{G&&G.abort()}catch{}return T===v.openCanceller&&h._close(),un(J)}).finally(function(){v.openComplete=!0,M()}).then(function(){var J;return $&&(J={},h.tables.forEach(function(Q){Q.schema.indexes.forEach(function(ne){ne.name&&(J["idb://".concat(h.name,"/").concat(Q.name,"/").concat(ne.name)]=new _r(-1/0,[[[]]]))}),J["idb://".concat(h.name,"/").concat(Q.name,"/")]=J["idb://".concat(h.name,"/").concat(Q.name,"/:dels")]=new _r(-1/0,[[[]]])}),Mi(Ks).fire(J),cu(J,!0)),h})}function Xc(h){function v(z){return h.next(z)}var b=j(v),T=j(function(z){return h.throw(z)});function j(z){return function(se){var ee=z(se),se=ee.value;return ee.done?se:se&&typeof se.then=="function"?se.then(b,T):u(se)?Promise.all(se).then(b,T):b(se)}}return j(v)()}function Js(h,v,b){for(var T=u(h)?h.slice():[h],j=0;j<b;++j)T.push(v);return T}var hh={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(h){return r(r({},h),{table:function(v){var b=h.table(v),T=b.schema,j={},z=[];function Y($,J,Q){var ne=Ws($),le=j[ne]=j[ne]||[],oe=$==null?0:typeof $=="string"?1:$.length,ge=0<J,ge=r(r({},Q),{name:ge?"".concat(ne,"(virtual-from:").concat(Q.name,")"):Q.name,lowLevelIndex:Q,isVirtual:ge,keyTail:J,keyLength:oe,extractKey:En($),unique:!ge&&Q.unique});return le.push(ge),ge.isPrimaryKey||z.push(ge),1<oe&&Y(oe===2?$[0]:$.slice(0,oe-1),J+1,Q),le.sort(function(we,xe){return we.keyTail-xe.keyTail}),ge}v=Y(T.primaryKey.keyPath,0,T.primaryKey),j[":id"]=[v];for(var ee=0,se=T.indexes;ee<se.length;ee++){var M=se[ee];Y(M.keyPath,0,M)}function G($){var J,Q=$.query.index;return Q.isVirtual?r(r({},$),{query:{index:Q.lowLevelIndex,range:(J=$.query.range,Q=Q.keyTail,{type:J.type===1?2:J.type,lower:Js(J.lower,J.lowerOpen?h.MAX_KEY:h.MIN_KEY,Q),lowerOpen:!0,upper:Js(J.upper,J.upperOpen?h.MIN_KEY:h.MAX_KEY,Q),upperOpen:!0})}}):$}return r(r({},b),{schema:r(r({},T),{primaryKey:v,indexes:z,getIndexByKeyPath:function($){return($=j[Ws($)])&&$[0]}}),count:function($){return b.count(G($))},query:function($){return b.query(G($))},openCursor:function($){var J=$.query.index,Q=J.keyTail,ne=J.isVirtual,le=J.keyLength;return ne?b.openCursor(G($)).then(function(ge){return ge&&oe(ge)}):b.openCursor($);function oe(ge){return Object.create(ge,{continue:{value:function(we){we!=null?ge.continue(Js(we,$.reverse?h.MAX_KEY:h.MIN_KEY,Q)):$.unique?ge.continue(ge.key.slice(0,le).concat($.reverse?h.MIN_KEY:h.MAX_KEY,Q)):ge.continue()}},continuePrimaryKey:{value:function(we,xe){ge.continuePrimaryKey(Js(we,h.MAX_KEY,Q),xe)}},primaryKey:{get:function(){return ge.primaryKey}},key:{get:function(){var we=ge.key;return le===1?we[0]:we.slice(0,le)}},value:{get:function(){return ge.value}}})}}})}})}};function Qs(h,v,b,T){return b=b||{},T=T||"",s(h).forEach(function(j){var z,Y,ee;m(v,j)?(z=h[j],Y=v[j],typeof z=="object"&&typeof Y=="object"&&z&&Y?(ee=ke(z))!==ke(Y)?b[T+j]=v[j]:ee==="Object"?Qs(z,Y,b,T+j+"."):z!==Y&&(b[T+j]=v[j]):z!==Y&&(b[T+j]=v[j])):b[T+j]=void 0}),s(v).forEach(function(j){m(h,j)||(b[T+j]=v[j])}),b}function Zs(h,v){return v.type==="delete"?v.keys:v.keys||v.values.map(h.extractKey)}var ph={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(h){return r(r({},h),{table:function(v){var b=h.table(v),T=b.schema.primaryKey;return r(r({},b),{mutate:function(j){var z=be.trans,Y=z.table(v).hook,ee=Y.deleting,se=Y.creating,M=Y.updating;switch(j.type){case"add":if(se.fire===Qe)break;return z._promise("readwrite",function(){return G(j)},!0);case"put":if(se.fire===Qe&&M.fire===Qe)break;return z._promise("readwrite",function(){return G(j)},!0);case"delete":if(ee.fire===Qe)break;return z._promise("readwrite",function(){return G(j)},!0);case"deleteRange":if(ee.fire===Qe)break;return z._promise("readwrite",function(){return function $(J,Q,ne){return b.query({trans:J,values:!1,query:{index:T,range:Q},limit:ne}).then(function(le){var oe=le.result;return G({type:"delete",keys:oe,trans:J}).then(function(ge){return 0<ge.numFailures?Promise.reject(ge.failures[0]):oe.length<ne?{failures:[],numFailures:0,lastResult:void 0}:$(J,r(r({},Q),{lower:oe[oe.length-1],lowerOpen:!0}),ne)})})}(j.trans,j.range,1e4)},!0)}return b.mutate(j);function G($){var J,Q,ne,le=be.trans,oe=$.keys||Zs(T,$);if(!oe)throw new Error("Keys missing");return($=$.type==="add"||$.type==="put"?r(r({},$),{keys:oe}):r({},$)).type!=="delete"&&($.values=o([],$.values,!0)),$.keys&&($.keys=o([],$.keys,!0)),J=b,ne=oe,((Q=$).type==="add"?Promise.resolve([]):J.getMany({trans:Q.trans,keys:ne,cache:"immutable"})).then(function(ge){var we=oe.map(function(xe,Te){var Me,tt,Ye,Je=ge[Te],Ue={onerror:null,onsuccess:null};return $.type==="delete"?ee.fire.call(Ue,xe,Je,le):$.type==="add"||Je===void 0?(Me=se.fire.call(Ue,xe,$.values[Te],le),xe==null&&Me!=null&&($.keys[Te]=xe=Me,T.outbound||L($.values[Te],T.keyPath,xe))):(Me=Qs(Je,$.values[Te]),(tt=M.fire.call(Ue,Me,xe,Je,le))&&(Ye=$.values[Te],Object.keys(tt).forEach(function(ot){m(Ye,ot)?Ye[ot]=tt[ot]:L(Ye,ot,tt[ot])}))),Ue});return b.mutate($).then(function(xe){for(var Te=xe.failures,Me=xe.results,tt=xe.numFailures,xe=xe.lastResult,Ye=0;Ye<oe.length;++Ye){var Je=(Me||oe)[Ye],Ue=we[Ye];Je==null?Ue.onerror&&Ue.onerror(Te[Ye]):Ue.onsuccess&&Ue.onsuccess($.type==="put"&&ge[Ye]?$.values[Ye]:Je)}return{failures:Te,results:Me,numFailures:tt,lastResult:xe}}).catch(function(xe){return we.forEach(function(Te){return Te.onerror&&Te.onerror(xe)}),Promise.reject(xe)})})}}})}})}};function mh(h,v,b){try{if(!v||v.keys.length<h.length)return null;for(var T=[],j=0,z=0;j<v.keys.length&&z<h.length;++j)hn(v.keys[j],h[z])===0&&(T.push(b?te(v.values[j]):v.values[j]),++z);return T.length===h.length?T:null}catch{return null}}var Jc={stack:"dbcore",level:-1,create:function(h){return{table:function(v){var b=h.table(v);return r(r({},b),{getMany:function(T){if(!T.cache)return b.getMany(T);var j=mh(T.keys,T.trans._cache,T.cache==="clone");return j?Ne.resolve(j):b.getMany(T).then(function(z){return T.trans._cache={keys:T.keys,values:T.cache==="clone"?te(z):z},z})},mutate:function(T){return T.type!=="add"&&(T.trans._cache=null),b.mutate(T)}})}}}};function fu(h,v){return h.trans.mode==="readonly"&&!!h.subscr&&!h.trans.explicit&&h.trans.db._options.cache!=="disabled"&&!v.schema.primaryKey.outbound}function vh(h,v){switch(h){case"query":return v.values&&!v.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var gh={stack:"dbcore",level:0,name:"Observability",create:function(h){var v=h.schema.name,b=new _r(h.MIN_KEY,h.MAX_KEY);return r(r({},h),{transaction:function(T,j,z){if(be.subscr&&j!=="readonly")throw new de.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(be.querier));return h.transaction(T,j,z)},table:function(T){var j=h.table(T),z=j.schema,Y=z.primaryKey,$=z.indexes,ee=Y.extractKey,se=Y.outbound,M=Y.autoIncrement&&$.filter(function(Q){return Q.compound&&Q.keyPath.includes(Y.keyPath)}),G=r(r({},j),{mutate:function(Q){function ne(ot){return ot="idb://".concat(v,"/").concat(T,"/").concat(ot),xe[ot]||(xe[ot]=new _r)}var le,oe,ge,we=Q.trans,xe=Q.mutatedParts||(Q.mutatedParts={}),Te=ne(""),Me=ne(":dels"),tt=Q.type,Ue=Q.type==="deleteRange"?[Q.range]:Q.type==="delete"?[Q.keys]:Q.values.length<50?[Zs(Y,Q).filter(function(ot){return ot}),Q.values]:[],Ye=Ue[0],Je=Ue[1],Ue=Q.trans._cache;return u(Ye)?(Te.addKeys(Ye),(Ue=tt==="delete"||Ye.length===Je.length?mh(Ye,Ue):null)||Me.addKeys(Ye),(Ue||Je)&&(le=ne,oe=Ue,ge=Je,z.indexes.forEach(function(ot){var xt=le(ot.name||"");function Lt(Ht){return Ht!=null?ot.extractKey(Ht):null}function Vt(Ht){return ot.multiEntry&&u(Ht)?Ht.forEach(function(ko){return xt.addKey(ko)}):xt.addKey(Ht)}(oe||ge).forEach(function(Ht,Ln){var Mt=oe&&Lt(oe[Ln]),Ln=ge&&Lt(ge[Ln]);hn(Mt,Ln)!==0&&(Mt!=null&&Vt(Mt),Ln!=null&&Vt(Ln))})}))):Ye?(Je={from:Ye.lower,to:Ye.upper},Me.add(Je),Te.add(Je)):(Te.add(b),Me.add(b),z.indexes.forEach(function(ot){return ne(ot.name).add(b)})),j.mutate(Q).then(function(ot){return!Ye||Q.type!=="add"&&Q.type!=="put"||(Te.addKeys(ot.results),M&&M.forEach(function(xt){var Lt=Q.values.map(function(Ht){return xt.extractKey(Ht)}),Vt=xt.keyPath.findIndex(function(Ht){return Ht===Y.keyPath});ot.results.forEach(function(Ht){return Lt[Vt]=Ht}),ne(xt.name).addKeys(Lt)})),we.mutatedParts=Ya(we.mutatedParts||{},xe),ot})}}),$=function(ne){var le=ne.query,ne=le.index,le=le.range;return[ne,new _r((ne=le.lower)!==null&&ne!==void 0?ne:h.MIN_KEY,(le=le.upper)!==null&&le!==void 0?le:h.MAX_KEY)]},J={get:function(Q){return[Y,new _r(Q.key)]},getMany:function(Q){return[Y,new _r().addKeys(Q.keys)]},count:$,query:$,openCursor:$};return s(J).forEach(function(Q){G[Q]=function(ne){var le=be.subscr,oe=!!le,ge=fu(be,j)&&vh(Q,ne)?ne.obsSet={}:le;if(oe){var we=function(Je){return Je="idb://".concat(v,"/").concat(T,"/").concat(Je),ge[Je]||(ge[Je]=new _r)},xe=we(""),Te=we(":dels"),le=J[Q](ne),oe=le[0],le=le[1];if((Q==="query"&&oe.isPrimaryKey&&!ne.values?Te:we(oe.name||"")).add(le),!oe.isPrimaryKey){if(Q!=="count"){var Me=Q==="query"&&se&&ne.values&&j.query(r(r({},ne),{values:!1}));return j[Q].apply(this,arguments).then(function(Je){if(Q==="query"){if(se&&ne.values)return Me.then(function(Lt){return Lt=Lt.result,xe.addKeys(Lt),Je});var Ue=ne.values?Je.result.map(ee):Je.result;(ne.values?xe:Te).addKeys(Ue)}else if(Q==="openCursor"){var ot=Je,xt=ne.values;return ot&&Object.create(ot,{key:{get:function(){return Te.addKey(ot.primaryKey),ot.key}},primaryKey:{get:function(){var Lt=ot.primaryKey;return Te.addKey(Lt),Lt}},value:{get:function(){return xt&&xe.addKey(ot.primaryKey),ot.value}}})}return Je})}Te.add(b)}}return j[Q].apply(this,arguments)}}),G}})}};function Br(h,v,b){if(b.numFailures===0)return v;if(v.type==="deleteRange")return null;var T=v.keys?v.keys.length:"values"in v&&v.values?v.values.length:1;return b.numFailures===T?null:(v=r({},v),u(v.keys)&&(v.keys=v.keys.filter(function(j,z){return!(z in b.failures)})),"values"in v&&u(v.values)&&(v.values=v.values.filter(function(j,z){return!(z in b.failures)})),v)}function el(h,v){return b=h,((T=v).lower===void 0||(T.lowerOpen?0<hn(b,T.lower):0<=hn(b,T.lower)))&&(h=h,(v=v).upper===void 0||(v.upperOpen?hn(h,v.upper)<0:hn(h,v.upper)<=0));var b,T}function Ja(h,v,J,T,j,z){if(!J||J.length===0)return h;var Y=v.query.index,ee=Y.multiEntry,se=v.query.range,M=T.schema.primaryKey.extractKey,G=Y.extractKey,$=(Y.lowLevelIndex||Y).extractKey,J=J.reduce(function(Q,ne){var le=Q,oe=ne.type==="add"||ne.type==="put"?ne.values.filter(function(Te){return Te=G(Te),ee&&u(Te)?Te.some(function(Me){return el(Me,se)}):el(Te,se)}).map(function(Te){return Te=te(Te),z&&Object.freeze(Te),Te}):[];switch(ne.type){case"add":le=Q.concat(v.values?oe:oe.map(function(Me){return M(Me)}));break;case"put":var ge=new _r().addKeys(ne.values.map(function(Me){return M(Me)})),le=Q.filter(function(Me){return Me=v.values?M(Me):Me,!ua(new _r(Me),ge)}).concat(v.values?oe:oe.map(function(Me){return M(Me)}));break;case"delete":var we=new _r().addKeys(ne.keys);le=Q.filter(function(Me){return Me=v.values?M(Me):Me,!ua(new _r(Me),we)});break;case"deleteRange":var xe=ne.range;le=Q.filter(function(Me){return!el(M(Me),xe)})}return le},h);return J===h?h:(J.sort(function(Q,ne){return hn($(Q),$(ne))||hn(M(Q),M(ne))}),v.limit&&v.limit<1/0&&(J.length>v.limit?J.length=v.limit:h.length===v.limit&&J.length<v.limit&&(j.dirty=!0)),z?Object.freeze(J):J)}function Qc(h,v){return hn(h.lower,v.lower)===0&&hn(h.upper,v.upper)===0&&!!h.lowerOpen==!!v.lowerOpen&&!!h.upperOpen==!!v.upperOpen}function yh(h,v){return function(b,T,j,z){if(b===void 0)return T!==void 0?-1:0;if(T===void 0)return 1;if((T=hn(b,T))===0){if(j&&z)return 0;if(j)return 1;if(z)return-1}return T}(h.lower,v.lower,h.lowerOpen,v.lowerOpen)<=0&&0<=function(b,T,j,z){if(b===void 0)return T!==void 0?1:0;if(T===void 0)return-1;if((T=hn(b,T))===0){if(j&&z)return 0;if(j)return-1;if(z)return 1}return T}(h.upper,v.upper,h.upperOpen,v.upperOpen)}function Bv(h,v,b,T){h.subscribers.add(b),T.addEventListener("abort",function(){var j,z;h.subscribers.delete(b),h.subscribers.size===0&&(j=h,z=v,setTimeout(function(){j.subscribers.size===0&&ve(z,j)},3e3))})}var Uv={stack:"dbcore",level:0,name:"Cache",create:function(h){var v=h.schema.name;return r(r({},h),{transaction:function(b,T,j){var z,Y,ee=h.transaction(b,T,j);return T==="readwrite"&&(Y=(z=new AbortController).signal,j=function(se){return function(){if(z.abort(),T==="readwrite"){for(var M=new Set,G=0,$=b;G<$.length;G++){var J=$[G],Q=pi["idb://".concat(v,"/").concat(J)];if(Q){var ne=h.table(J),le=Q.optimisticOps.filter(function(xt){return xt.trans===ee});if(ee._explicit&&se&&ee.mutatedParts)for(var oe=0,ge=Object.values(Q.queries.query);oe<ge.length;oe++)for(var we=0,xe=(tt=ge[oe]).slice();we<xe.length;we++)Gc((Ye=xe[we]).obsSet,ee.mutatedParts)&&(ve(tt,Ye),Ye.subscribers.forEach(function(xt){return M.add(xt)}));else if(0<le.length){Q.optimisticOps=Q.optimisticOps.filter(function(xt){return xt.trans!==ee});for(var Te=0,Me=Object.values(Q.queries.query);Te<Me.length;Te++)for(var tt,Ye,Je,Ue=0,ot=(tt=Me[Te]).slice();Ue<ot.length;Ue++)(Ye=ot[Ue]).res!=null&&ee.mutatedParts&&(se&&!Ye.dirty?(Je=Object.isFrozen(Ye.res),Je=Ja(Ye.res,Ye.req,le,ne,Ye,Je),Ye.dirty?(ve(tt,Ye),Ye.subscribers.forEach(function(xt){return M.add(xt)})):Je!==Ye.res&&(Ye.res=Je,Ye.promise=Ne.resolve({result:Je}))):(Ye.dirty&&ve(tt,Ye),Ye.subscribers.forEach(function(xt){return M.add(xt)})))}}}M.forEach(function(xt){return xt()})}}},ee.addEventListener("abort",j(!1),{signal:Y}),ee.addEventListener("error",j(!1),{signal:Y}),ee.addEventListener("complete",j(!0),{signal:Y})),ee},table:function(b){var T=h.table(b),j=T.schema.primaryKey;return r(r({},T),{mutate:function(z){var Y=be.trans;if(j.outbound||Y.db._options.cache==="disabled"||Y.explicit)return T.mutate(z);var ee=pi["idb://".concat(v,"/").concat(b)];return ee?(Y=T.mutate(z),z.type!=="add"&&z.type!=="put"||!(50<=z.values.length||Zs(j,z).some(function(se){return se==null}))?(ee.optimisticOps.push(z),z.mutatedParts&&uu(z.mutatedParts),Y.then(function(se){0<se.numFailures&&(ve(ee.optimisticOps,z),(se=Br(0,z,se))&&ee.optimisticOps.push(se),z.mutatedParts&&uu(z.mutatedParts))}),Y.catch(function(){ve(ee.optimisticOps,z),z.mutatedParts&&uu(z.mutatedParts)})):Y.then(function(se){var M=Br(0,r(r({},z),{values:z.values.map(function(Q,$){var J,Q=(J=j.keyPath)!==null&&J!==void 0&&J.includes(".")?te(Q):r({},Q);return L(Q,j.keyPath,se.results[$]),Q})}),se);ee.optimisticOps.push(M),queueMicrotask(function(){return z.mutatedParts&&uu(z.mutatedParts)})}),Y):T.mutate(z)},query:function(z){if(!fu(be,T)||!vh("query",z))return T.query(z);var Y=((M=be.trans)===null||M===void 0?void 0:M.db._options.cache)==="immutable",$=be,ee=$.requery,se=$.signal,M=function(ne,le,oe,ge){var we=pi["idb://".concat(ne,"/").concat(le)];if(!we)return[];if(!(le=we.queries[oe]))return[null,!1,we,null];var xe=le[(ge.query?ge.query.index.name:null)||""];if(!xe)return[null,!1,we,null];switch(oe){case"query":var Te=xe.find(function(Me){return Me.req.limit===ge.limit&&Me.req.values===ge.values&&Qc(Me.req.query.range,ge.query.range)});return Te?[Te,!0,we,xe]:[xe.find(function(Me){return("limit"in Me.req?Me.req.limit:1/0)>=ge.limit&&(!ge.values||Me.req.values)&&yh(Me.req.query.range,ge.query.range)}),!1,we,xe];case"count":return Te=xe.find(function(Me){return Qc(Me.req.query.range,ge.query.range)}),[Te,!!Te,we,xe]}}(v,b,"query",z),G=M[0],$=M[1],J=M[2],Q=M[3];return G&&$?G.obsSet=z.obsSet:($=T.query(z).then(function(ne){var le=ne.result;if(G&&(G.res=le),Y){for(var oe=0,ge=le.length;oe<ge;++oe)Object.freeze(le[oe]);Object.freeze(le)}else ne.result=te(le);return ne}).catch(function(ne){return Q&&G&&ve(Q,G),Promise.reject(ne)}),G={obsSet:z.obsSet,promise:$,subscribers:new Set,type:"query",req:z,dirty:!1},Q?Q.push(G):(Q=[G],(J=J||(pi["idb://".concat(v,"/").concat(b)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[z.query.index.name||""]=Q)),Bv(G,Q,ee,se),G.promise.then(function(ne){return{result:Ja(ne.result,z,J==null?void 0:J.optimisticOps,T,G,Y)}})}})}})}};function du(h,v){return new Proxy(h,{get:function(b,T,j){return T==="db"?v:Reflect.get(b,T,j)}})}var mi=(Wn.prototype.version=function(h){if(isNaN(h)||h<.1)throw new de.Type("Given version is not a positive number");if(h=Math.round(10*h)/10,this.idbdb||this._state.isBeingOpened)throw new de.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,h);var v=this._versions,b=v.filter(function(T){return T._cfg.version===h})[0];return b||(b=new this.Version(h),v.push(b),v.sort($v),b.stores({}),this._state.autoSchema=!1,b)},Wn.prototype._whenReady=function(h){var v=this;return this.idbdb&&(this._state.openComplete||be.letThrough||this._vip)?h():new Ne(function(b,T){if(v._state.openComplete)return T(new de.DatabaseClosed(v._state.dbOpenError));if(!v._state.isBeingOpened){if(!v._state.autoOpen)return void T(new de.DatabaseClosed);v.open().catch(Qe)}v._state.dbReadyPromise.then(b,T)}).then(h)},Wn.prototype.use=function(h){var v=h.stack,b=h.create,T=h.level,j=h.name;return j&&this.unuse({stack:v,name:j}),h=this._middlewares[v]||(this._middlewares[v]=[]),h.push({stack:v,create:b,level:T??10,name:j}),h.sort(function(z,Y){return z.level-Y.level}),this},Wn.prototype.unuse=function(h){var v=h.stack,b=h.name,T=h.create;return v&&this._middlewares[v]&&(this._middlewares[v]=this._middlewares[v].filter(function(j){return T?j.create!==T:!!b&&j.name!==b})),this},Wn.prototype.open=function(){var h=this;return Nn(ce,function(){return Xa(h)})},Wn.prototype._close=function(){var h=this._state,v=Hn.indexOf(this);if(0<=v&&Hn.splice(v,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}h.isBeingOpened||(h.dbReadyPromise=new Ne(function(b){h.dbReadyResolve=b}),h.openCanceller=new Ne(function(b,T){h.cancelOpen=T}))},Wn.prototype.close=function(b){var v=(b===void 0?{disableAutoOpen:!0}:b).disableAutoOpen,b=this._state;v?(b.isBeingOpened&&b.cancelOpen(new de.DatabaseClosed),this._close(),b.autoOpen=!1,b.dbOpenError=new de.DatabaseClosed):(this._close(),b.autoOpen=this._options.autoOpen||b.isBeingOpened,b.openComplete=!1,b.dbOpenError=null)},Wn.prototype.delete=function(h){var v=this;h===void 0&&(h={disableAutoOpen:!0});var b=0<arguments.length&&typeof arguments[0]!="object",T=this._state;return new Ne(function(j,z){function Y(){v.close(h);var ee=v._deps.indexedDB.deleteDatabase(v.name);ee.onsuccess=Pe(function(){var se,M,G;se=v._deps,M=v.name,G=se.indexedDB,se=se.IDBKeyRange,Rr(G)||M===zr||lu(G,se).delete(M).catch(Qe),j()}),ee.onerror=_o(z),ee.onblocked=v._fireOnBlocked}if(b)throw new de.InvalidArgument("Invalid closeOptions argument to db.delete()");T.isBeingOpened?T.dbReadyPromise.then(Y):Y()})},Wn.prototype.backendDB=function(){return this.idbdb},Wn.prototype.isOpen=function(){return this.idbdb!==null},Wn.prototype.hasBeenClosed=function(){var h=this._state.dbOpenError;return h&&h.name==="DatabaseClosed"},Wn.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Wn.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Wn.prototype,"tables",{get:function(){var h=this;return s(this._allTables).map(function(v){return h._allTables[v]})},enumerable:!1,configurable:!0}),Wn.prototype.transaction=function(){var h=(function(v,b,T){var j=arguments.length;if(j<2)throw new de.InvalidArgument("Too few arguments");for(var z=new Array(j-1);--j;)z[j-1]=arguments[j];return T=z.pop(),[v,N(z),T]}).apply(this,arguments);return this._transaction.apply(this,h)},Wn.prototype._transaction=function(h,v,b){var T=this,j=be.trans;j&&j.db===this&&h.indexOf("!")===-1||(j=null);var z,Y,ee=h.indexOf("?")!==-1;h=h.replace("!","").replace("?","");try{if(Y=v.map(function(M){if(M=M instanceof T.Table?M.name:M,typeof M!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return M}),h=="r"||h===Di)z=Di;else{if(h!="rw"&&h!=Yl)throw new de.InvalidArgument("Invalid transaction mode: "+h);z=Yl}if(j){if(j.mode===Di&&z===Yl){if(!ee)throw new de.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");j=null}j&&Y.forEach(function(M){if(j&&j.storeNames.indexOf(M)===-1){if(!ee)throw new de.SubTransaction("Table "+M+" not included in parent transaction.");j=null}}),ee&&j&&!j.active&&(j=null)}}catch(M){return j?j._promise(null,function(G,$){$(M)}):un(M)}var se=(function M(G,$,J,Q,ne){return Ne.resolve().then(function(){var le=be.transless||be,oe=G._createTransaction($,J,G._dbSchema,Q);if(oe.explicit=!0,le={trans:oe,transless:le},Q)oe.idbtrans=Q.idbtrans;else try{oe.create(),oe.idbtrans._explicit=!0,G._state.PR1398_maxLoop=3}catch(xe){return xe.name===pe.InvalidState&&G.isOpen()&&0<--G._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),G.close({disableAutoOpen:!1}),G.open().then(function(){return M(G,$,J,null,ne)})):un(xe)}var ge,we=Ke(ne);return we&&Dt(),le=Ne.follow(function(){var xe;(ge=ne.call(oe,oe))&&(we?(xe=Cn.bind(null,null),ge.then(xe,xe)):typeof ge.next=="function"&&typeof ge.throw=="function"&&(ge=Xc(ge)))},le),(ge&&typeof ge.then=="function"?Ne.resolve(ge).then(function(xe){return oe.active?xe:un(new de.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):le.then(function(){return ge})).then(function(xe){return Q&&oe._resolve(),oe._completion.then(function(){return xe})}).catch(function(xe){return oe._reject(xe),un(xe)})})}).bind(null,this,z,Y,j,b);return j?j._promise(z,se,"lock"):be.trans?Nn(be.transless,function(){return T._whenReady(se)}):this._whenReady(se)},Wn.prototype.table=function(h){if(!m(this._allTables,h))throw new de.InvalidTable("Table ".concat(h," does not exist"));return this._allTables[h]},Wn);function Wn(h,v){var b=this;this._middlewares={},this.verno=0;var T=Wn.dependencies;this._options=v=r({addons:Wn.addons,autoOpen:!0,indexedDB:T.indexedDB,IDBKeyRange:T.IDBKeyRange,cache:"cloned"},v),this._deps={indexedDB:v.indexedDB,IDBKeyRange:v.IDBKeyRange},T=v.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var j,z,Y,ee,se,M={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Qe,dbReadyPromise:null,cancelOpen:Qe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:v.autoOpen};M.dbReadyPromise=new Ne(function($){M.dbReadyResolve=$}),M.openCanceller=new Ne(function($,J){M.cancelOpen=J}),this._state=M,this.name=h,this.on=aa(this,"populate","blocked","versionchange","close",{ready:[dn,Qe]}),this.on.ready.subscribe=S(this.on.ready.subscribe,function($){return function(J,Q){Wn.vip(function(){var ne,le=b._state;le.openComplete?(le.dbOpenError||Ne.resolve().then(J),Q&&$(J)):le.onReadyBeingFired?(le.onReadyBeingFired.push(J),Q&&$(J)):($(J),ne=b,Q||$(function oe(){ne.on.ready.unsubscribe(J),ne.on.ready.unsubscribe(oe)}))})}}),this.Collection=(j=this,Fs(Fc.prototype,function(ge,oe){this.db=j;var Q=Dc,ne=null;if(oe)try{Q=oe()}catch(we){ne=we}var le=ge._ctx,oe=le.table,ge=oe.hook.reading.fire;this._ctx={table:oe,index:le.index,isPrimKey:!le.index||oe.schema.primKey.keyPath&&le.index===oe.schema.primKey.name,range:Q,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:ne,or:le.or,valueMapper:ge!==yt?ge:null}})),this.Table=(z=this,Fs(Mc.prototype,function($,J,Q){this.db=z,this._tx=Q,this.name=$,this.schema=J,this.hook=z._allTables[$]?z._allTables[$].hook:aa(null,{creating:[vn,Qe],reading:[vt,yt],updating:[$n,Qe],deleting:[tn,Qe]})})),this.Transaction=(Y=this,Fs(Bc.prototype,function($,J,Q,ne,le){var oe=this;this.db=Y,this.mode=$,this.storeNames=J,this.schema=Q,this.chromeTransactionDurability=ne,this.idbtrans=null,this.on=aa(this,"complete","error","abort"),this.parent=le||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new Ne(function(ge,we){oe._resolve=ge,oe._reject=we}),this._completion.then(function(){oe.active=!1,oe.on.complete.fire()},function(ge){var we=oe.active;return oe.active=!1,oe.on.error.fire(ge),oe.parent?oe.parent._reject(ge):we&&oe.idbtrans&&oe.idbtrans.abort(),un(ge)})})),this.Version=(ee=this,Fs(dh.prototype,function($){this.db=ee,this._cfg={version:$,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(se=this,Fs(ch.prototype,function($,J,Q){if(this.db=se,this._ctx={table:$,index:J===":id"?null:J,or:Q},this._cmp=this._ascending=hn,this._descending=function(ne,le){return hn(le,ne)},this._max=function(ne,le){return 0<hn(ne,le)?ne:le},this._min=function(ne,le){return hn(ne,le)<0?ne:le},this._IDBKeyRange=se._deps.IDBKeyRange,!this._IDBKeyRange)throw new de.MissingAPI})),this.on("versionchange",function($){0<$.newVersion?console.warn("Another connection wants to upgrade database '".concat(b.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(b.name,"'. Closing db now to resume the delete request.")),b.close({disableAutoOpen:!1})}),this.on("blocked",function($){!$.newVersion||$.newVersion<$.oldVersion?console.warn("Dexie.delete('".concat(b.name,"') was blocked")):console.warn("Upgrade '".concat(b.name,"' blocked by other connection holding version ").concat($.oldVersion/10))}),this._maxKey=Hs(v.IDBKeyRange),this._createTransaction=function($,J,Q,ne){return new b.Transaction($,J,Q,b._options.chromeTransactionDurability,ne)},this._fireOnBlocked=function($){b.on("blocked").fire($),Hn.filter(function(J){return J.name===b.name&&J!==b&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire($)})},this.use(Jc),this.use(Uv),this.use(gh),this.use(hh),this.use(ph);var G=new Proxy(this,{get:function($,J,Q){if(J==="_vip")return!0;if(J==="table")return function(le){return du(b.table(le),G)};var ne=Reflect.get($,J,Q);return ne instanceof Mc?du(ne,G):J==="tables"?ne.map(function(le){return du(le,G)}):J==="_createTransaction"?function(){return du(ne.apply(this,arguments),G)}:ne}});this.vip=G,T.forEach(function($){return $(b)})}var vi,uo=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Kv=(tl.prototype.subscribe=function(h,v,b){return this._subscribe(h&&typeof h!="function"?h:{next:h,error:v,complete:b})},tl.prototype[uo]=function(){return this},tl);function tl(h){this._subscribe=h}try{vi={indexedDB:i.indexedDB||i.mozIndexedDB||i.webkitIndexedDB||i.msIndexedDB,IDBKeyRange:i.IDBKeyRange||i.webkitIDBKeyRange}}catch{vi={indexedDB:null,IDBKeyRange:null}}function Zc(h){var v,b=!1,T=new Kv(function(j){var z=Ke(h),Y,ee=!1,se={},M={},G={get closed(){return ee},unsubscribe:function(){ee||(ee=!0,Y&&Y.abort(),$&&Mi.storagemutated.unsubscribe(Q))}};j.start&&j.start(G);var $=!1,J=function(){return Nr(ne)},Q=function(le){Ya(se,le),Gc(M,se)&&J()},ne=function(){var le,oe,ge;!ee&&vi.indexedDB&&(se={},le={},Y&&Y.abort(),Y=new AbortController,ge=function(we){var xe=De();try{z&&Dt();var Te=Kt(h,we);return Te=z?Te.finally(Cn):Te}finally{xe&&ht()}}(oe={subscr:le,signal:Y.signal,requery:J,querier:h,trans:null}),Promise.resolve(ge).then(function(we){b=!0,v=we,ee||oe.signal.aborted||(se={},function(xe){for(var Te in xe)if(m(xe,Te))return;return 1}(M=le)||$||(Mi(Ks,Q),$=!0),Nr(function(){return!ee&&j.next&&j.next(we)}))},function(we){b=!1,["DatabaseClosedError","AbortError"].includes(we==null?void 0:we.name)||ee||Nr(function(){ee||j.error&&j.error(we)})}))};return setTimeout(J,0),G});return T.hasValue=function(){return b},T.getValue=function(){return v},T}var Ur=mi;function Qa(h){var v=zi;try{zi=!0,Mi.storagemutated.fire(h),cu(h,!0)}finally{zi=v}}g(Ur,r(r({},ze),{delete:function(h){return new Ur(h,{addons:[]}).delete()},exists:function(h){return new Ur(h,{addons:[]}).open().then(function(v){return v.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(h){try{return v=Ur.dependencies,b=v.indexedDB,v=v.IDBKeyRange,(Rr(b)?Promise.resolve(b.databases()).then(function(T){return T.map(function(j){return j.name}).filter(function(j){return j!==zr})}):lu(b,v).toCollection().primaryKeys()).then(h)}catch{return un(new de.MissingAPI)}var v,b},defineClass:function(){return function(h){c(this,h)}},ignoreTransaction:function(h){return be.trans?Nn(be.transless,h):h()},vip:Vc,async:function(h){return function(){try{var v=Xc(h.apply(this,arguments));return v&&typeof v.then=="function"?v:Ne.resolve(v)}catch(b){return un(b)}}},spawn:function(h,v,b){try{var T=Xc(h.apply(b,v||[]));return T&&typeof T.then=="function"?T:Ne.resolve(T)}catch(j){return un(j)}},currentTransaction:{get:function(){return be.trans||null}},waitFor:function(h,v){return v=Ne.resolve(typeof h=="function"?Ur.ignoreTransaction(h):h).timeout(v||6e4),be.trans?be.trans.waitFor(v):v},Promise:Ne,debug:{get:function(){return jt},set:function(h){yn(h)}},derive:_,extend:c,props:g,override:S,Events:aa,on:Mi,liveQuery:Zc,extendObservabilitySet:Ya,getByKeyPath:O,setByKeyPath:L,delByKeyPath:function(h,v){typeof v=="string"?L(h,v,void 0):"length"in v&&[].map.call(v,function(b){L(h,b,void 0)})},shallowClone:X,deepClone:te,getObjectDiff:Qs,cmp:hn,asap:K,minKey:-1/0,addons:[],connections:Hn,errnames:pe,dependencies:vi,cache:pi,semVer:"4.0.4",version:"4.0.4".split(".").map(function(h){return parseInt(h)}).reduce(function(h,v,b){return h+v/Math.pow(10,2*b)})})),Ur.maxKey=Hs(Ur.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Mi(Ks,function(h){zi||(h=new CustomEvent($c,{detail:h}),zi=!0,dispatchEvent(h),zi=!1)}),addEventListener($c,function(h){h=h.detail,zi||Qa(h)}));var Za,zi=!1,bh=function(){};return typeof BroadcastChannel<"u"&&((bh=function(){(Za=new BroadcastChannel($c)).onmessage=function(h){return h.data&&Qa(h.data)}})(),typeof Za.unref=="function"&&Za.unref(),Mi(Ks,function(h){zi||Za.postMessage(h)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(h){if(!mi.disableBfCache&&h.persisted){jt&&console.debug("Dexie: handling persisted pagehide"),Za!=null&&Za.close();for(var v=0,b=Hn;v<b.length;v++)b[v].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(h){!mi.disableBfCache&&h.persisted&&(jt&&console.debug("Dexie: handling persisted pageshow"),bh(),Qa({all:new _r(-1/0,[[]])}))})),Ne.rejectionMapper=function(h,v){return!h||h instanceof Ge||h instanceof TypeError||h instanceof SyntaxError||!h.name||!Oe[h.name]?h:(v=new Oe[h.name](v||h.message,h),"stack"in h&&y(v,"stack",{get:function(){return this.inner.stack}}),v)},yn(jt),r(mi,Object.freeze({__proto__:null,Dexie:mi,liveQuery:Zc,Entity:ah,cmp:hn,PropModSymbol:ci,PropModification:eu,replacePrefix:function(h,v){return new eu({replacePrefix:[h,v]})},default:mi,RangeSet:_r,mergeRanges:lo,rangesOverlap:ua}),{default:mi}),mi})})(xT);var f4=xT.exports;const $0=Kl(f4),qS=Symbol.for("Dexie"),sn=globalThis[qS]||(globalThis[qS]=$0);if($0.semVer!==sn.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${$0.semVer} and ${sn.semVer}`);const{liveQuery:Nl,mergeRanges:NW,rangesOverlap:OW,RangeSet:RW,cmp:d4,Entity:jW,PropModSymbol:AW,PropModification:YS,replacePrefix:IW}=sn;function ST(e,t,n){var r,o;typeof e=="function"?(r=t||[],o=n):(r=[],o=t);var i=An.useRef({hasResult:!1,result:o,error:null}),s=An.useReducer(function(f){return f+1},0);s[0];var u=s[1],c=An.useMemo(function(){var f=typeof e=="function"?e():e;if(!f||typeof f.subscribe!="function")throw e===f?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!i.current.hasResult&&typeof window<"u"&&(typeof f.hasValue!="function"||f.hasValue()))if(typeof f.getValue=="function")i.current.result=f.getValue(),i.current.hasResult=!0;else{var d=f.subscribe(function(m){i.current.result=m,i.current.hasResult=!0});typeof d=="function"?d():d.unsubscribe()}return f},r);if(An.useDebugValue(i.current.result),An.useEffect(function(){var f=c.subscribe(function(d){var m=i.current;(m.error!==null||m.result!==d)&&(m.error=null,m.result=d,m.hasResult=!0,u())},function(d){var m=i.current;m.error!==d&&(m.error=d,u())});return typeof f=="function"?f:f.unsubscribe.bind(f)},r),i.current.error)throw i.current.error;return i.current.result}function _T(e,t,n){return ST(function(){return Nl(e)},t||[],n)}var kT={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var i="",s=0;s<arguments.length;s++){var u=arguments[s];u&&(i=o(i,r(u)))}return i}function r(i){if(typeof i=="string"||typeof i=="number")return i;if(typeof i!="object")return"";if(Array.isArray(i))return n.apply(null,i);if(i.toString!==Object.prototype.toString&&!i.toString.toString().includes("[native code]"))return i.toString();var s="";for(var u in i)t.call(i,u)&&i[u]&&(s=o(s,u));return s}function o(i,s){return s?i?i+" "+s:i+s:i}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(kT);var h4=kT.exports;const it=Kl(h4);function B0(){return B0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},B0.apply(this,arguments)}function PT(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var p4=function(e,t,n,r,o,i,s,u){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var f=[n,r,o,i,s,u],d=0;c=new Error(t.replace(/%s/g,function(){return f[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},m4=p4;const v4=Kl(m4);function XS(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function g4(e){var t=y4(e,"string");return typeof t=="symbol"?t:String(t)}function y4(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CT(e,t,n){var r=R.useRef(e!==void 0),o=R.useState(t),i=o[0],s=o[1],u=e!==void 0,c=r.current;return r.current=u,!u&&c&&i!==t&&s(t),[u?e:i,R.useCallback(function(f){for(var d=arguments.length,m=new Array(d>1?d-1:0),g=1;g<d;g++)m[g-1]=arguments[g];n&&n.apply(void 0,[f].concat(m)),s(f)},[n])]}function Xd(e,t){return Object.keys(t).reduce(function(n,r){var o,i=n,s=i[XS(r)],u=i[r],c=PT(i,[XS(r),r].map(g4)),f=t[r],d=CT(u,s,e[f]),m=d[0],g=d[1];return B0({},c,(o={},o[r]=m,o[f]=g,o))},e)}function U0(e,t){return U0=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,o){return r.__proto__=o,r},U0(e,t)}function b4(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,U0(e,t)}const w4=["xxl","xl","lg","md","sm","xs"],E4="xs",vv=R.createContext({prefixes:{},breakpoints:w4,minBreakpoint:E4});function ft(e,t){const{prefixes:n}=R.useContext(vv);return e||n[t]||t}function TT(){const{breakpoints:e}=R.useContext(vv);return e}function NT(){const{minBreakpoint:e}=R.useContext(vv);return e}function gv(){const{dir:e}=R.useContext(vv);return e==="rtl"}function Nc(e){return e&&e.ownerDocument||document}function x4(e){var t=Nc(e);return t&&t.defaultView||window}function S4(e,t){return x4(e).getComputedStyle(e,t)}var _4=/([A-Z])/g;function k4(e){return e.replace(_4,"-$1").toLowerCase()}var P4=/^ms-/;function dp(e){return k4(e).replace(P4,"-ms-")}var C4=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function T4(e){return!!(e&&C4.test(e))}function ja(e,t){var n="",r="";if(typeof t=="string")return e.style.getPropertyValue(dp(t))||S4(e).getPropertyValue(dp(t));Object.keys(t).forEach(function(o){var i=t[o];!i&&i!==0?e.style.removeProperty(dp(o)):T4(o)?r+=o+"("+i+") ":n+=dp(o)+": "+i+";"}),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n}var OT={exports:{}},N4="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",O4=N4,R4=O4;function RT(){}function jT(){}jT.resetWarningCache=RT;var j4=function(){function e(r,o,i,s,u,c){if(c!==R4){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jT,resetWarningCache:RT};return n.PropTypes=n,n};OT.exports=j4();var A4=OT.exports;const Zi=Kl(A4),JS={disabled:!1},AT=An.createContext(null);var I4=function(t){return t.scrollTop},Bf="unmounted",cs="exited",ni="entering",_a="entered",fc="exiting",Ka=function(e){b4(t,e);function t(r,o){var i;i=e.call(this,r,o)||this;var s=o,u=s&&!s.isMounting?r.enter:r.appear,c;return i.appearStatus=null,r.in?u?(c=cs,i.appearStatus=ni):c=_a:r.unmountOnExit||r.mountOnEnter?c=Bf:c=cs,i.state={status:c},i.nextCallback=null,i}t.getDerivedStateFromProps=function(o,i){var s=o.in;return s&&i.status===Bf?{status:cs}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var i=null;if(o!==this.props){var s=this.state.status;this.props.in?s!==ni&&s!==_a&&(i=ni):(s===ni||s===_a)&&(i=fc)}this.updateStatus(!1,i)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,i,s,u;return i=s=u=o,o!=null&&typeof o!="number"&&(i=o.exit,s=o.enter,u=o.appear!==void 0?o.appear:s),{exit:i,enter:s,appear:u}},n.updateStatus=function(o,i){if(o===void 0&&(o=!1),i!==null)if(this.cancelNextCallback(),i===ni){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:gs.findDOMNode(this);s&&I4(s)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===cs&&this.setState({status:Bf})},n.performEnter=function(o){var i=this,s=this.props.enter,u=this.context?this.context.isMounting:o,c=this.props.nodeRef?[u]:[gs.findDOMNode(this),u],f=c[0],d=c[1],m=this.getTimeouts(),g=u?m.appear:m.enter;if(!o&&!s||JS.disabled){this.safeSetState({status:_a},function(){i.props.onEntered(f)});return}this.props.onEnter(f,d),this.safeSetState({status:ni},function(){i.props.onEntering(f,d),i.onTransitionEnd(g,function(){i.safeSetState({status:_a},function(){i.props.onEntered(f,d)})})})},n.performExit=function(){var o=this,i=this.props.exit,s=this.getTimeouts(),u=this.props.nodeRef?void 0:gs.findDOMNode(this);if(!i||JS.disabled){this.safeSetState({status:cs},function(){o.props.onExited(u)});return}this.props.onExit(u),this.safeSetState({status:fc},function(){o.props.onExiting(u),o.onTransitionEnd(s.exit,function(){o.safeSetState({status:cs},function(){o.props.onExited(u)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,i){i=this.setNextCallback(i),this.setState(o,i)},n.setNextCallback=function(o){var i=this,s=!0;return this.nextCallback=function(u){s&&(s=!1,i.nextCallback=null,o(u))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(o,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:gs.findDOMNode(this),u=o==null&&!this.props.addEndListener;if(!s||u){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],f=c[0],d=c[1];this.props.addEndListener(f,d)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===Bf)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var u=PT(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return An.createElement(AT.Provider,{value:null},typeof s=="function"?s(o,u):An.cloneElement(An.Children.only(s),u))},t}(An.Component);Ka.contextType=AT;Ka.propTypes={};function Su(){}Ka.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Su,onEntering:Su,onEntered:Su,onExit:Su,onExiting:Su,onExited:Su};Ka.UNMOUNTED=Bf;Ka.EXITED=cs;Ka.ENTERING=ni;Ka.ENTERED=_a;Ka.EXITING=fc;const D4=Ka,Oc=!!(typeof window<"u"&&window.document&&window.document.createElement);var K0=!1,H0=!1;try{var dy={get passive(){return K0=!0},get once(){return H0=K0=!0}};Oc&&(window.addEventListener("test",dy,dy),window.removeEventListener("test",dy,!0))}catch{}function Mw(e,t,n,r){if(r&&typeof r!="boolean"&&!H0){var o=r.once,i=r.capture,s=n;!H0&&o&&(s=n.__once||function u(c){this.removeEventListener(t,u,i),n.call(this,c)},n.__once=s),e.addEventListener(t,s,K0?r:i)}e.addEventListener(t,n,r)}function W0(e,t,n,r){var o=r&&typeof r!="boolean"?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)}function Ta(e,t,n,r){return Mw(e,t,n,r),function(){W0(e,t,n,r)}}function L4(e,t,n,r){if(n===void 0&&(n=!1),r===void 0&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}function M4(e){var t=ja(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function z4(e,t,n){n===void 0&&(n=5);var r=!1,o=setTimeout(function(){r||L4(e,"transitionend",!0)},t+n),i=Ta(e,"transitionend",function(){r=!0},{once:!0});return function(){clearTimeout(o),i()}}function IT(e,t,n,r){n==null&&(n=M4(e)||0);var o=z4(e,n,r),i=Ta(e,"transitionend",t);return function(){o(),i()}}function QS(e,t){const n=ja(e,t)||"",r=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*r}function zw(e,t){const n=QS(e,"transitionDuration"),r=QS(e,"transitionDelay"),o=IT(e,i=>{i.target===e&&(o(),t(i))},n+r)}function Ou(...e){return e.filter(t=>t!=null).reduce((t,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return t===null?n:function(...o){t.apply(this,o),n.apply(this,o)}},null)}function DT(e){e.offsetHeight}const ZS=e=>!e||typeof e=="function"?e:t=>{e.current=t};function F4(e,t){const n=ZS(e),r=ZS(t);return o=>{n&&n(o),r&&r(o)}}function Ii(e,t){return R.useMemo(()=>F4(e,t),[e,t])}function Tm(e){return e&&"setState"in e?gs.findDOMNode(e):e??null}const $4=An.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:o,onExited:i,addEndListener:s,children:u,childRef:c,...f},d)=>{const m=R.useRef(null),g=Ii(m,c),x=O=>{g(Tm(O))},y=O=>L=>{O&&m.current&&O(m.current,L)},_=R.useCallback(y(e),[e]),P=R.useCallback(y(t),[t]),k=R.useCallback(y(n),[n]),C=R.useCallback(y(r),[r]),S=R.useCallback(y(o),[o]),A=R.useCallback(y(i),[i]),K=R.useCallback(y(s),[s]);return w.jsx(D4,{ref:d,...f,onEnter:_,onEntered:k,onEntering:P,onExit:C,onExited:A,onExiting:S,addEndListener:K,nodeRef:m,children:typeof u=="function"?(O,L)=>u(O,{...L,ref:x}):An.cloneElement(u,{ref:x})})}),Fw=$4,B4={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function U4(e,t){const n=`offset${e[0].toUpperCase()}${e.slice(1)}`,r=t[n],o=B4[e];return r+parseInt(ja(t,o[0]),10)+parseInt(ja(t,o[1]),10)}const K4={[cs]:"collapse",[fc]:"collapsing",[ni]:"collapsing",[_a]:"collapse show"},H4=An.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:r,onExiting:o,className:i,children:s,dimension:u="height",in:c=!1,timeout:f=300,mountOnEnter:d=!1,unmountOnExit:m=!1,appear:g=!1,getDimensionValue:x=U4,...y},_)=>{const P=typeof u=="function"?u():u,k=R.useMemo(()=>Ou(O=>{O.style[P]="0"},e),[P,e]),C=R.useMemo(()=>Ou(O=>{const L=`scroll${P[0].toUpperCase()}${P.slice(1)}`;O.style[P]=`${O[L]}px`},t),[P,t]),S=R.useMemo(()=>Ou(O=>{O.style[P]=null},n),[P,n]),A=R.useMemo(()=>Ou(O=>{O.style[P]=`${x(P,O)}px`,DT(O)},r),[r,x,P]),K=R.useMemo(()=>Ou(O=>{O.style[P]=null},o),[P,o]);return w.jsx(Fw,{ref:_,addEndListener:zw,...y,"aria-expanded":y.role?c:null,onEnter:k,onEntering:C,onEntered:S,onExit:A,onExiting:K,childRef:s.ref,in:c,timeout:f,mountOnEnter:d,unmountOnExit:m,appear:g,children:(O,L)=>An.cloneElement(s,{...L,className:it(i,s.props.className,K4[O],P==="width"&&"collapse-horizontal")})})}),W4=H4;function V4(e){const t=R.useRef(e);return R.useEffect(()=>{t.current=e},[e]),t}function Dn(e){const t=V4(e);return R.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const yv=e=>R.forwardRef((t,n)=>w.jsx("div",{...t,ref:n,className:it(t.className,e)}));function Nm(){return R.useState(null)}function G4(e,t,n,r=!1){const o=Dn(n);R.useEffect(()=>{const i=typeof e=="function"?e():e;return i.addEventListener(t,o,r),()=>i.removeEventListener(t,o,r)},[e])}function $w(){const e=R.useRef(!0),t=R.useRef(()=>e.current);return R.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function LT(e){const t=R.useRef(null);return R.useEffect(()=>{t.current=e}),t.current}const q4=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",Y4=typeof document<"u",Ld=Y4||q4?R.useLayoutEffect:R.useEffect,X4=["as","disabled"];function J4(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function Q4(e){return!e||e.trim()==="#"}function Bw({tagName:e,disabled:t,href:n,target:r,rel:o,role:i,onClick:s,tabIndex:u=0,type:c}){e||(n!=null||r!=null||o!=null?e="a":e="button");const f={tagName:e};if(e==="button")return[{type:c||"button",disabled:t},f];const d=g=>{if((t||e==="a"&&Q4(n))&&g.preventDefault(),t){g.stopPropagation();return}s==null||s(g)},m=g=>{g.key===" "&&(g.preventDefault(),d(g))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:i??"button",disabled:void 0,tabIndex:t?void 0:u,href:n,target:e==="a"?r:void 0,"aria-disabled":t||void 0,rel:e==="a"?o:void 0,onClick:d,onKeyDown:m},f]}const Uw=R.forwardRef((e,t)=>{let{as:n,disabled:r}=e,o=J4(e,X4);const[i,{tagName:s}]=Bw(Object.assign({tagName:n,disabled:r},o));return w.jsx(s,Object.assign({},o,i,{ref:t}))});Uw.displayName="Button";const Z4=["onKeyDown"];function e3(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function t3(e){return!e||e.trim()==="#"}const MT=R.forwardRef((e,t)=>{let{onKeyDown:n}=e,r=e3(e,Z4);const[o]=Bw(Object.assign({tagName:"a"},r)),i=Dn(s=>{o.onKeyDown(s),n==null||n(s)});return t3(r.href)||r.role==="button"?w.jsx("a",Object.assign({ref:t},r,o,{onKeyDown:i})):w.jsx("a",Object.assign({ref:t},r,{onKeyDown:n}))});MT.displayName="Anchor";const zT=MT,n3={[ni]:"show",[_a]:"show"},FT=R.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:r,...o},i)=>{const s={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},u=R.useCallback((c,f)=>{DT(c),r==null||r(c,f)},[r]);return w.jsx(Fw,{ref:i,addEndListener:zw,...s,onEnter:u,childRef:t.ref,children:(c,f)=>R.cloneElement(t,{...f,className:it("fade",e,t.props.className,n3[c],n[c])})})});FT.displayName="Fade";const dc=FT,r3={"aria-label":Zi.string,onClick:Zi.func,variant:Zi.oneOf(["white"])},Kw=R.forwardRef(({className:e,variant:t,"aria-label":n="Close",...r},o)=>w.jsx("button",{ref:o,type:"button",className:it("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...r}));Kw.displayName="CloseButton";Kw.propTypes=r3;const $T=Kw,BT=R.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:r,className:o,as:i="span",...s},u)=>{const c=ft(e,"badge");return w.jsx(i,{ref:u,...s,className:it(o,c,n&&"rounded-pill",r&&`text-${r}`,t&&`bg-${t}`)})});BT.displayName="Badge";const UT=BT,KT=R.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:r,active:o=!1,disabled:i=!1,className:s,...u},c)=>{const f=ft(t,"btn"),[d,{tagName:m}]=Bw({tagName:e,disabled:i,...u}),g=m;return w.jsx(g,{...d,...u,ref:c,disabled:i,className:it(s,f,o&&"active",n&&`${f}-${n}`,r&&`${f}-${r}`,u.href&&i&&"disabled")})});KT.displayName="Button";const wt=KT,HT=R.forwardRef(({bsPrefix:e,size:t,vertical:n=!1,className:r,role:o="group",as:i="div",...s},u)=>{const c=ft(e,"btn-group");let f=c;return n&&(f=`${c}-vertical`),w.jsx(i,{...s,ref:u,role:o,className:it(r,f,t&&`${c}-${t}`)})});HT.displayName="ButtonGroup";const Hw=HT,WT=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"card-body"),w.jsx(n,{ref:o,className:it(e,t),...r})));WT.displayName="CardBody";const VT=WT,GT=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"card-footer"),w.jsx(n,{ref:o,className:it(e,t),...r})));GT.displayName="CardFooter";const o3=GT,qT=R.createContext(null);qT.displayName="CardHeaderContext";const YT=qT,XT=R.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},o)=>{const i=ft(e,"card-header"),s=R.useMemo(()=>({cardHeaderBsPrefix:i}),[i]);return w.jsx(YT.Provider,{value:s,children:w.jsx(n,{ref:o,...r,className:it(t,i)})})});XT.displayName="CardHeader";const i3=XT,JT=R.forwardRef(({bsPrefix:e,className:t,variant:n,as:r="img",...o},i)=>{const s=ft(e,"card-img");return w.jsx(r,{ref:i,className:it(n?`${s}-${n}`:s,t),...o})});JT.displayName="CardImg";const a3=JT,QT=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"card-img-overlay"),w.jsx(n,{ref:o,className:it(e,t),...r})));QT.displayName="CardImgOverlay";const s3=QT,ZT=R.forwardRef(({className:e,bsPrefix:t,as:n="a",...r},o)=>(t=ft(t,"card-link"),w.jsx(n,{ref:o,className:it(e,t),...r})));ZT.displayName="CardLink";const l3=ZT,u3=yv("h6"),eN=R.forwardRef(({className:e,bsPrefix:t,as:n=u3,...r},o)=>(t=ft(t,"card-subtitle"),w.jsx(n,{ref:o,className:it(e,t),...r})));eN.displayName="CardSubtitle";const c3=eN,tN=R.forwardRef(({className:e,bsPrefix:t,as:n="p",...r},o)=>(t=ft(t,"card-text"),w.jsx(n,{ref:o,className:it(e,t),...r})));tN.displayName="CardText";const f3=tN,d3=yv("h5"),nN=R.forwardRef(({className:e,bsPrefix:t,as:n=d3,...r},o)=>(t=ft(t,"card-title"),w.jsx(n,{ref:o,className:it(e,t),...r})));nN.displayName="CardTitle";const h3=nN,rN=R.forwardRef(({bsPrefix:e,className:t,bg:n,text:r,border:o,body:i=!1,children:s,as:u="div",...c},f)=>{const d=ft(e,"card");return w.jsx(u,{ref:f,...c,className:it(t,d,n&&`bg-${n}`,r&&`text-${r}`,o&&`border-${o}`),children:i?w.jsx(VT,{children:s}):s})});rN.displayName="Card";const hp=Object.assign(rN,{Img:a3,Title:h3,Subtitle:c3,Body:VT,Link:l3,Text:f3,Header:i3,Footer:o3,ImgOverlay:s3});function p3(e){const t=R.useRef(e);return t.current=e,t}function Ww(e){const t=p3(e);R.useEffect(()=>()=>t.current(),[])}const V0=2**31-1;function oN(e,t,n){const r=n-Date.now();e.current=r<=V0?setTimeout(t,r):setTimeout(()=>oN(e,t,n),V0)}function iN(){const e=$w(),t=R.useRef();return Ww(()=>clearTimeout(t.current)),R.useMemo(()=>{const n=()=>clearTimeout(t.current);function r(o,i=0){e()&&(n(),i<=V0?t.current=setTimeout(o,i):oN(t,o,Date.now()+i))}return{set:r,clear:n,handleRef:t}},[])}function m3(e,t){let n=0;return R.Children.map(e,r=>R.isValidElement(r)?t(r,n++):r)}function v3(e,t){return R.Children.toArray(e).some(n=>R.isValidElement(n)&&n.type===t)}function g3({as:e,bsPrefix:t,className:n,...r}){t=ft(t,"col");const o=TT(),i=NT(),s=[],u=[];return o.forEach(c=>{const f=r[c];delete r[c];let d,m,g;typeof f=="object"&&f!=null?{span:d,offset:m,order:g}=f:d=f;const x=c!==i?`-${c}`:"";d&&s.push(d===!0?`${t}${x}`:`${t}${x}-${d}`),g!=null&&u.push(`order${x}-${g}`),m!=null&&u.push(`offset${x}-${m}`)}),[{...r,className:it(n,...s,...u)},{as:e,bsPrefix:t,spans:s}]}const aN=R.forwardRef((e,t)=>{const[{className:n,...r},{as:o="div",bsPrefix:i,spans:s}]=g3(e);return w.jsx(o,{...r,ref:t,className:it(n,!s.length&&i)})});aN.displayName="Col";const Nt=aN,sN=R.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:r,...o},i)=>{const s=ft(e,"container"),u=typeof t=="string"?`-${t}`:"-fluid";return w.jsx(n,{ref:i,...o,className:it(r,t?`${s}${u}`:s)})});sN.displayName="Container";const G0=sN;var y3=Function.prototype.bind.call(Function.prototype.call,[].slice);function Sa(e,t){return y3(e.querySelectorAll(t))}function b3(e,t,n){const r=R.useRef(e!==void 0),[o,i]=R.useState(t),s=e!==void 0,u=r.current;return r.current=s,!s&&u&&o!==t&&i(t),[s?e:o,R.useCallback((...c)=>{const[f,...d]=c;let m=n==null?void 0:n(f,...d);return i(f),m},[n])]}function lN(){const[,e]=R.useReducer(t=>!t,!1);return e}const w3=R.createContext(null),bv=w3;var e_=Object.prototype.hasOwnProperty;function t_(e,t,n){for(n of e.keys())if(od(n,t))return n}function od(e,t){var n,r,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&od(e[r],t[r]););return r===-1}if(n===Set){if(e.size!==t.size)return!1;for(r of e)if(o=r,o&&typeof o=="object"&&(o=t_(t,o),!o)||!t.has(o))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e)if(o=r[0],o&&typeof o=="object"&&(o=t_(t,o),!o)||!od(r[1],t.get(o)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return r===-1}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return r===-1}if(!n||typeof e=="object"){r=0;for(n in e)if(e_.call(e,n)&&++r&&!e_.call(t,n)||!(n in t)||!od(e[n],t[n]))return!1;return Object.keys(t).length===r}}return e!==e&&t!==t}function E3(e){const t=$w();return[e[0],R.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var xo="top",si="bottom",li="right",So="left",Vw="auto",Jd=[xo,si,li,So],hc="start",Md="end",x3="clippingParents",uN="viewport",Tf="popper",S3="reference",n_=Jd.reduce(function(e,t){return e.concat([t+"-"+hc,t+"-"+Md])},[]),cN=[].concat(Jd,[Vw]).reduce(function(e,t){return e.concat([t,t+"-"+hc,t+"-"+Md])},[]),_3="beforeRead",k3="read",P3="afterRead",C3="beforeMain",T3="main",N3="afterMain",O3="beforeWrite",R3="write",j3="afterWrite",A3=[_3,k3,P3,C3,T3,N3,O3,R3,j3];function ea(e){return e.split("-")[0]}function zo(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Fl(e){var t=zo(e).Element;return e instanceof t||e instanceof Element}function ta(e){var t=zo(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function Gw(e){if(typeof ShadowRoot>"u")return!1;var t=zo(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Ol=Math.max,Om=Math.min,pc=Math.round;function q0(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function fN(){return!/^((?!chrome|android).)*safari/i.test(q0())}function mc(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&ta(e)&&(o=e.offsetWidth>0&&pc(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&pc(r.height)/e.offsetHeight||1);var s=Fl(e)?zo(e):window,u=s.visualViewport,c=!fN()&&n,f=(r.left+(c&&u?u.offsetLeft:0))/o,d=(r.top+(c&&u?u.offsetTop:0))/i,m=r.width/o,g=r.height/i;return{width:m,height:g,top:d,right:f+m,bottom:d+g,left:f,x:f,y:d}}function qw(e){var t=mc(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function dN(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Gw(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function As(e){return e?(e.nodeName||"").toLowerCase():null}function $a(e){return zo(e).getComputedStyle(e)}function I3(e){return["table","td","th"].indexOf(As(e))>=0}function zs(e){return((Fl(e)?e.ownerDocument:e.document)||window.document).documentElement}function wv(e){return As(e)==="html"?e:e.assignedSlot||e.parentNode||(Gw(e)?e.host:null)||zs(e)}function r_(e){return!ta(e)||$a(e).position==="fixed"?null:e.offsetParent}function D3(e){var t=/firefox/i.test(q0()),n=/Trident/i.test(q0());if(n&&ta(e)){var r=$a(e);if(r.position==="fixed")return null}var o=wv(e);for(Gw(o)&&(o=o.host);ta(o)&&["html","body"].indexOf(As(o))<0;){var i=$a(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||t&&i.willChange==="filter"||t&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Qd(e){for(var t=zo(e),n=r_(e);n&&I3(n)&&$a(n).position==="static";)n=r_(n);return n&&(As(n)==="html"||As(n)==="body"&&$a(n).position==="static")?t:n||D3(e)||t}function Yw(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function id(e,t,n){return Ol(e,Om(t,n))}function L3(e,t,n){var r=id(e,t,n);return r>n?n:r}function hN(){return{top:0,right:0,bottom:0,left:0}}function pN(e){return Object.assign({},hN(),e)}function mN(e,t){return t.reduce(function(n,r){return n[r]=e,n},{})}var M3=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,pN(typeof t!="number"?t:mN(t,Jd))};function z3(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,u=ea(n.placement),c=Yw(u),f=[So,li].indexOf(u)>=0,d=f?"height":"width";if(!(!i||!s)){var m=M3(o.padding,n),g=qw(i),x=c==="y"?xo:So,y=c==="y"?si:li,_=n.rects.reference[d]+n.rects.reference[c]-s[c]-n.rects.popper[d],P=s[c]-n.rects.reference[c],k=Qd(i),C=k?c==="y"?k.clientHeight||0:k.clientWidth||0:0,S=_/2-P/2,A=m[x],K=C-g[d]-m[y],O=C/2-g[d]/2+S,L=id(A,O,K),X=c;n.modifiersData[r]=(t={},t[X]=L,t.centerOffset=L-O,t)}}function F3(e){var t=e.state,n=e.options,r=n.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=t.elements.popper.querySelector(o),!o)||dN(t.elements.popper,o)&&(t.elements.arrow=o))}const $3={name:"arrow",enabled:!0,phase:"main",fn:z3,effect:F3,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function vc(e){return e.split("-")[1]}var B3={top:"auto",right:"auto",bottom:"auto",left:"auto"};function U3(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:pc(n*o)/o||0,y:pc(r*o)/o||0}}function o_(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,u=e.position,c=e.gpuAcceleration,f=e.adaptive,d=e.roundOffsets,m=e.isFixed,g=s.x,x=g===void 0?0:g,y=s.y,_=y===void 0?0:y,P=typeof d=="function"?d({x,y:_}):{x,y:_};x=P.x,_=P.y;var k=s.hasOwnProperty("x"),C=s.hasOwnProperty("y"),S=So,A=xo,K=window;if(f){var O=Qd(n),L="clientHeight",X="clientWidth";if(O===zo(n)&&(O=zs(n),$a(O).position!=="static"&&u==="absolute"&&(L="scrollHeight",X="scrollWidth")),O=O,o===xo||(o===So||o===li)&&i===Md){A=si;var F=m&&O===K&&K.visualViewport?K.visualViewport.height:O[L];_-=F-r.height,_*=c?1:-1}if(o===So||(o===xo||o===si)&&i===Md){S=li;var N=m&&O===K&&K.visualViewport?K.visualViewport.width:O[X];x-=N-r.width,x*=c?1:-1}}var q=Object.assign({position:u},f&&B3),U=d===!0?U3({x,y:_},zo(n)):{x,y:_};if(x=U.x,_=U.y,c){var te;return Object.assign({},q,(te={},te[A]=C?"0":"",te[S]=k?"0":"",te.transform=(K.devicePixelRatio||1)<=1?"translate("+x+"px, "+_+"px)":"translate3d("+x+"px, "+_+"px, 0)",te))}return Object.assign({},q,(t={},t[A]=C?_+"px":"",t[S]=k?x+"px":"",t.transform="",t))}function K3(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=r===void 0?!0:r,i=n.adaptive,s=i===void 0?!0:i,u=n.roundOffsets,c=u===void 0?!0:u,f={placement:ea(t.placement),variation:vc(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,o_(Object.assign({},f,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,o_(Object.assign({},f,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const H3={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:K3,data:{}};var pp={passive:!0};function W3(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,s=r.resize,u=s===void 0?!0:s,c=zo(t.elements.popper),f=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&f.forEach(function(d){d.addEventListener("scroll",n.update,pp)}),u&&c.addEventListener("resize",n.update,pp),function(){i&&f.forEach(function(d){d.removeEventListener("scroll",n.update,pp)}),u&&c.removeEventListener("resize",n.update,pp)}}const V3={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:W3,data:{}};var G3={left:"right",right:"left",bottom:"top",top:"bottom"};function Wp(e){return e.replace(/left|right|bottom|top/g,function(t){return G3[t]})}var q3={start:"end",end:"start"};function i_(e){return e.replace(/start|end/g,function(t){return q3[t]})}function Xw(e){var t=zo(e),n=t.pageXOffset,r=t.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Jw(e){return mc(zs(e)).left+Xw(e).scrollLeft}function Y3(e,t){var n=zo(e),r=zs(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,u=0,c=0;if(o){i=o.width,s=o.height;var f=fN();(f||!f&&t==="fixed")&&(u=o.offsetLeft,c=o.offsetTop)}return{width:i,height:s,x:u+Jw(e),y:c}}function X3(e){var t,n=zs(e),r=Xw(e),o=(t=e.ownerDocument)==null?void 0:t.body,i=Ol(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Ol(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),u=-r.scrollLeft+Jw(e),c=-r.scrollTop;return $a(o||n).direction==="rtl"&&(u+=Ol(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:u,y:c}}function Qw(e){var t=$a(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function vN(e){return["html","body","#document"].indexOf(As(e))>=0?e.ownerDocument.body:ta(e)&&Qw(e)?e:vN(wv(e))}function ad(e,t){var n;t===void 0&&(t=[]);var r=vN(e),o=r===((n=e.ownerDocument)==null?void 0:n.body),i=zo(r),s=o?[i].concat(i.visualViewport||[],Qw(r)?r:[]):r,u=t.concat(s);return o?u:u.concat(ad(wv(s)))}function Y0(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function J3(e,t){var n=mc(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function a_(e,t,n){return t===uN?Y0(Y3(e,n)):Fl(t)?J3(t,n):Y0(X3(zs(e)))}function Q3(e){var t=ad(wv(e)),n=["absolute","fixed"].indexOf($a(e).position)>=0,r=n&&ta(e)?Qd(e):e;return Fl(r)?t.filter(function(o){return Fl(o)&&dN(o,r)&&As(o)!=="body"}):[]}function Z3(e,t,n,r){var o=t==="clippingParents"?Q3(e):[].concat(t),i=[].concat(o,[n]),s=i[0],u=i.reduce(function(c,f){var d=a_(e,f,r);return c.top=Ol(d.top,c.top),c.right=Om(d.right,c.right),c.bottom=Om(d.bottom,c.bottom),c.left=Ol(d.left,c.left),c},a_(e,s,r));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function gN(e){var t=e.reference,n=e.element,r=e.placement,o=r?ea(r):null,i=r?vc(r):null,s=t.x+t.width/2-n.width/2,u=t.y+t.height/2-n.height/2,c;switch(o){case xo:c={x:s,y:t.y-n.height};break;case si:c={x:s,y:t.y+t.height};break;case li:c={x:t.x+t.width,y:u};break;case So:c={x:t.x-n.width,y:u};break;default:c={x:t.x,y:t.y}}var f=o?Yw(o):null;if(f!=null){var d=f==="y"?"height":"width";switch(i){case hc:c[f]=c[f]-(t[d]/2-n[d]/2);break;case Md:c[f]=c[f]+(t[d]/2-n[d]/2);break}}return c}function zd(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=r===void 0?e.placement:r,i=n.strategy,s=i===void 0?e.strategy:i,u=n.boundary,c=u===void 0?x3:u,f=n.rootBoundary,d=f===void 0?uN:f,m=n.elementContext,g=m===void 0?Tf:m,x=n.altBoundary,y=x===void 0?!1:x,_=n.padding,P=_===void 0?0:_,k=pN(typeof P!="number"?P:mN(P,Jd)),C=g===Tf?S3:Tf,S=e.rects.popper,A=e.elements[y?C:g],K=Z3(Fl(A)?A:A.contextElement||zs(e.elements.popper),c,d,s),O=mc(e.elements.reference),L=gN({reference:O,element:S,strategy:"absolute",placement:o}),X=Y0(Object.assign({},S,L)),F=g===Tf?X:O,N={top:K.top-F.top+k.top,bottom:F.bottom-K.bottom+k.bottom,left:K.left-F.left+k.left,right:F.right-K.right+k.right},q=e.modifiersData.offset;if(g===Tf&&q){var U=q[o];Object.keys(N).forEach(function(te){var ue=[li,si].indexOf(te)>=0?1:-1,ke=[xo,si].indexOf(te)>=0?"y":"x";N[te]+=U[ke]*ue})}return N}function e6(e,t){t===void 0&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,u=n.flipVariations,c=n.allowedAutoPlacements,f=c===void 0?cN:c,d=vc(r),m=d?u?n_:n_.filter(function(y){return vc(y)===d}):Jd,g=m.filter(function(y){return f.indexOf(y)>=0});g.length===0&&(g=m);var x=g.reduce(function(y,_){return y[_]=zd(e,{placement:_,boundary:o,rootBoundary:i,padding:s})[ea(_)],y},{});return Object.keys(x).sort(function(y,_){return x[y]-x[_]})}function t6(e){if(ea(e)===Vw)return[];var t=Wp(e);return[i_(e),t,i_(t)]}function n6(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,u=s===void 0?!0:s,c=n.fallbackPlacements,f=n.padding,d=n.boundary,m=n.rootBoundary,g=n.altBoundary,x=n.flipVariations,y=x===void 0?!0:x,_=n.allowedAutoPlacements,P=t.options.placement,k=ea(P),C=k===P,S=c||(C||!y?[Wp(P)]:t6(P)),A=[P].concat(S).reduce(function(Se,Re){return Se.concat(ea(Re)===Vw?e6(t,{placement:Re,boundary:d,rootBoundary:m,padding:f,flipVariations:y,allowedAutoPlacements:_}):Re)},[]),K=t.rects.reference,O=t.rects.popper,L=new Map,X=!0,F=A[0],N=0;N<A.length;N++){var q=A[N],U=ea(q),te=vc(q)===hc,ue=[xo,si].indexOf(U)>=0,ke=ue?"width":"height",Be=zd(t,{placement:q,boundary:d,rootBoundary:m,altBoundary:g,padding:f}),Ve=ue?te?li:So:te?si:xo;K[ke]>O[ke]&&(Ve=Wp(Ve));var ve=Wp(Ve),Fe=[];if(i&&Fe.push(Be[U]<=0),u&&Fe.push(Be[Ve]<=0,Be[ve]<=0),Fe.every(function(Se){return Se})){F=q,X=!1;break}L.set(q,Fe)}if(X)for(var Ce=y?3:1,Ke=function(Re){var Ze=A.find(function(pe){var ye=L.get(pe);if(ye)return ye.slice(0,Re).every(function(de){return de})});if(Ze)return F=Ze,"break"},me=Ce;me>0;me--){var Ge=Ke(me);if(Ge==="break")break}t.placement!==F&&(t.modifiersData[r]._skip=!0,t.placement=F,t.reset=!0)}}const r6={name:"flip",enabled:!0,phase:"main",fn:n6,requiresIfExists:["offset"],data:{_skip:!1}};function s_(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function l_(e){return[xo,li,si,So].some(function(t){return e[t]>=0})}function o6(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=zd(t,{elementContext:"reference"}),u=zd(t,{altBoundary:!0}),c=s_(s,r),f=s_(u,o,i),d=l_(c),m=l_(f);t.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:m},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":m})}const i6={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:o6};function a6(e,t,n){var r=ea(e),o=[So,xo].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,s=i[0],u=i[1];return s=s||0,u=(u||0)*o,[So,li].indexOf(r)>=0?{x:u,y:s}:{x:s,y:u}}function s6(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=o===void 0?[0,0]:o,s=cN.reduce(function(d,m){return d[m]=a6(m,t.rects,i),d},{}),u=s[t.placement],c=u.x,f=u.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=f),t.modifiersData[r]=s}const l6={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:s6};function u6(e){var t=e.state,n=e.name;t.modifiersData[n]=gN({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const c6={name:"popperOffsets",enabled:!0,phase:"read",fn:u6,data:{}};function f6(e){return e==="x"?"y":"x"}function d6(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=o===void 0?!0:o,s=n.altAxis,u=s===void 0?!1:s,c=n.boundary,f=n.rootBoundary,d=n.altBoundary,m=n.padding,g=n.tether,x=g===void 0?!0:g,y=n.tetherOffset,_=y===void 0?0:y,P=zd(t,{boundary:c,rootBoundary:f,padding:m,altBoundary:d}),k=ea(t.placement),C=vc(t.placement),S=!C,A=Yw(k),K=f6(A),O=t.modifiersData.popperOffsets,L=t.rects.reference,X=t.rects.popper,F=typeof _=="function"?_(Object.assign({},t.rects,{placement:t.placement})):_,N=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),q=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,U={x:0,y:0};if(O){if(i){var te,ue=A==="y"?xo:So,ke=A==="y"?si:li,Be=A==="y"?"height":"width",Ve=O[A],ve=Ve+P[ue],Fe=Ve-P[ke],Ce=x?-X[Be]/2:0,Ke=C===hc?L[Be]:X[Be],me=C===hc?-X[Be]:-L[Be],Ge=t.elements.arrow,Se=x&&Ge?qw(Ge):{width:0,height:0},Re=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:hN(),Ze=Re[ue],pe=Re[ke],ye=id(0,L[Be],Se[Be]),de=S?L[Be]/2-Ce-ye-Ze-N.mainAxis:Ke-ye-Ze-N.mainAxis,Oe=S?-L[Be]/2+Ce+ye+pe+N.mainAxis:me+ye+pe+N.mainAxis,ze=t.elements.arrow&&Qd(t.elements.arrow),Qe=ze?A==="y"?ze.clientTop||0:ze.clientLeft||0:0,yt=(te=q==null?void 0:q[A])!=null?te:0,vt=Ve+de-yt-Qe,He=Ve+Oe-yt,vn=id(x?Om(ve,vt):ve,Ve,x?Ol(Fe,He):Fe);O[A]=vn,U[A]=vn-Ve}if(u){var tn,$n=A==="x"?xo:So,or=A==="x"?si:li,dn=O[K],jt=K==="y"?"height":"width",yn=dn+P[$n],gn=dn-P[or],Bt=[xo,So].indexOf(k)!==-1,Et=(tn=q==null?void 0:q[K])!=null?tn:0,at=Bt?yn:dn-L[jt]-X[jt]-Et+N.altAxis,bt=Bt?dn+L[jt]+X[jt]-Et-N.altAxis:gn,Ut=x&&Bt?L3(at,dn,bt):id(x?at:yn,dn,x?bt:gn);O[K]=Ut,U[K]=Ut-dn}t.modifiersData[r]=U}}const h6={name:"preventOverflow",enabled:!0,phase:"main",fn:d6,requiresIfExists:["offset"]};function p6(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function m6(e){return e===zo(e)||!ta(e)?Xw(e):p6(e)}function v6(e){var t=e.getBoundingClientRect(),n=pc(t.width)/e.offsetWidth||1,r=pc(t.height)/e.offsetHeight||1;return n!==1||r!==1}function g6(e,t,n){n===void 0&&(n=!1);var r=ta(t),o=ta(t)&&v6(t),i=zs(t),s=mc(e,o,n),u={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&((As(t)!=="body"||Qw(i))&&(u=m6(t)),ta(t)?(c=mc(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):i&&(c.x=Jw(i))),{x:s.left+u.scrollLeft-c.x,y:s.top+u.scrollTop-c.y,width:s.width,height:s.height}}function y6(e){var t=new Map,n=new Set,r=[];e.forEach(function(i){t.set(i.name,i)});function o(i){n.add(i.name);var s=[].concat(i.requires||[],i.requiresIfExists||[]);s.forEach(function(u){if(!n.has(u)){var c=t.get(u);c&&o(c)}}),r.push(i)}return e.forEach(function(i){n.has(i.name)||o(i)}),r}function b6(e){var t=y6(e);return A3.reduce(function(n,r){return n.concat(t.filter(function(o){return o.phase===r}))},[])}function w6(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function E6(e){var t=e.reduce(function(n,r){var o=n[r.name];return n[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,n},{});return Object.keys(t).map(function(n){return t[n]})}var u_={placement:"bottom",modifiers:[],strategy:"absolute"};function c_(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function x6(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,r=n===void 0?[]:n,o=t.defaultOptions,i=o===void 0?u_:o;return function(u,c,f){f===void 0&&(f=i);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},u_,i),modifiersData:{},elements:{reference:u,popper:c},attributes:{},styles:{}},m=[],g=!1,x={state:d,setOptions:function(k){var C=typeof k=="function"?k(d.options):k;_(),d.options=Object.assign({},i,d.options,C),d.scrollParents={reference:Fl(u)?ad(u):u.contextElement?ad(u.contextElement):[],popper:ad(c)};var S=b6(E6([].concat(r,d.options.modifiers)));return d.orderedModifiers=S.filter(function(A){return A.enabled}),y(),x.update()},forceUpdate:function(){if(!g){var k=d.elements,C=k.reference,S=k.popper;if(c_(C,S)){d.rects={reference:g6(C,Qd(S),d.options.strategy==="fixed"),popper:qw(S)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(N){return d.modifiersData[N.name]=Object.assign({},N.data)});for(var A=0;A<d.orderedModifiers.length;A++){if(d.reset===!0){d.reset=!1,A=-1;continue}var K=d.orderedModifiers[A],O=K.fn,L=K.options,X=L===void 0?{}:L,F=K.name;typeof O=="function"&&(d=O({state:d,options:X,name:F,instance:x})||d)}}}},update:w6(function(){return new Promise(function(P){x.forceUpdate(),P(d)})}),destroy:function(){_(),g=!0}};if(!c_(u,c))return x;x.setOptions(f).then(function(P){!g&&f.onFirstUpdate&&f.onFirstUpdate(P)});function y(){d.orderedModifiers.forEach(function(P){var k=P.name,C=P.options,S=C===void 0?{}:C,A=P.effect;if(typeof A=="function"){var K=A({state:d,name:k,instance:x,options:S}),O=function(){};m.push(K||O)}})}function _(){m.forEach(function(P){return P()}),m=[]}return x}}const S6=x6({defaultModifiers:[i6,c6,H3,V3,l6,r6,h6,$3]}),_6=["enabled","placement","strategy","modifiers"];function k6(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}const P6={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},C6={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const r=(t.getAttribute("aria-describedby")||"").split(",").filter(o=>o.trim()!==n.id);r.length?t.setAttribute("aria-describedby",r.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:r}=e.elements,o=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&o==="tooltip"&&"setAttribute"in r){const i=r.getAttribute("aria-describedby");if(i&&i.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",i?`${i},${n.id}`:n.id)}}},T6=[];function yN(e,t,n={}){let{enabled:r=!0,placement:o="bottom",strategy:i="absolute",modifiers:s=T6}=n,u=k6(n,_6);const c=R.useRef(s),f=R.useRef(),d=R.useCallback(()=>{var P;(P=f.current)==null||P.update()},[]),m=R.useCallback(()=>{var P;(P=f.current)==null||P.forceUpdate()},[]),[g,x]=E3(R.useState({placement:o,update:d,forceUpdate:m,attributes:{},styles:{popper:{},arrow:{}}})),y=R.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:P})=>{const k={},C={};Object.keys(P.elements).forEach(S=>{k[S]=P.styles[S],C[S]=P.attributes[S]}),x({state:P,styles:k,attributes:C,update:d,forceUpdate:m,placement:P.placement})}}),[d,m,x]),_=R.useMemo(()=>(od(c.current,s)||(c.current=s),c.current),[s]);return R.useEffect(()=>{!f.current||!r||f.current.setOptions({placement:o,strategy:i,modifiers:[..._,y,P6]})},[i,o,y,r,_]),R.useEffect(()=>{if(!(!r||e==null||t==null))return f.current=S6(e,t,Object.assign({},u,{placement:o,strategy:i,modifiers:[..._,C6,y]})),()=>{f.current!=null&&(f.current.destroy(),f.current=void 0,x(P=>Object.assign({},P,{attributes:{},styles:{popper:{}}})))}},[r,e,t]),g}function Fd(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}var N6=function(){},O6=N6;const R6=Kl(O6),f_=()=>{};function j6(e){return e.button===0}function A6(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const Vp=e=>e&&("current"in e?e.current:e),d_={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function bN(e,t=f_,{disabled:n,clickTrigger:r="click"}={}){const o=R.useRef(!1),i=R.useRef(!1),s=R.useCallback(f=>{const d=Vp(e);R6(!!d,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),o.current=!d||A6(f)||!j6(f)||!!Fd(d,f.target)||i.current,i.current=!1},[e]),u=Dn(f=>{const d=Vp(e);d&&Fd(d,f.target)&&(i.current=!0)}),c=Dn(f=>{o.current||t(f)});R.useEffect(()=>{var f,d;if(n||e==null)return;const m=Nc(Vp(e)),g=m.defaultView||window;let x=(f=g.event)!=null?f:(d=g.parent)==null?void 0:d.event,y=null;d_[r]&&(y=Ta(m,d_[r],u,!0));const _=Ta(m,r,s,!0),P=Ta(m,r,C=>{if(C===x){x=void 0;return}c(C)});let k=[];return"ontouchstart"in m.documentElement&&(k=[].slice.call(m.body.children).map(C=>Ta(C,"mousemove",f_))),()=>{y==null||y(),_(),P(),k.forEach(C=>C())}},[e,n,r,s,u,c])}function I6(e){const t={};return Array.isArray(e)?(e==null||e.forEach(n=>{t[n.name]=n}),t):e||t}function D6(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function wN({enabled:e,enableEvents:t,placement:n,flip:r,offset:o,fixed:i,containerPadding:s,arrowElement:u,popperConfig:c={}}){var f,d,m,g,x;const y=I6(c.modifiers);return Object.assign({},c,{placement:n,enabled:e,strategy:i?"fixed":c.strategy,modifiers:D6(Object.assign({},y,{eventListeners:{enabled:t,options:(f=y.eventListeners)==null?void 0:f.options},preventOverflow:Object.assign({},y.preventOverflow,{options:s?Object.assign({padding:s},(d=y.preventOverflow)==null?void 0:d.options):(m=y.preventOverflow)==null?void 0:m.options}),offset:{options:Object.assign({offset:o},(g=y.offset)==null?void 0:g.options)},arrow:Object.assign({},y.arrow,{enabled:!!u,options:Object.assign({},(x=y.arrow)==null?void 0:x.options,{element:u})}),flip:Object.assign({enabled:!!r},y.flip)}))})}const L6=["children"];function M6(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}const z6=()=>{};function EN(e={}){const t=R.useContext(bv),[n,r]=Nm(),o=R.useRef(!1),{flip:i,offset:s,rootCloseEvent:u,fixed:c=!1,placement:f,popperConfig:d={},enableEventListeners:m=!0,usePopper:g=!!t}=e,x=(t==null?void 0:t.show)==null?!!e.show:t.show;x&&!o.current&&(o.current=!0);const y=O=>{t==null||t.toggle(!1,O)},{placement:_,setMenu:P,menuElement:k,toggleElement:C}=t||{},S=yN(C,k,wN({placement:f||_||"bottom-start",enabled:g,enableEvents:m??x,offset:s,flip:i,fixed:c,arrowElement:n,popperConfig:d})),A=Object.assign({ref:P||z6,"aria-labelledby":C==null?void 0:C.id},S.attributes.popper,{style:S.styles.popper}),K={show:x,placement:_,hasShown:o.current,toggle:t==null?void 0:t.toggle,popper:g?S:null,arrowProps:g?Object.assign({ref:r},S.attributes.arrow,{style:S.styles.arrow}):{}};return bN(k,y,{clickTrigger:u,disabled:!x}),[A,K]}const F6={usePopper:!0};function Zw(e){let{children:t}=e,n=M6(e,L6);const[r,o]=EN(n);return w.jsx(w.Fragment,{children:t(r,o)})}Zw.displayName="DropdownMenu";Zw.defaultProps=F6;const Rm={prefix:String(Math.round(Math.random()*1e10)),current:0},xN=An.createContext(Rm),$6=An.createContext(!1);let B6=!!(typeof window<"u"&&window.document&&window.document.createElement),hy=new WeakMap;function U6(e=!1){let t=R.useContext(xN),n=R.useRef(null);if(n.current===null&&!e){var r,o;let i=(o=An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||o===void 0||(r=o.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(i){let s=hy.get(i);s==null?hy.set(i,{id:t.current,state:i.memoizedState}):i.memoizedState!==s.state&&(t.current=s.id,hy.delete(i))}n.current=++t.current}return n.current}function K6(e){let t=R.useContext(xN);t===Rm&&!B6&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=U6(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function H6(e){let t=An.useId(),[n]=R.useState(Y6()),r=n?"react-aria":`react-aria${Rm.prefix}`;return e||`${r}-${t}`}const W6=typeof An.useId=="function"?H6:K6;function V6(){return!1}function G6(){return!0}function q6(e){return()=>{}}function Y6(){return typeof An.useSyncExternalStore=="function"?An.useSyncExternalStore(q6,V6,G6):R.useContext($6)}const SN=e=>{var t;return((t=e.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},h_=()=>{};function _N(){const e=W6(),{show:t=!1,toggle:n=h_,setToggle:r,menuElement:o}=R.useContext(bv)||{},i=R.useCallback(u=>{n(!t,u)},[t,n]),s={id:e,ref:r||h_,onClick:i,"aria-expanded":!!t};return o&&SN(o)&&(s["aria-haspopup"]=!0),[s,{show:t,toggle:n}]}function kN({children:e}){const[t,n]=_N();return w.jsx(w.Fragment,{children:e(t,n)})}kN.displayName="DropdownToggle";const X6=R.createContext(null),gc=(e,t=null)=>e!=null?String(e):t||null,$l=X6,PN=R.createContext(null);PN.displayName="NavContext";const e1=PN,J6="data-rr-ui-",Q6="rrUi";function Rc(e){return`${J6}${e}`}function Z6(e){return`${Q6}${e}`}const eU=["eventKey","disabled","onClick","active","as"];function tU(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function CN({key:e,href:t,active:n,disabled:r,onClick:o}){const i=R.useContext($l),s=R.useContext(e1),{activeKey:u}=s||{},c=gc(e,t),f=n==null&&e!=null?gc(u)===c:n;return[{onClick:Dn(m=>{r||(o==null||o(m),i&&!m.isPropagationStopped()&&i(c,m))}),"aria-disabled":r||void 0,"aria-selected":f,[Rc("dropdown-item")]:""},{isActive:f}]}const TN=R.forwardRef((e,t)=>{let{eventKey:n,disabled:r,onClick:o,active:i,as:s=Uw}=e,u=tU(e,eU);const[c]=CN({key:n,href:u.href,disabled:r,onClick:o,active:i});return w.jsx(s,Object.assign({},u,{ref:t},c))});TN.displayName="DropdownItem";const NN=R.createContext(Oc?window:void 0);NN.Provider;function Ev(){return R.useContext(NN)}function p_(){const e=lN(),t=R.useRef(null),n=R.useCallback(r=>{t.current=r,e()},[e]);return[t,n]}function Zd({defaultShow:e,show:t,onSelect:n,onToggle:r,itemSelector:o=`* [${Rc("dropdown-item")}]`,focusFirstItemOnShow:i,placement:s="bottom-start",children:u}){const c=Ev(),[f,d]=b3(t,e,r),[m,g]=p_(),x=m.current,[y,_]=p_(),P=y.current,k=LT(f),C=R.useRef(null),S=R.useRef(!1),A=R.useContext($l),K=R.useCallback((q,U,te=U==null?void 0:U.type)=>{d(q,{originalEvent:U,source:te})},[d]),O=Dn((q,U)=>{n==null||n(q,U),K(!1,U,"select"),U.isPropagationStopped()||A==null||A(q,U)}),L=R.useMemo(()=>({toggle:K,placement:s,show:f,menuElement:x,toggleElement:P,setMenu:g,setToggle:_}),[K,s,f,x,P,g,_]);x&&k&&!f&&(S.current=x.contains(x.ownerDocument.activeElement));const X=Dn(()=>{P&&P.focus&&P.focus()}),F=Dn(()=>{const q=C.current;let U=i;if(U==null&&(U=m.current&&SN(m.current)?"keyboard":!1),U===!1||U==="keyboard"&&!/^key.+$/.test(q))return;const te=Sa(m.current,o)[0];te&&te.focus&&te.focus()});R.useEffect(()=>{f?F():S.current&&(S.current=!1,X())},[f,S,X,F]),R.useEffect(()=>{C.current=null});const N=(q,U)=>{if(!m.current)return null;const te=Sa(m.current,o);let ue=te.indexOf(q)+U;return ue=Math.max(0,Math.min(ue,te.length)),te[ue]};return G4(R.useCallback(()=>c.document,[c]),"keydown",q=>{var U,te;const{key:ue}=q,ke=q.target,Be=(U=m.current)==null?void 0:U.contains(ke),Ve=(te=y.current)==null?void 0:te.contains(ke);if(/input|textarea/i.test(ke.tagName)&&(ue===" "||ue!=="Escape"&&Be||ue==="Escape"&&ke.type==="search")||!Be&&!Ve||ue==="Tab"&&(!m.current||!f))return;C.current=q.type;const Fe={originalEvent:q,source:q.type};switch(ue){case"ArrowUp":{const Ce=N(ke,-1);Ce&&Ce.focus&&Ce.focus(),q.preventDefault();return}case"ArrowDown":if(q.preventDefault(),!f)d(!0,Fe);else{const Ce=N(ke,1);Ce&&Ce.focus&&Ce.focus()}return;case"Tab":Mw(ke.ownerDocument,"keyup",Ce=>{var Ke;(Ce.key==="Tab"&&!Ce.target||!((Ke=m.current)!=null&&Ke.contains(Ce.target)))&&d(!1,Fe)},{once:!0});break;case"Escape":ue==="Escape"&&(q.preventDefault(),q.stopPropagation()),d(!1,Fe);break}}),w.jsx($l.Provider,{value:O,children:w.jsx(bv.Provider,{value:L,children:u})})}Zd.displayName="Dropdown";Zd.Menu=Zw;Zd.Toggle=kN;Zd.Item=TN;const ON=R.createContext({});ON.displayName="DropdownContext";const RN=ON,jN=R.forwardRef(({className:e,bsPrefix:t,as:n="hr",role:r="separator",...o},i)=>(t=ft(t,"dropdown-divider"),w.jsx(n,{ref:i,className:it(e,t),role:r,...o})));jN.displayName="DropdownDivider";const nU=jN,AN=R.forwardRef(({className:e,bsPrefix:t,as:n="div",role:r="heading",...o},i)=>(t=ft(t,"dropdown-header"),w.jsx(n,{ref:i,className:it(e,t),role:r,...o})));AN.displayName="DropdownHeader";const rU=AN,IN=R.forwardRef(({bsPrefix:e,className:t,eventKey:n,disabled:r=!1,onClick:o,active:i,as:s=zT,...u},c)=>{const f=ft(e,"dropdown-item"),[d,m]=CN({key:n,href:u.href,disabled:r,onClick:o,active:i});return w.jsx(s,{...u,...d,ref:c,className:it(t,f,m.isActive&&"active",r&&"disabled")})});IN.displayName="DropdownItem";const oU=IN,DN=R.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},o)=>(t=ft(t,"dropdown-item-text"),w.jsx(n,{ref:o,className:it(e,t),...r})));DN.displayName="DropdownItemText";const iU=DN,LN=R.createContext(null);LN.displayName="InputGroupContext";const t1=LN,MN=R.createContext(null);MN.displayName="NavbarContext";const ql=MN;function zN(e,t){return e}function FN(e,t,n){const r=n?"top-end":"top-start",o=n?"top-start":"top-end",i=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",u=n?"right-start":"left-start",c=n?"right-end":"left-end",f=n?"left-start":"right-start",d=n?"left-end":"right-end";let m=e?s:i;return t==="up"?m=e?o:r:t==="end"?m=e?d:f:t==="start"?m=e?c:u:t==="down-centered"?m="bottom":t==="up-centered"&&(m="top"),m}const $N=R.forwardRef(({bsPrefix:e,className:t,align:n,rootCloseEvent:r,flip:o=!0,show:i,renderOnMount:s,as:u="div",popperConfig:c,variant:f,...d},m)=>{let g=!1;const x=R.useContext(ql),y=ft(e,"dropdown-menu"),{align:_,drop:P,isRTL:k}=R.useContext(RN);n=n||_;const C=R.useContext(t1),S=[];if(n)if(typeof n=="object"){const q=Object.keys(n);if(q.length){const U=q[0],te=n[U];g=te==="start",S.push(`${y}-${U}-${te}`)}}else n==="end"&&(g=!0);const A=FN(g,P,k),[K,{hasShown:O,popper:L,show:X,toggle:F}]=EN({flip:o,rootCloseEvent:r,show:i,usePopper:!x&&S.length===0,offset:[0,2],popperConfig:c,placement:A});if(K.ref=Ii(zN(m),K.ref),Ld(()=>{X&&(L==null||L.update())},[X]),!O&&!s&&!C)return null;typeof u!="string"&&(K.show=X,K.close=()=>F==null?void 0:F(!1),K.align=n);let N=d.style;return L!=null&&L.placement&&(N={...d.style,...K.style},d["x-placement"]=L.placement),w.jsx(u,{...d,...K,style:N,...(S.length||x)&&{"data-bs-popper":"static"},className:it(t,y,X&&"show",g&&`${y}-end`,f&&`${y}-${f}`,...S)})});$N.displayName="DropdownMenu";const aU=$N,BN=R.forwardRef(({bsPrefix:e,split:t,className:n,childBsPrefix:r,as:o=wt,...i},s)=>{const u=ft(e,"dropdown-toggle"),c=R.useContext(bv);r!==void 0&&(i.bsPrefix=r);const[f]=_N();return f.ref=Ii(f.ref,zN(s)),w.jsx(o,{className:it(n,u,t&&`${u}-split`,(c==null?void 0:c.show)&&"show"),...f,...i})});BN.displayName="DropdownToggle";const sU=BN,UN=R.forwardRef((e,t)=>{const{bsPrefix:n,drop:r="down",show:o,className:i,align:s="start",onSelect:u,onToggle:c,focusFirstItemOnShow:f,as:d="div",navbar:m,autoClose:g=!0,...x}=Xd(e,{show:"onToggle"}),y=R.useContext(t1),_=ft(n,"dropdown"),P=gv(),k=L=>g===!1?L==="click":g==="inside"?L!=="rootClose":g==="outside"?L!=="select":!0,C=Dn((L,X)=>{var F,N;!((F=X.originalEvent)==null||(N=F.target)==null)&&N.classList.contains("dropdown-toggle")&&X.source==="mousedown"||(X.originalEvent.currentTarget===document&&(X.source!=="keydown"||X.originalEvent.key==="Escape")&&(X.source="rootClose"),k(X.source)&&(c==null||c(L,X)))}),A=FN(s==="end",r,P),K=R.useMemo(()=>({align:s,drop:r,isRTL:P}),[s,r,P]),O={down:_,"down-centered":`${_}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return w.jsx(RN.Provider,{value:K,children:w.jsx(Zd,{placement:A,show:o,onSelect:u,onToggle:C,focusFirstItemOnShow:f,itemSelector:`.${_}-item:not(.disabled):not(:disabled)`,children:y?x.children:w.jsx(d,{...x,ref:t,className:it(i,o&&"show",O[r])})})})});UN.displayName="Dropdown";const mp=Object.assign(UN,{Toggle:sU,Menu:aU,Item:oU,ItemText:iU,Divider:nU,Header:rU}),lU={type:Zi.string,tooltip:Zi.bool,as:Zi.elementType},n1=R.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:r=!1,...o},i)=>w.jsx(e,{...o,ref:i,className:it(t,`${n}-${r?"tooltip":"feedback"}`)}));n1.displayName="Feedback";n1.propTypes=lU;const KN=n1,uU=R.createContext({}),Ba=uU,HN=R.forwardRef(({id:e,bsPrefix:t,className:n,type:r="checkbox",isValid:o=!1,isInvalid:i=!1,as:s="input",...u},c)=>{const{controlId:f}=R.useContext(Ba);return t=ft(t,"form-check-input"),w.jsx(s,{...u,ref:c,type:r,id:e||f,className:it(n,t,o&&"is-valid",i&&"is-invalid")})});HN.displayName="FormCheckInput";const xv=HN,WN=R.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...r},o)=>{const{controlId:i}=R.useContext(Ba);return e=ft(e,"form-check-label"),w.jsx("label",{...r,ref:o,htmlFor:n||i,className:it(t,e)})});WN.displayName="FormCheckLabel";const X0=WN,VN=R.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:r=!1,reverse:o=!1,disabled:i=!1,isValid:s=!1,isInvalid:u=!1,feedbackTooltip:c=!1,feedback:f,feedbackType:d,className:m,style:g,title:x="",type:y="checkbox",label:_,children:P,as:k="input",...C},S)=>{t=ft(t,"form-check"),n=ft(n,"form-switch");const{controlId:A}=R.useContext(Ba),K=R.useMemo(()=>({controlId:e||A}),[A,e]),O=!P&&_!=null&&_!==!1||v3(P,X0),L=w.jsx(xv,{...C,type:y==="switch"?"checkbox":y,ref:S,isValid:s,isInvalid:u,disabled:i,as:k});return w.jsx(Ba.Provider,{value:K,children:w.jsx("div",{style:g,className:it(m,O&&t,r&&`${t}-inline`,o&&`${t}-reverse`,y==="switch"&&n),children:P||w.jsxs(w.Fragment,{children:[L,O&&w.jsx(X0,{title:x,children:_}),f&&w.jsx(KN,{type:d,tooltip:c,children:f})]})})})});VN.displayName="FormCheck";const $d=Object.assign(VN,{Input:xv,Label:X0}),GN=R.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:r,id:o,className:i,isValid:s=!1,isInvalid:u=!1,plaintext:c,readOnly:f,as:d="input",...m},g)=>{const{controlId:x}=R.useContext(Ba);return e=ft(e,"form-control"),w.jsx(d,{...m,type:t,size:r,ref:g,readOnly:f,id:o||x,className:it(i,c?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,s&&"is-valid",u&&"is-invalid")})});GN.displayName="FormControl";const cU=Object.assign(GN,{Feedback:KN}),qN=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"form-floating"),w.jsx(n,{ref:o,className:it(e,t),...r})));qN.displayName="FormFloating";const fU=qN,YN=R.forwardRef(({controlId:e,as:t="div",...n},r)=>{const o=R.useMemo(()=>({controlId:e}),[e]);return w.jsx(Ba.Provider,{value:o,children:w.jsx(t,{...n,ref:r})})});YN.displayName="FormGroup";const XN=YN,JN=R.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:r=!1,className:o,htmlFor:i,...s},u)=>{const{controlId:c}=R.useContext(Ba);t=ft(t,"form-label");let f="col-form-label";typeof n=="string"&&(f=`${f} ${f}-${n}`);const d=it(o,t,r&&"visually-hidden",n&&f);return i=i||c,n?w.jsx(Nt,{ref:u,as:"label",className:d,htmlFor:i,...s}):w.jsx(e,{ref:u,className:d,htmlFor:i,...s})});JN.displayName="FormLabel";const dU=JN,QN=R.forwardRef(({bsPrefix:e,className:t,id:n,...r},o)=>{const{controlId:i}=R.useContext(Ba);return e=ft(e,"form-range"),w.jsx("input",{...r,type:"range",ref:o,className:it(t,e),id:n||i})});QN.displayName="FormRange";const hU=QN,ZN=R.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:r,isValid:o=!1,isInvalid:i=!1,id:s,...u},c)=>{const{controlId:f}=R.useContext(Ba);return e=ft(e,"form-select"),w.jsx("select",{...u,size:n,ref:c,className:it(r,e,t&&`${e}-${t}`,o&&"is-valid",i&&"is-invalid"),id:s||f})});ZN.displayName="FormSelect";const pU=ZN,eO=R.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:r,...o},i)=>(e=ft(e,"form-text"),w.jsx(n,{...o,ref:i,className:it(t,e,r&&"text-muted")})));eO.displayName="FormText";const mU=eO,tO=R.forwardRef((e,t)=>w.jsx($d,{...e,ref:t,type:"switch"}));tO.displayName="Switch";const vU=Object.assign(tO,{Input:$d.Input,Label:$d.Label}),nO=R.forwardRef(({bsPrefix:e,className:t,children:n,controlId:r,label:o,...i},s)=>(e=ft(e,"form-floating"),w.jsxs(XN,{ref:s,className:it(t,e),controlId:r,...i,children:[n,w.jsx("label",{htmlFor:r,children:o})]})));nO.displayName="FloatingLabel";const gU=nO,yU={_ref:Zi.any,validated:Zi.bool,as:Zi.elementType},r1=R.forwardRef(({className:e,validated:t,as:n="form",...r},o)=>w.jsx(n,{...r,ref:o,className:it(e,t&&"was-validated")}));r1.displayName="Form";r1.propTypes=yU;const Kn=Object.assign(r1,{Group:XN,Control:cU,Floating:fU,Check:$d,Switch:vU,Label:dU,Text:mU,Range:hU,Select:pU,FloatingLabel:gU}),rO=R.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},o)=>(t=ft(t,"input-group-text"),w.jsx(n,{ref:o,className:it(e,t),...r})));rO.displayName="InputGroupText";const o1=rO,bU=e=>w.jsx(o1,{children:w.jsx(xv,{type:"checkbox",...e})}),wU=e=>w.jsx(o1,{children:w.jsx(xv,{type:"radio",...e})}),oO=R.forwardRef(({bsPrefix:e,size:t,hasValidation:n,className:r,as:o="div",...i},s)=>{e=ft(e,"input-group");const u=R.useMemo(()=>({}),[]);return w.jsx(t1.Provider,{value:u,children:w.jsx(o,{ref:s,...i,className:it(r,e,t&&`${e}-${t}`,n&&"has-validation")})})});oO.displayName="InputGroup";const Xr=Object.assign(oO,{Text:o1,Radio:wU,Checkbox:bU}),EU=R.createContext(null),iO=EU,xU=["as","active","eventKey"];function SU(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function i1({key:e,onClick:t,active:n,id:r,role:o,disabled:i}){const s=R.useContext($l),u=R.useContext(e1),c=R.useContext(iO);let f=n;const d={role:o};if(u){!o&&u.role==="tablist"&&(d.role="tab");const m=u.getControllerId(e??null),g=u.getControlledId(e??null);d[Rc("event-key")]=e,d.id=m||r,f=n==null&&e!=null?u.activeKey===e:n,(f||!(c!=null&&c.unmountOnExit)&&!(c!=null&&c.mountOnEnter))&&(d["aria-controls"]=g)}return d.role==="tab"&&(d["aria-selected"]=f,f||(d.tabIndex=-1),i&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=Dn(m=>{i||(t==null||t(m),e!=null&&s&&!m.isPropagationStopped()&&s(e,m))}),[d,{isActive:f}]}const aO=R.forwardRef((e,t)=>{let{as:n=Uw,active:r,eventKey:o}=e,i=SU(e,xU);const[s,u]=i1(Object.assign({key:gc(o,i.href),active:r},i));return s[Rc("active")]=u.isActive,w.jsx(n,Object.assign({},i,s,{ref:t}))});aO.displayName="NavItem";const _U=aO,kU=["as","onSelect","activeKey","role","onKeyDown"];function PU(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}const m_=()=>{},v_=Rc("event-key"),sO=R.forwardRef((e,t)=>{let{as:n="div",onSelect:r,activeKey:o,role:i,onKeyDown:s}=e,u=PU(e,kU);const c=lN(),f=R.useRef(!1),d=R.useContext($l),m=R.useContext(iO);let g,x;m&&(i=i||"tablist",o=m.activeKey,g=m.getControlledId,x=m.getControllerId);const y=R.useRef(null),_=S=>{const A=y.current;if(!A)return null;const K=Sa(A,`[${v_}]:not([aria-disabled=true])`),O=A.querySelector("[aria-selected=true]");if(!O||O!==document.activeElement)return null;const L=K.indexOf(O);if(L===-1)return null;let X=L+S;return X>=K.length&&(X=0),X<0&&(X=K.length-1),K[X]},P=(S,A)=>{S!=null&&(r==null||r(S,A),d==null||d(S,A))},k=S=>{if(s==null||s(S),!m)return;let A;switch(S.key){case"ArrowLeft":case"ArrowUp":A=_(-1);break;case"ArrowRight":case"ArrowDown":A=_(1);break;default:return}A&&(S.preventDefault(),P(A.dataset[Z6("EventKey")]||null,S),f.current=!0,c())};R.useEffect(()=>{if(y.current&&f.current){const S=y.current.querySelector(`[${v_}][aria-selected=true]`);S==null||S.focus()}f.current=!1});const C=Ii(t,y);return w.jsx($l.Provider,{value:P,children:w.jsx(e1.Provider,{value:{role:i,activeKey:gc(o),getControlledId:g||m_,getControllerId:x||m_},children:w.jsx(n,Object.assign({},u,{onKeyDown:k,ref:C,role:i}))})})});sO.displayName="Nav";const lO=Object.assign(sO,{Item:_U}),uO=R.forwardRef(({bsPrefix:e,active:t,disabled:n,eventKey:r,className:o,variant:i,action:s,as:u,...c},f)=>{e=ft(e,"list-group-item");const[d,m]=i1({key:gc(r,c.href),active:t,...c}),g=Dn(y=>{if(n){y.preventDefault(),y.stopPropagation();return}d.onClick(y)});n&&c.tabIndex===void 0&&(c.tabIndex=-1,c["aria-disabled"]=!0);const x=u||(s?c.href?"a":"button":"div");return w.jsx(x,{ref:f,...c,...d,onClick:g,className:it(o,e,m.isActive&&"active",n&&"disabled",i&&`${e}-${i}`,s&&`${e}-action`)})});uO.displayName="ListGroupItem";const CU=uO,cO=R.forwardRef((e,t)=>{const{className:n,bsPrefix:r,variant:o,horizontal:i,numbered:s,as:u="div",...c}=Xd(e,{activeKey:"onSelect"}),f=ft(r,"list-group");let d;return i&&(d=i===!0?"horizontal":`horizontal-${i}`),w.jsx(lO,{ref:t,...c,as:u,className:it(n,f,o&&`${f}-${o}`,d&&`${f}-${d}`,s&&`${f}-numbered`)})});cO.displayName="ListGroup";const Pr=Object.assign(cO,{Item:CU});var vp;function g_(e){if((!vp&&vp!==0||e)&&Oc){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),vp=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return vp}function py(e){e===void 0&&(e=Nc());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function TU(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const y_=Rc("modal-open");class NU{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:r=!1}={}){this.handleContainerOverflow=n,this.isRTL=r,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return TU(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},r=this.isRTL?"paddingLeft":"paddingRight",o=this.getElement();t.style={overflow:o.style.overflow,[r]:o.style[r]},t.scrollBarWidth&&(n[r]=`${parseInt(ja(o,r)||"0",10)+t.scrollBarWidth}px`),o.setAttribute(y_,""),ja(o,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(y_),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const a1=NU,my=(e,t)=>Oc?e==null?(t||Nc()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function J0(e,t){const n=Ev(),[r,o]=R.useState(()=>my(e,n==null?void 0:n.document));if(!r){const i=my(e);i&&o(i)}return R.useEffect(()=>{t&&r&&t(r)},[t,r]),R.useEffect(()=>{const i=my(e);i!==r&&o(i)},[e,r]),r}function OU({children:e,in:t,onExited:n,mountOnEnter:r,unmountOnExit:o}){const i=R.useRef(null),s=R.useRef(t),u=Dn(n);R.useEffect(()=>{t?s.current=!0:u(i.current)},[t,u]);const c=Ii(i,e.ref),f=R.cloneElement(e,{ref:c});return t?f:o||!s.current&&r?null:f}const RU=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function jU(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function AU(e){let{onEnter:t,onEntering:n,onEntered:r,onExit:o,onExiting:i,onExited:s,addEndListener:u,children:c}=e,f=jU(e,RU);const d=R.useRef(null),m=Ii(d,typeof c=="function"?null:c.ref),g=A=>K=>{A&&d.current&&A(d.current,K)},x=R.useCallback(g(t),[t]),y=R.useCallback(g(n),[n]),_=R.useCallback(g(r),[r]),P=R.useCallback(g(o),[o]),k=R.useCallback(g(i),[i]),C=R.useCallback(g(s),[s]),S=R.useCallback(g(u),[u]);return Object.assign({},f,{nodeRef:d},t&&{onEnter:x},n&&{onEntering:y},r&&{onEntered:_},o&&{onExit:P},i&&{onExiting:k},s&&{onExited:C},u&&{addEndListener:S},{children:typeof c=="function"?(A,K)=>c(A,Object.assign({},K,{ref:m})):R.cloneElement(c,{ref:m})})}const IU=["component"];function DU(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}const LU=R.forwardRef((e,t)=>{let{component:n}=e,r=DU(e,IU);const o=AU(r);return w.jsx(n,Object.assign({ref:t},o))}),MU=LU;function zU({in:e,onTransition:t}){const n=R.useRef(null),r=R.useRef(!0),o=Dn(t);return Ld(()=>{if(!n.current)return;let i=!1;return o({in:e,element:n.current,initial:r.current,isStale:()=>i}),()=>{i=!0}},[e,o]),Ld(()=>(r.current=!1,()=>{r.current=!0}),[]),n}function FU({children:e,in:t,onExited:n,onEntered:r,transition:o}){const[i,s]=R.useState(!t);t&&i&&s(!1);const u=zU({in:!!t,onTransition:f=>{const d=()=>{f.isStale()||(f.in?r==null||r(f.element,f.initial):(s(!0),n==null||n(f.element)))};Promise.resolve(o(f)).then(d,m=>{throw f.in||s(!0),m})}}),c=Ii(u,e.ref);return i&&!t?null:R.cloneElement(e,{ref:c})}function Q0(e,t,n){return e?w.jsx(MU,Object.assign({},n,{component:e})):t?w.jsx(FU,Object.assign({},n,{transition:t})):w.jsx(OU,Object.assign({},n))}function fO(e){return e.code==="Escape"||e.keyCode===27}const $U=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function BU(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}let vy;function UU(e){return vy||(vy=new a1({ownerDocument:e==null?void 0:e.document})),vy}function KU(e){const t=Ev(),n=e||UU(t),r=R.useRef({dialog:null,backdrop:null});return Object.assign(r.current,{add:()=>n.add(r.current),remove:()=>n.remove(r.current),isTopModal:()=>n.isTopModal(r.current),setDialogRef:R.useCallback(o=>{r.current.dialog=o},[]),setBackdropRef:R.useCallback(o=>{r.current.backdrop=o},[])})}const dO=R.forwardRef((e,t)=>{let{show:n=!1,role:r="dialog",className:o,style:i,children:s,backdrop:u=!0,keyboard:c=!0,onBackdropClick:f,onEscapeKeyDown:d,transition:m,runTransition:g,backdropTransition:x,runBackdropTransition:y,autoFocus:_=!0,enforceFocus:P=!0,restoreFocus:k=!0,restoreFocusOptions:C,renderDialog:S,renderBackdrop:A=He=>w.jsx("div",Object.assign({},He)),manager:K,container:O,onShow:L,onHide:X=()=>{},onExit:F,onExited:N,onExiting:q,onEnter:U,onEntering:te,onEntered:ue}=e,ke=BU(e,$U);const Be=Ev(),Ve=J0(O),ve=KU(K),Fe=$w(),Ce=LT(n),[Ke,me]=R.useState(!n),Ge=R.useRef(null);R.useImperativeHandle(t,()=>ve,[ve]),Oc&&!Ce&&n&&(Ge.current=py(Be==null?void 0:Be.document)),n&&Ke&&me(!1);const Se=Dn(()=>{if(ve.add(),Oe.current=Ta(document,"keydown",ye),de.current=Ta(document,"focus",()=>setTimeout(Ze),!0),L&&L(),_){var He,vn;const tn=py((He=(vn=ve.dialog)==null?void 0:vn.ownerDocument)!=null?He:Be==null?void 0:Be.document);ve.dialog&&tn&&!Fd(ve.dialog,tn)&&(Ge.current=tn,ve.dialog.focus())}}),Re=Dn(()=>{if(ve.remove(),Oe.current==null||Oe.current(),de.current==null||de.current(),k){var He;(He=Ge.current)==null||He.focus==null||He.focus(C),Ge.current=null}});R.useEffect(()=>{!n||!Ve||Se()},[n,Ve,Se]),R.useEffect(()=>{Ke&&Re()},[Ke,Re]),Ww(()=>{Re()});const Ze=Dn(()=>{if(!P||!Fe()||!ve.isTopModal())return;const He=py(Be==null?void 0:Be.document);ve.dialog&&He&&!Fd(ve.dialog,He)&&ve.dialog.focus()}),pe=Dn(He=>{He.target===He.currentTarget&&(f==null||f(He),u===!0&&X())}),ye=Dn(He=>{c&&fO(He)&&ve.isTopModal()&&(d==null||d(He),He.defaultPrevented||X())}),de=R.useRef(),Oe=R.useRef(),ze=(...He)=>{me(!0),N==null||N(...He)};if(!Ve)return null;const Qe=Object.assign({role:r,ref:ve.setDialogRef,"aria-modal":r==="dialog"?!0:void 0},ke,{style:i,className:o,tabIndex:-1});let yt=S?S(Qe):w.jsx("div",Object.assign({},Qe,{children:R.cloneElement(s,{role:"document"})}));yt=Q0(m,g,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:F,onExiting:q,onExited:ze,onEnter:U,onEntering:te,onEntered:ue,children:yt});let vt=null;return u&&(vt=A({ref:ve.setBackdropRef,onClick:pe}),vt=Q0(x,y,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:vt})),w.jsx(w.Fragment,{children:gs.createPortal(w.jsxs(w.Fragment,{children:[vt,yt]}),Ve)})});dO.displayName="Modal";const hO=Object.assign(dO,{Manager:a1});function Z0(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function HU(e,t){e.classList?e.classList.add(t):Z0(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function b_(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function WU(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=b_(e.className,t):e.setAttribute("class",b_(e.className&&e.className.baseVal||"",t))}const _u={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class pO extends a1{adjustAndStore(t,n,r){const o=n.style[t];n.dataset[t]=o,ja(n,{[t]:`${parseFloat(ja(n,t))+r}px`})}restore(t,n){const r=n.dataset[t];r!==void 0&&(delete n.dataset[t],ja(n,{[t]:r}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(HU(n,"modal-open"),!t.scrollBarWidth)return;const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Sa(n,_u.FIXED_CONTENT).forEach(i=>this.adjustAndStore(r,i,t.scrollBarWidth)),Sa(n,_u.STICKY_CONTENT).forEach(i=>this.adjustAndStore(o,i,-t.scrollBarWidth)),Sa(n,_u.NAVBAR_TOGGLER).forEach(i=>this.adjustAndStore(o,i,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();WU(n,"modal-open");const r=this.isRTL?"paddingLeft":"paddingRight",o=this.isRTL?"marginLeft":"marginRight";Sa(n,_u.FIXED_CONTENT).forEach(i=>this.restore(r,i)),Sa(n,_u.STICKY_CONTENT).forEach(i=>this.restore(o,i)),Sa(n,_u.NAVBAR_TOGGLER).forEach(i=>this.restore(o,i))}}let gy;function mO(e){return gy||(gy=new pO(e)),gy}const vO=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"modal-body"),w.jsx(n,{ref:o,className:it(e,t),...r})));vO.displayName="ModalBody";const VU=vO,GU=R.createContext({onHide(){}}),s1=GU,gO=R.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:r,size:o,fullscreen:i,children:s,scrollable:u,...c},f)=>{e=ft(e,"modal");const d=`${e}-dialog`,m=typeof i=="string"?`${e}-fullscreen-${i}`:`${e}-fullscreen`;return w.jsx("div",{...c,ref:f,className:it(d,t,o&&`${e}-${o}`,r&&`${d}-centered`,u&&`${d}-scrollable`,i&&m),children:w.jsx("div",{className:it(`${e}-content`,n),children:s})})});gO.displayName="ModalDialog";const yO=gO,bO=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"modal-footer"),w.jsx(n,{ref:o,className:it(e,t),...r})));bO.displayName="ModalFooter";const qU=bO,YU=R.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:r,children:o,...i},s)=>{const u=R.useContext(s1),c=Dn(()=>{u==null||u.onHide(),r==null||r()});return w.jsxs("div",{ref:s,...i,children:[o,n&&w.jsx($T,{"aria-label":e,variant:t,onClick:c})]})}),wO=YU,EO=R.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...o},i)=>(e=ft(e,"modal-header"),w.jsx(wO,{ref:i,...o,className:it(t,e),closeLabel:n,closeButton:r})));EO.displayName="ModalHeader";const XU=EO,JU=yv("h4"),xO=R.forwardRef(({className:e,bsPrefix:t,as:n=JU,...r},o)=>(t=ft(t,"modal-title"),w.jsx(n,{ref:o,className:it(e,t),...r})));xO.displayName="ModalTitle";const QU=xO;function ZU(e){return w.jsx(dc,{...e,timeout:null})}function e5(e){return w.jsx(dc,{...e,timeout:null})}const SO=R.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:r,contentClassName:o,children:i,dialogAs:s=yO,"data-bs-theme":u,"aria-labelledby":c,"aria-describedby":f,"aria-label":d,show:m=!1,animation:g=!0,backdrop:x=!0,keyboard:y=!0,onEscapeKeyDown:_,onShow:P,onHide:k,container:C,autoFocus:S=!0,enforceFocus:A=!0,restoreFocus:K=!0,restoreFocusOptions:O,onEntered:L,onExit:X,onExiting:F,onEnter:N,onEntering:q,onExited:U,backdropClassName:te,manager:ue,...ke},Be)=>{const[Ve,ve]=R.useState({}),[Fe,Ce]=R.useState(!1),Ke=R.useRef(!1),me=R.useRef(!1),Ge=R.useRef(null),[Se,Re]=Nm(),Ze=Ii(Be,Re),pe=Dn(k),ye=gv();e=ft(e,"modal");const de=R.useMemo(()=>({onHide:pe}),[pe]);function Oe(){return ue||mO({isRTL:ye})}function ze(at){if(!Oc)return;const bt=Oe().getScrollbarWidth()>0,Ut=at.scrollHeight>Nc(at).documentElement.clientHeight;ve({paddingRight:bt&&!Ut?g_():void 0,paddingLeft:!bt&&Ut?g_():void 0})}const Qe=Dn(()=>{Se&&ze(Se.dialog)});Ww(()=>{W0(window,"resize",Qe),Ge.current==null||Ge.current()});const yt=()=>{Ke.current=!0},vt=at=>{Ke.current&&Se&&at.target===Se.dialog&&(me.current=!0),Ke.current=!1},He=()=>{Ce(!0),Ge.current=IT(Se.dialog,()=>{Ce(!1)})},vn=at=>{at.target===at.currentTarget&&He()},tn=at=>{if(x==="static"){vn(at);return}if(me.current||at.target!==at.currentTarget){me.current=!1;return}k==null||k()},$n=at=>{y?_==null||_(at):(at.preventDefault(),x==="static"&&He())},or=(at,bt)=>{at&&ze(at),N==null||N(at,bt)},dn=at=>{Ge.current==null||Ge.current(),X==null||X(at)},jt=(at,bt)=>{q==null||q(at,bt),Mw(window,"resize",Qe)},yn=at=>{at&&(at.style.display=""),U==null||U(at),W0(window,"resize",Qe)},gn=R.useCallback(at=>w.jsx("div",{...at,className:it(`${e}-backdrop`,te,!g&&"show")}),[g,te,e]),Bt={...n,...Ve};Bt.display="block";const Et=at=>w.jsx("div",{role:"dialog",...at,style:Bt,className:it(t,e,Fe&&`${e}-static`,!g&&"show"),onClick:x?tn:void 0,onMouseUp:vt,"data-bs-theme":u,"aria-label":d,"aria-labelledby":c,"aria-describedby":f,children:w.jsx(s,{...ke,onMouseDown:yt,className:r,contentClassName:o,children:i})});return w.jsx(s1.Provider,{value:de,children:w.jsx(hO,{show:m,ref:Ze,backdrop:x,container:C,keyboard:!0,autoFocus:S,enforceFocus:A,restoreFocus:K,restoreFocusOptions:O,onEscapeKeyDown:$n,onShow:P,onHide:k,onEnter:or,onEntering:jt,onEntered:L,onExit:dn,onExiting:F,onExited:yn,manager:Oe(),transition:g?ZU:void 0,backdropTransition:g?e5:void 0,renderBackdrop:gn,renderDialog:Et})})});SO.displayName="Modal";const cr=Object.assign(SO,{Body:VU,Header:XU,Title:QU,Footer:qU,Dialog:yO,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});var w_={exports:{}},eb={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;function n(r){function o(s,u,c,f,d,m){var g=f||"<<anonymous>>",x=m||c;if(u[c]==null)return s?new Error("Required "+d+" `"+x+"` was not specified "+("in `"+g+"`.")):null;for(var y=arguments.length,_=Array(y>6?y-6:0),P=6;P<y;P++)_[P-6]=arguments[P];return r.apply(void 0,[u,c,g,d,x].concat(_))}var i=o.bind(null,!1);return i.isRequired=o.bind(null,!0),i}e.exports=t.default})(eb,eb.exports);var t5=eb.exports;(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=t5,r=o(n);function o(s){return s&&s.__esModule?s:{default:s}}function i(){for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];function f(){for(var d=arguments.length,m=Array(d),g=0;g<d;g++)m[g]=arguments[g];var x=null;return u.forEach(function(y){if(x==null){var _=y.apply(void 0,m);_!=null&&(x=_)}}),x}return(0,r.default)(f)}e.exports=t.default})(w_,w_.exports);const _O=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"nav-item"),w.jsx(n,{ref:o,className:it(e,t),...r})));_O.displayName="NavItem";const n5=_O,kO=R.forwardRef(({bsPrefix:e,className:t,as:n=zT,active:r,eventKey:o,disabled:i=!1,...s},u)=>{e=ft(e,"nav-link");const[c,f]=i1({key:gc(o,s.href),active:r,disabled:i,...s});return w.jsx(n,{...s,...c,ref:u,disabled:i,className:it(t,e,i&&"disabled",f.isActive&&"active")})});kO.displayName="NavLink";const r5=kO,PO=R.forwardRef((e,t)=>{const{as:n="div",bsPrefix:r,variant:o,fill:i=!1,justify:s=!1,navbar:u,navbarScroll:c,className:f,activeKey:d,...m}=Xd(e,{activeKey:"onSelect"}),g=ft(r,"nav");let x,y,_=!1;const P=R.useContext(ql),k=R.useContext(YT);return P?(x=P.bsPrefix,_=u??!0):k&&({cardHeaderBsPrefix:y}=k),w.jsx(lO,{as:n,ref:t,activeKey:d,className:it(f,{[g]:!_,[`${x}-nav`]:_,[`${x}-nav-scroll`]:_&&c,[`${y}-${o}`]:!!y,[`${g}-${o}`]:!!o,[`${g}-fill`]:i,[`${g}-justified`]:s}),...m})});PO.displayName="Nav";const yy=Object.assign(PO,{Item:n5,Link:r5}),CO=R.forwardRef(({bsPrefix:e,className:t,as:n,...r},o)=>{e=ft(e,"navbar-brand");const i=n||(r.href?"a":"span");return w.jsx(i,{...r,ref:o,className:it(t,e)})});CO.displayName="NavbarBrand";const o5=CO,TO=R.forwardRef(({children:e,bsPrefix:t,...n},r)=>{t=ft(t,"navbar-collapse");const o=R.useContext(ql);return w.jsx(W4,{in:!!(o&&o.expanded),...n,children:w.jsx("div",{ref:r,className:t,children:e})})});TO.displayName="NavbarCollapse";const i5=TO,NO=R.forwardRef(({bsPrefix:e,className:t,children:n,label:r="Toggle navigation",as:o="button",onClick:i,...s},u)=>{e=ft(e,"navbar-toggler");const{onToggle:c,expanded:f}=R.useContext(ql)||{},d=Dn(m=>{i&&i(m),c&&c()});return o==="button"&&(s.type="button"),w.jsx(o,{...s,ref:u,onClick:d,"aria-label":r,className:it(t,e,!f&&"collapsed"),children:n||w.jsx("span",{className:`${e}-icon`})})});NO.displayName="NavbarToggle";const a5=NO,tb=new WeakMap,E_=(e,t)=>{if(!e||!t)return;const n=tb.get(t)||new Map;tb.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function s5(e,t=typeof window>"u"?void 0:window){const n=E_(e,t),[r,o]=R.useState(()=>n?n.matches:!1);return Ld(()=>{let i=E_(e,t);if(!i)return o(!1);let s=tb.get(t);const u=()=>{o(i.matches)};return i.refCount++,i.addListener(u),u(),()=>{i.removeListener(u),i.refCount--,i.refCount<=0&&(s==null||s.delete(i.media)),i=void 0}},[e]),r}function l5(e){const t=Object.keys(e);function n(u,c){return u===c?c:u?`${u} and ${c}`:c}function r(u){return t[Math.min(t.indexOf(u)+1,t.length-1)]}function o(u){const c=r(u);let f=e[c];return typeof f=="number"?f=`${f-.2}px`:f=`calc(${f} - 0.2px)`,`(max-width: ${f})`}function i(u){let c=e[u];return typeof c=="number"&&(c=`${c}px`),`(min-width: ${c})`}function s(u,c,f){let d;typeof u=="object"?(d=u,f=c,c=!0):(c=c||!0,d={[u]:c});let m=R.useMemo(()=>Object.entries(d).reduce((g,[x,y])=>((y==="up"||y===!0)&&(g=n(g,i(x))),(y==="down"||y===!0)&&(g=n(g,o(x))),g),""),[JSON.stringify(d)]);return s5(m,f)}return s}const u5=l5({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),OO=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"offcanvas-body"),w.jsx(n,{ref:o,className:it(e,t),...r})));OO.displayName="OffcanvasBody";const c5=OO,f5={[ni]:"show",[_a]:"show"},RO=R.forwardRef(({bsPrefix:e,className:t,children:n,in:r=!1,mountOnEnter:o=!1,unmountOnExit:i=!1,appear:s=!1,...u},c)=>(e=ft(e,"offcanvas"),w.jsx(Fw,{ref:c,addEndListener:zw,in:r,mountOnEnter:o,unmountOnExit:i,appear:s,...u,childRef:n.ref,children:(f,d)=>R.cloneElement(n,{...d,className:it(t,n.props.className,(f===ni||f===fc)&&`${e}-toggling`,f5[f])})})));RO.displayName="OffcanvasToggling";const d5=RO,jO=R.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:r=!1,...o},i)=>(e=ft(e,"offcanvas-header"),w.jsx(wO,{ref:i,...o,className:it(t,e),closeLabel:n,closeButton:r})));jO.displayName="OffcanvasHeader";const h5=jO,p5=yv("h5"),AO=R.forwardRef(({className:e,bsPrefix:t,as:n=p5,...r},o)=>(t=ft(t,"offcanvas-title"),w.jsx(n,{ref:o,className:it(e,t),...r})));AO.displayName="OffcanvasTitle";const m5=AO;function v5(e){return w.jsx(d5,{...e})}function g5(e){return w.jsx(dc,{...e})}const IO=R.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":r,placement:o="start",responsive:i,show:s=!1,backdrop:u=!0,keyboard:c=!0,scroll:f=!1,onEscapeKeyDown:d,onShow:m,onHide:g,container:x,autoFocus:y=!0,enforceFocus:_=!0,restoreFocus:P=!0,restoreFocusOptions:k,onEntered:C,onExit:S,onExiting:A,onEnter:K,onEntering:O,onExited:L,backdropClassName:X,manager:F,renderStaticNode:N=!1,...q},U)=>{const te=R.useRef();e=ft(e,"offcanvas");const{onToggle:ue}=R.useContext(ql)||{},[ke,Be]=R.useState(!1),Ve=u5(i||"xs","up");R.useEffect(()=>{Be(i?s&&!Ve:s)},[s,i,Ve]);const ve=Dn(()=>{ue==null||ue(),g==null||g()}),Fe=R.useMemo(()=>({onHide:ve}),[ve]);function Ce(){return F||(f?(te.current||(te.current=new pO({handleContainerOverflow:!1})),te.current):mO())}const Ke=(Re,...Ze)=>{Re&&(Re.style.visibility="visible"),K==null||K(Re,...Ze)},me=(Re,...Ze)=>{Re&&(Re.style.visibility=""),L==null||L(...Ze)},Ge=R.useCallback(Re=>w.jsx("div",{...Re,className:it(`${e}-backdrop`,X)}),[X,e]),Se=Re=>w.jsx("div",{...Re,...q,className:it(t,i?`${e}-${i}`:e,`${e}-${o}`),"aria-labelledby":r,children:n});return w.jsxs(w.Fragment,{children:[!ke&&(i||N)&&Se({}),w.jsx(s1.Provider,{value:Fe,children:w.jsx(hO,{show:ke,ref:U,backdrop:u,container:x,keyboard:c,autoFocus:y,enforceFocus:_&&!f,restoreFocus:P,restoreFocusOptions:k,onEscapeKeyDown:d,onShow:m,onHide:ve,onEnter:Ke,onEntering:O,onEntered:C,onExit:S,onExiting:A,onExited:me,manager:Ce(),transition:v5,backdropTransition:g5,renderBackdrop:Ge,renderDialog:Se})})]})});IO.displayName="Offcanvas";const Uf=Object.assign(IO,{Body:c5,Header:h5,Title:m5}),DO=R.forwardRef((e,t)=>{const n=R.useContext(ql);return w.jsx(Uf,{ref:t,show:!!(n!=null&&n.expanded),...e,renderStaticNode:!0})});DO.displayName="NavbarOffcanvas";const y5=DO,LO=R.forwardRef(({className:e,bsPrefix:t,as:n="span",...r},o)=>(t=ft(t,"navbar-text"),w.jsx(n,{ref:o,className:it(e,t),...r})));LO.displayName="NavbarText";const b5=LO,MO=R.forwardRef((e,t)=>{const{bsPrefix:n,expand:r=!0,variant:o="light",bg:i,fixed:s,sticky:u,className:c,as:f="nav",expanded:d,onToggle:m,onSelect:g,collapseOnSelect:x=!1,...y}=Xd(e,{expanded:"onToggle"}),_=ft(n,"navbar"),P=R.useCallback((...S)=>{g==null||g(...S),x&&d&&(m==null||m(!1))},[g,x,d,m]);y.role===void 0&&f!=="nav"&&(y.role="navigation");let k=`${_}-expand`;typeof r=="string"&&(k=`${k}-${r}`);const C=R.useMemo(()=>({onToggle:()=>m==null?void 0:m(!d),bsPrefix:_,expanded:!!d,expand:r}),[_,d,r,m]);return w.jsx(ql.Provider,{value:C,children:w.jsx($l.Provider,{value:P,children:w.jsx(f,{ref:t,...y,className:it(c,_,r&&k,o&&`${_}-${o}`,i&&`bg-${i}`,u&&`sticky-${u}`,s&&`fixed-${s}`)})})})});MO.displayName="Navbar";const Nf=Object.assign(MO,{Brand:o5,Collapse:i5,Offcanvas:y5,Text:b5,Toggle:a5}),w5=()=>{};function E5(e,t,{disabled:n,clickTrigger:r}={}){const o=t||w5;bN(e,o,{disabled:n,clickTrigger:r});const i=Dn(s=>{fO(s)&&o(s)});R.useEffect(()=>{if(n||e==null)return;const s=Nc(Vp(e));let u=(s.defaultView||window).event;const c=Ta(s,"keyup",f=>{if(f===u){u=void 0;return}i(f)});return()=>{c()}},[e,n,i])}const zO=R.forwardRef((e,t)=>{const{flip:n,offset:r,placement:o,containerPadding:i,popperConfig:s={},transition:u,runTransition:c}=e,[f,d]=Nm(),[m,g]=Nm(),x=Ii(d,t),y=J0(e.container),_=J0(e.target),[P,k]=R.useState(!e.show),C=yN(_,f,wN({placement:o,enableEvents:!!e.show,containerPadding:i||5,flip:n,offset:r,arrowElement:m,popperConfig:s}));e.show&&P&&k(!1);const S=(...q)=>{k(!0),e.onExited&&e.onExited(...q)},A=e.show||!P;if(E5(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!A)return null;const{onExit:K,onExiting:O,onEnter:L,onEntering:X,onEntered:F}=e;let N=e.children(Object.assign({},C.attributes.popper,{style:C.styles.popper,ref:x}),{popper:C,placement:o,show:!!e.show,arrowProps:Object.assign({},C.attributes.arrow,{style:C.styles.arrow,ref:g})});return N=Q0(u,c,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:N,onExit:K,onExiting:O,onExited:S,onEnter:L,onEntering:X,onEntered:F}),y?gs.createPortal(N,y):null});zO.displayName="Overlay";const x5=zO,FO=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"popover-header"),w.jsx(n,{ref:o,className:it(e,t),...r})));FO.displayName="PopoverHeader";const S5=FO,$O=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"popover-body"),w.jsx(n,{ref:o,className:it(e,t),...r})));$O.displayName="PopoverBody";const BO=$O;function UO(e,t){let n=e;return e==="left"?n=t?"end":"start":e==="right"&&(n=t?"start":"end"),n}function KO(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const _5=R.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:r,children:o,body:i,arrowProps:s,hasDoneInitialMeasure:u,popper:c,show:f,...d},m)=>{const g=ft(e,"popover"),x=gv(),[y]=(t==null?void 0:t.split("-"))||[],_=UO(y,x);let P=r;return f&&!u&&(P={...r,...KO(c==null?void 0:c.strategy)}),w.jsxs("div",{ref:m,role:"tooltip",style:P,"x-placement":y,className:it(n,g,y&&`bs-popover-${_}`),...d,children:[w.jsx("div",{className:"popover-arrow",...s}),i?w.jsx(BO,{children:o}):o]})}),vl=Object.assign(_5,{Header:S5,Body:BO,POPPER_OFFSET:[0,8]}),HO=R.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:r,children:o,arrowProps:i,hasDoneInitialMeasure:s,popper:u,show:c,...f},d)=>{e=ft(e,"tooltip");const m=gv(),[g]=(t==null?void 0:t.split("-"))||[],x=UO(g,m);let y=r;return c&&!s&&(y={...r,...KO(u==null?void 0:u.strategy)}),w.jsxs("div",{ref:d,style:y,role:"tooltip","x-placement":g,className:it(n,e,`bs-tooltip-${x}`),...f,children:[w.jsx("div",{className:"tooltip-arrow",...i}),w.jsx("div",{className:`${e}-inner`,children:o})]})});HO.displayName="Tooltip";const k5=Object.assign(HO,{TOOLTIP_OFFSET:[0,6]});function P5(e){const t=R.useRef(null),n=ft(void 0,"popover"),r=ft(void 0,"tooltip"),o=R.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(Z0(t.current,n))return vl.POPPER_OFFSET;if(Z0(t.current,r))return k5.TOOLTIP_OFFSET}return[0,0]}}}),[e,n,r]);return[t,[o]]}function C5(e,t){const{ref:n}=e,{ref:r}=t;e.ref=n.__wrapped||(n.__wrapped=o=>n(Tm(o))),t.ref=r.__wrapped||(r.__wrapped=o=>r(Tm(o)))}const WO=R.forwardRef(({children:e,transition:t=dc,popperConfig:n={},rootClose:r=!1,placement:o="top",show:i=!1,...s},u)=>{const c=R.useRef({}),[f,d]=R.useState(null),[m,g]=P5(s.offset),x=Ii(u,m),y=t===!0?dc:t||void 0,_=Dn(P=>{d(P),n==null||n.onFirstUpdate==null||n.onFirstUpdate(P)});return Ld(()=>{f&&s.target&&(c.current.scheduleUpdate==null||c.current.scheduleUpdate())},[f,s.target]),R.useEffect(()=>{i||d(null)},[i]),w.jsx(x5,{...s,ref:x,popperConfig:{...n,modifiers:g.concat(n.modifiers||[]),onFirstUpdate:_},transition:y,rootClose:r,placement:o,show:i,children:(P,{arrowProps:k,popper:C,show:S})=>{var A,K;C5(P,k);const O=C==null?void 0:C.placement,L=Object.assign(c.current,{state:C==null?void 0:C.state,scheduleUpdate:C==null?void 0:C.update,placement:O,outOfBoundaries:(C==null||(A=C.state)==null||(K=A.modifiersData.hide)==null?void 0:K.isReferenceHidden)||!1,strategy:n.strategy}),X=!!f;return typeof e=="function"?e({...P,placement:O,show:S,...!t&&S&&{className:"show"},popper:L,arrowProps:k,hasDoneInitialMeasure:X}):R.cloneElement(e,{...P,placement:O,arrowProps:k,popper:L,hasDoneInitialMeasure:X,className:it(e.props.className,!t&&S&&"show"),style:{...e.props.style,...P.style}})}})});WO.displayName="Overlay";const T5=WO;function N5(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function x_(e,t,n){const[r]=t,o=r.currentTarget,i=r.relatedTarget||r.nativeEvent[n];(!i||i!==o)&&!Fd(o,i)&&e(...t)}Zi.oneOf(["click","hover","focus"]);const O5=({trigger:e=["hover","focus"],overlay:t,children:n,popperConfig:r={},show:o,defaultShow:i=!1,onToggle:s,delay:u,placement:c,flip:f=c&&c.indexOf("auto")!==-1,...d})=>{const m=R.useRef(null),g=Ii(m,n.ref),x=iN(),y=R.useRef(""),[_,P]=CT(o,i,s),k=N5(u),{onFocus:C,onBlur:S,onClick:A}=typeof n!="function"?R.Children.only(n).props:{},K=ke=>{g(Tm(ke))},O=R.useCallback(()=>{if(x.clear(),y.current="show",!k.show){P(!0);return}x.set(()=>{y.current==="show"&&P(!0)},k.show)},[k.show,P,x]),L=R.useCallback(()=>{if(x.clear(),y.current="hide",!k.hide){P(!1);return}x.set(()=>{y.current==="hide"&&P(!1)},k.hide)},[k.hide,P,x]),X=R.useCallback((...ke)=>{O(),C==null||C(...ke)},[O,C]),F=R.useCallback((...ke)=>{L(),S==null||S(...ke)},[L,S]),N=R.useCallback((...ke)=>{P(!_),A==null||A(...ke)},[A,P,_]),q=R.useCallback((...ke)=>{x_(O,ke,"fromElement")},[O]),U=R.useCallback((...ke)=>{x_(L,ke,"toElement")},[L]),te=e==null?[]:[].concat(e),ue={ref:K};return te.indexOf("click")!==-1&&(ue.onClick=N),te.indexOf("focus")!==-1&&(ue.onFocus=X,ue.onBlur=F),te.indexOf("hover")!==-1&&(ue.onMouseOver=q,ue.onMouseOut=U),w.jsxs(w.Fragment,{children:[typeof n=="function"?n(ue):R.cloneElement(n,ue),w.jsx(T5,{...d,show:_,onHide:L,flip:f,placement:c,popperConfig:r,target:m.current,children:t})]})},S_=O5,VO=R.forwardRef(({bsPrefix:e,className:t,as:n="div",...r},o)=>{const i=ft(e,"row"),s=TT(),u=NT(),c=`${i}-cols`,f=[];return s.forEach(d=>{const m=r[d];delete r[d];let g;m!=null&&typeof m=="object"?{cols:g}=m:g=m;const x=d!==u?`-${d}`:"";g!=null&&f.push(`${c}${x}-${g}`)}),w.jsx(n,{ref:o,...r,className:it(t,i,...f)})});VO.displayName="Row";const Rn=VO,R5=R.forwardRef(({bsPrefix:e,className:t,striped:n,bordered:r,borderless:o,hover:i,size:s,variant:u,responsive:c,...f},d)=>{const m=ft(e,"table"),g=it(t,m,u&&`${m}-${u}`,s&&`${m}-${s}`,n&&`${m}-${typeof n=="string"?`striped-${n}`:"striped"}`,r&&`${m}-bordered`,o&&`${m}-borderless`,i&&`${m}-hover`),x=w.jsx("table",{...f,className:g,ref:d});if(c){let y=`${m}-responsive`;return typeof c=="string"&&(y=`${y}-${c}`),w.jsx("div",{className:y,children:x})}return x}),GO=R5,j5={[ni]:"showing",[fc]:"showing show"},qO=R.forwardRef((e,t)=>w.jsx(dc,{...e,ref:t,transitionClasses:j5}));qO.displayName="ToastFade";const A5=qO,I5=R.createContext({onClose(){}}),YO=I5,XO=R.forwardRef(({bsPrefix:e,closeLabel:t="Close",closeVariant:n,closeButton:r=!0,className:o,children:i,...s},u)=>{e=ft(e,"toast-header");const c=R.useContext(YO),f=Dn(d=>{c==null||c.onClose==null||c.onClose(d)});return w.jsxs("div",{ref:u,...s,className:it(e,o),children:[i,r&&w.jsx($T,{"aria-label":t,variant:n,onClick:f,"data-dismiss":"toast"})]})});XO.displayName="ToastHeader";const D5=XO,JO=R.forwardRef(({className:e,bsPrefix:t,as:n="div",...r},o)=>(t=ft(t,"toast-body"),w.jsx(n,{ref:o,className:it(e,t),...r})));JO.displayName="ToastBody";const L5=JO,QO=R.forwardRef(({bsPrefix:e,className:t,transition:n=A5,show:r=!0,animation:o=!0,delay:i=5e3,autohide:s=!1,onClose:u,onEntered:c,onExit:f,onExiting:d,onEnter:m,onEntering:g,onExited:x,bg:y,..._},P)=>{e=ft(e,"toast");const k=R.useRef(i),C=R.useRef(u);R.useEffect(()=>{k.current=i,C.current=u},[i,u]);const S=iN(),A=!!(s&&r),K=R.useCallback(()=>{A&&(C.current==null||C.current())},[A]);R.useEffect(()=>{S.set(K,k.current)},[S,K]);const O=R.useMemo(()=>({onClose:u}),[u]),L=!!(n&&o),X=w.jsx("div",{..._,ref:P,className:it(e,t,y&&`bg-${y}`,!L&&(r?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"});return w.jsx(YO.Provider,{value:O,children:L&&n?w.jsx(n,{in:r,onEnter:m,onEntering:g,onEntered:c,onExit:f,onExiting:d,onExited:x,unmountOnExit:!0,children:X}):X})});QO.displayName="Toast";const by=Object.assign(QO,{Body:L5,Header:D5}),M5={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},ZO=R.forwardRef(({bsPrefix:e,position:t,containerPosition:n,className:r,as:o="div",...i},s)=>(e=ft(e,"toast-container"),w.jsx(o,{ref:s,...i,className:it(e,t&&M5[t],n&&`position-${n}`,r)})));ZO.displayName="ToastContainer";const z5=ZO,F5=()=>{},eR=R.forwardRef(({bsPrefix:e,name:t,className:n,checked:r,type:o,onChange:i,value:s,disabled:u,id:c,inputRef:f,...d},m)=>(e=ft(e,"btn-check"),w.jsxs(w.Fragment,{children:[w.jsx("input",{className:e,name:t,type:o,value:s,ref:f,autoComplete:"off",checked:!!r,disabled:!!u,onChange:i||F5,id:c}),w.jsx(wt,{...d,ref:m,className:it(n,u&&"disabled"),type:void 0,role:void 0,as:"label",htmlFor:c})]})));eR.displayName="ToggleButton";const nb=eR,$5=R.forwardRef((e,t)=>{const{children:n,type:r="radio",name:o,value:i,onChange:s,vertical:u=!1,...c}=Xd(e,{value:"onChange"}),f=()=>i==null?[]:[].concat(i),d=(m,g)=>{if(!s)return;const x=f(),y=x.indexOf(m)!==-1;if(r==="radio"){y||s(m,g);return}s(y?x.filter(_=>_!==m):[...x,m],g)};return r!=="radio"||o||v4(!1),w.jsx(Hw,{...c,ref:t,vertical:u,children:m3(n,m=>{const g=f(),{value:x,onChange:y}=m.props,_=P=>d(x,P);return R.cloneElement(m,{type:r,name:m.name||o,checked:g.indexOf(x)!==-1,onChange:Ou(y,_)})})})}),B5=Object.assign($5,{Button:nb});var __={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Is(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(d){try{f(r.next(d))}catch(m){s(m)}}function c(d){try{f(r.throw(d))}catch(m){s(m)}}function f(d){d.done?i(d.value):o(d.value).then(u,c)}f((r=r.apply(e,t||[])).next())})}function Oi(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(d){return c([f,d])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(d){f=[6,d],o=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function U5(e){var t=[e.schema.primKey].concat(e.schema.indexes);return t.map(function(n){return n.src}).join(",")}function K5(e){for(var t={},n=0,r=e.tables;n<r.length;n++){var o=r[n];t[o.name]=o.schema}return t}function tR(e,t){return new Promise(function(n,r){var o=new FileReader;o.onabort=function(i){return r(new Error("file read aborted"))},o.onerror=function(i){return r(i.target.error)},o.onload=function(i){return n(i.target.result)},t==="binary"?o.readAsArrayBuffer(e):o.readAsText(e)})}function nR(e,t){if(typeof FileReaderSync>"u")throw new Error("FileReaderSync missing. Reading blobs synchronously requires code to run from within a web worker. Use TSON.encapsulateAsync() to do it from the main thread.");var n=new FileReaderSync,r=t==="binary"?n.readAsArrayBuffer(e):n.readAsText(e);return r}var rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function l1(e,t){return t={exports:{}},e(t,t.exports),t.exports}var Sv=l1(function(e,t){(function(n,r){e.exports=r()})(rb,function(){function n(pe){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?n=function(ye){return typeof ye}:n=function(ye){return ye&&typeof Symbol=="function"&&ye.constructor===Symbol&&ye!==Symbol.prototype?"symbol":typeof ye},n(pe)}function r(pe,ye,de,Oe,ze,Qe,yt){try{var vt=pe[Qe](yt),He=vt.value}catch(vn){de(vn);return}vt.done?ye(He):Promise.resolve(He).then(Oe,ze)}function o(pe){return function(){var ye=this,de=arguments;return new Promise(function(Oe,ze){var Qe=pe.apply(ye,de);function yt(He){r(Qe,Oe,ze,yt,vt,"next",He)}function vt(He){r(Qe,Oe,ze,yt,vt,"throw",He)}yt(void 0)})}}function i(pe,ye){if(!(pe instanceof ye))throw new TypeError("Cannot call a class as a function")}function s(pe,ye){for(var de=0;de<ye.length;de++){var Oe=ye[de];Oe.enumerable=Oe.enumerable||!1,Oe.configurable=!0,"value"in Oe&&(Oe.writable=!0),Object.defineProperty(pe,Oe.key,Oe)}}function u(pe,ye,de){return ye&&s(pe.prototype,ye),de&&s(pe,de),pe}function c(pe,ye,de){return ye in pe?Object.defineProperty(pe,ye,{value:de,enumerable:!0,configurable:!0,writable:!0}):pe[ye]=de,pe}function f(pe,ye){var de=Object.keys(pe);if(Object.getOwnPropertySymbols){var Oe=Object.getOwnPropertySymbols(pe);ye&&(Oe=Oe.filter(function(ze){return Object.getOwnPropertyDescriptor(pe,ze).enumerable})),de.push.apply(de,Oe)}return de}function d(pe){for(var ye=1;ye<arguments.length;ye++){var de=arguments[ye]!=null?arguments[ye]:{};ye%2?f(Object(de),!0).forEach(function(Oe){c(pe,Oe,de[Oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(de)):f(Object(de)).forEach(function(Oe){Object.defineProperty(pe,Oe,Object.getOwnPropertyDescriptor(de,Oe))})}return pe}function m(pe,ye){return y(pe)||P(pe,ye)||C()}function g(pe){return x(pe)||_(pe)||k()}function x(pe){if(Array.isArray(pe)){for(var ye=0,de=new Array(pe.length);ye<pe.length;ye++)de[ye]=pe[ye];return de}}function y(pe){if(Array.isArray(pe))return pe}function _(pe){if(Symbol.iterator in Object(pe)||Object.prototype.toString.call(pe)==="[object Arguments]")return Array.from(pe)}function P(pe,ye){if(Symbol.iterator in Object(pe)||Object.prototype.toString.call(pe)==="[object Arguments]"){var de=[],Oe=!0,ze=!1,Qe=void 0;try{for(var yt=pe[Symbol.iterator](),vt;!(Oe=(vt=yt.next()).done)&&(de.push(vt.value),!(ye&&de.length===ye));Oe=!0);}catch(He){ze=!0,Qe=He}finally{try{!Oe&&yt.return!=null&&yt.return()}finally{if(ze)throw Qe}}return de}}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}var S=function pe(ye){i(this,pe),this.p=new Promise(ye)};S.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(S.prototype[Symbol.toStringTag]="TypesonPromise"),S.prototype.then=function(pe,ye){var de=this;return new S(function(Oe,ze){de.p.then(function(Qe){Oe(pe?pe(Qe):Qe)}).catch(function(Qe){return ye?ye(Qe):Promise.reject(Qe)}).then(Oe,ze)})},S.prototype.catch=function(pe){return this.then(null,pe)},S.resolve=function(pe){return new S(function(ye){ye(pe)})},S.reject=function(pe){return new S(function(ye,de){de(pe)})},["all","race"].forEach(function(pe){S[pe]=function(ye){return new S(function(de,Oe){Promise[pe](ye.map(function(ze){return ze&&ze.constructor&&ze.constructor.__typeson__type__==="TypesonPromise"?ze.p:ze})).then(de,Oe)})}});var A={},K=A.toString,O={}.hasOwnProperty,L=Object.getPrototypeOf,X=O.toString;function F(pe,ye){return ue(pe)&&typeof pe.then=="function"&&(!ye||typeof pe.catch=="function")}function N(pe){return K.call(pe).slice(8,-1)}function q(pe,ye){if(!pe||n(pe)!=="object")return!1;var de=L(pe);if(!de)return ye===null;var Oe=O.call(de,"constructor")&&de.constructor;return typeof Oe!="function"?ye===null:ye===Oe||ye!==null&&X.call(Oe)===X.call(ye)||typeof ye=="function"&&typeof Oe.__typeson__type__=="string"&&Oe.__typeson__type__===ye.__typeson__type__}function U(pe){if(!pe||N(pe)!=="Object")return!1;var ye=L(pe);return ye?q(pe,Object):!0}function te(pe){if(!pe||N(pe)!=="Object")return!1;var ye=L(pe);return ye?q(pe,Object)||te(ye):!0}function ue(pe){return pe&&n(pe)==="object"}function ke(pe){return pe.replace(/~/g,"~0").replace(/\./g,"~1")}function Be(pe){return pe.replace(/~1/g,".").replace(/~0/g,"~")}function Ve(pe,ye){if(ye==="")return pe;var de=ye.indexOf(".");if(de>-1){var Oe=pe[Be(ye.slice(0,de))];return Oe===void 0?void 0:Ve(Oe,ye.slice(de+1))}return pe[Be(ye)]}function ve(pe,ye,de){if(ye==="")return de;var Oe=ye.indexOf(".");if(Oe>-1){var ze=pe[Be(ye.slice(0,Oe))];return ve(ze,ye.slice(Oe+1),de)}return pe[Be(ye)]=de,pe}function Fe(pe){return pe===null?"null":Array.isArray(pe)?"array":n(pe)}var Ce=Object.keys,Ke=Array.isArray,me={}.hasOwnProperty,Ge=["type","replaced","iterateIn","iterateUnsetNumeric"];function Se(pe,ye){if(pe.keypath==="")return-1;var de=pe.keypath.match(/\./g)||0,Oe=ye.keypath.match(/\./g)||0;return de&&(de=de.length),Oe&&(Oe=Oe.length),de>Oe?-1:de<Oe?1:pe.keypath<ye.keypath?-1:pe.keypath>ye.keypath}var Re=function(){function pe(ye){i(this,pe),this.options=ye,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return u(pe,[{key:"stringify",value:function(de,Oe,ze,Qe){Qe=d({},this.options,{},Qe,{stringification:!0});var yt=this.encapsulate(de,null,Qe);return Ke(yt)?JSON.stringify(yt[0],Oe,ze):yt.then(function(vt){return JSON.stringify(vt,Oe,ze)})}},{key:"stringifySync",value:function(de,Oe,ze,Qe){return this.stringify(de,Oe,ze,d({throwOnBadSyncType:!0},Qe,{sync:!0}))}},{key:"stringifyAsync",value:function(de,Oe,ze,Qe){return this.stringify(de,Oe,ze,d({throwOnBadSyncType:!0},Qe,{sync:!1}))}},{key:"parse",value:function(de,Oe,ze){return ze=d({},this.options,{},ze,{parse:!0}),this.revive(JSON.parse(de,Oe),ze)}},{key:"parseSync",value:function(de,Oe,ze){return this.parse(de,Oe,d({throwOnBadSyncType:!0},ze,{sync:!0}))}},{key:"parseAsync",value:function(de,Oe,ze){return this.parse(de,Oe,d({throwOnBadSyncType:!0},ze,{sync:!1}))}},{key:"specialTypeNames",value:function(de,Oe){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ze.returnTypeNames=!0,this.encapsulate(de,Oe,ze)}},{key:"rootTypeName",value:function(de,Oe){var ze=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ze.iterateNone=!0,this.encapsulate(de,Oe,ze)}},{key:"encapsulate",value:function(de,Oe,ze){ze=d({sync:!0},this.options,{},ze);var Qe=ze,yt=Qe.sync,vt=this,He={},vn=[],tn=[],$n=[],or="cyclic"in ze?ze.cyclic:!0,dn=ze,jt=dn.encapsulateObserver,yn=bt("",de,or,Oe||{},$n);function gn(lt){var V=Object.values(He);if(ze.iterateNone)return V.length?V[0]:pe.getJSONType(lt);if(V.length){if(ze.returnTypeNames)return g(new Set(V));!lt||!U(lt)||me.call(lt,"$types")?lt={$:lt,$types:{$:He}}:lt.$types=He}else ue(lt)&&me.call(lt,"$types")&&(lt={$:lt,$types:!0});return ze.returnTypeNames?!1:lt}function Bt(lt,V){return Et.apply(this,arguments)}function Et(){return Et=o(regeneratorRuntime.mark(function lt(V,D){var W;return regeneratorRuntime.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return ce.next=2,Promise.all(D.map(function(be){return be[1].p}));case 2:return W=ce.sent,ce.next=5,Promise.all(W.map(function(){var be=o(regeneratorRuntime.mark(function Xe(ct){var rt,Ne,At,It,Qt,ie,fe,Ee,Ie,De,ht,Le,_e,Pe;return regeneratorRuntime.wrap(function(ut){for(;;)switch(ut.prev=ut.next){case 0:if(rt=[],Ne=D.splice(0,1),At=m(Ne,1),It=At[0],Qt=m(It,7),ie=Qt[0],fe=Qt[2],Ee=Qt[3],Ie=Qt[4],De=Qt[5],ht=Qt[6],Le=bt(ie,ct,fe,Ee,rt,!0,ht),_e=q(Le,S),!(ie&&_e)){ut.next=11;break}return ut.next=8,Le.p;case 8:return Pe=ut.sent,Ie[De]=Pe,ut.abrupt("return",Bt(V,rt));case 11:return ie?Ie[De]=Le:_e?V=Le.p:V=Le,ut.abrupt("return",Bt(V,rt));case 13:case"end":return ut.stop()}},Xe)}));return function(Xe){return be.apply(this,arguments)}}()));case 5:return ce.abrupt("return",V);case 6:case"end":return ce.stop()}},lt)})),Et.apply(this,arguments)}function at(lt,V,D){Object.assign(lt,V);var W=Ge.map(function(re){var ce=lt[re];return delete lt[re],ce});D(),Ge.forEach(function(re,ce){lt[re]=W[ce]})}function bt(lt,V,D,W,re,ce,be){var Xe,ct={},rt=n(V),Ne=jt?function(_e){var Pe=be||W.type||pe.getJSONType(V);jt(Object.assign(_e||ct,{keypath:lt,value:V,cyclic:D,stateObj:W,promisesData:re,resolvingTypesonPromise:ce,awaitingTypesonPromise:q(V,S)},{type:Pe}))}:null;if(["string","boolean","number","undefined"].includes(rt))return V===void 0||rt==="number"&&(isNaN(V)||V===-1/0||V===1/0)?(W.replaced?Xe=V:Xe=Ut(lt,V,W,re,!1,ce,Ne),Xe!==V&&(ct={replaced:Xe})):Xe=V,Ne&&Ne(),Xe;if(V===null)return Ne&&Ne(),V;if(D&&!W.iterateIn&&!W.iterateUnsetNumeric&&V&&n(V)==="object"){var At=vn.indexOf(V);if(At<0)D===!0&&(vn.push(V),tn.push(lt));else return He[lt]="#",Ne&&Ne({cyclicKeypath:tn[At]}),"#"+tn[At]}var It=U(V),Qt=Ke(V),ie=(It||Qt)&&(!vt.plainObjectReplacers.length||W.replaced)||W.iterateIn?V:Ut(lt,V,W,re,It||Qt,null,Ne),fe;if(ie!==V?(Xe=ie,ct={replaced:ie}):lt===""&&q(V,S)?(re.push([lt,V,D,W,void 0,void 0,W.type]),Xe=V):Qt&&W.iterateIn!=="object"||W.iterateIn==="array"?(fe=new Array(V.length),ct={clone:fe}):!["function","symbol"].includes(n(V))&&!("toJSON"in V)&&!q(V,S)&&!q(V,Promise)&&!q(V,ArrayBuffer)||It||W.iterateIn==="object"?(fe={},W.addLength&&(fe.length=V.length),ct={clone:fe}):Xe=V,Ne&&Ne(),ze.iterateNone)return fe||Xe;if(!fe)return Xe;if(W.iterateIn){var Ee=function(Pe){var $e={ownKeys:me.call(V,Pe)};at(W,$e,function(){var ut=lt+(lt?".":"")+ke(Pe),et=bt(ut,V[Pe],!!D,W,re,ce);q(et,S)?re.push([ut,et,!!D,W,fe,Pe,W.type]):et!==void 0&&(fe[Pe]=et)})};for(var Ie in V)Ee(Ie);Ne&&Ne({endIterateIn:!0,end:!0})}else Ce(V).forEach(function(_e){var Pe=lt+(lt?".":"")+ke(_e),$e={ownKeys:!0};at(W,$e,function(){var ut=bt(Pe,V[_e],!!D,W,re,ce);q(ut,S)?re.push([Pe,ut,!!D,W,fe,_e,W.type]):ut!==void 0&&(fe[_e]=ut)})}),Ne&&Ne({endIterateOwn:!0,end:!0});if(W.iterateUnsetNumeric){for(var De=V.length,ht=function(Pe){if(!(Pe in V)){var $e=lt+(lt?".":"")+Pe,ut={ownKeys:!1};at(W,ut,function(){var et=bt($e,void 0,!!D,W,re,ce);q(et,S)?re.push([$e,et,!!D,W,fe,Pe,W.type]):et!==void 0&&(fe[Pe]=et)})}},Le=0;Le<De;Le++)ht(Le);Ne&&Ne({endIterateUnsetNumeric:!0,end:!0})}return fe}function Ut(lt,V,D,W,re,ce,be){for(var Xe=re?vt.plainObjectReplacers:vt.nonplainObjectReplacers,ct=Xe.length;ct--;){var rt=Xe[ct];if(rt.test(V,D)){var Ne=rt.type;if(vt.revivers[Ne]){var At=He[lt];He[lt]=At?[Ne].concat(At):Ne}if(Object.assign(D,{type:Ne,replaced:!0}),(yt||!rt.replaceAsync)&&!rt.replace)return be&&be({typeDetected:!0}),bt(lt,V,or&&"readonly",D,W,ce,Ne);be&&be({replacing:!0});var It=yt||!rt.replaceAsync?"replace":"replaceAsync";return bt(lt,rt[It](V,D),or&&"readonly",D,W,ce,Ne)}}return V}return $n.length?yt&&ze.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(Bt(yn,$n)).then(gn):!yt&&ze.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ze.stringification&&yt?[gn(yn)]:yt?gn(yn):Promise.resolve(gn(yn))}},{key:"encapsulateSync",value:function(de,Oe,ze){return this.encapsulate(de,Oe,d({throwOnBadSyncType:!0},ze,{sync:!0}))}},{key:"encapsulateAsync",value:function(de,Oe,ze){return this.encapsulate(de,Oe,d({throwOnBadSyncType:!0},ze,{sync:!1}))}},{key:"revive",value:function(de,Oe){var ze=de&&de.$types;if(!ze)return de;if(ze===!0)return de.$;Oe=d({sync:!0},this.options,{},Oe);var Qe=Oe,yt=Qe.sync,vt=[],He={},vn=!0;ze.$&&U(ze.$)&&(de=de.$,ze=ze.$,vn=!1);var tn=this;function $n(Et,at){var bt=tn.revivers[Et]||[],Ut=m(bt,1),lt=Ut[0];if(!lt)throw new Error("Unregistered type: "+Et);return yt&&!("revive"in lt)?at:lt[yt&&lt.revive?"revive":!yt&&lt.reviveAsync?"reviveAsync":"revive"](at,He)}function or(){var Et=[];if(Object.entries(ze).forEach(function(at){var bt=m(at,2),Ut=bt[0],lt=bt[1];lt!=="#"&&[].concat(lt).forEach(function(V){var D=tn.revivers[V]||[null,{}],W=m(D,2),re=W[1].plain;re&&(Et.push({keypath:Ut,type:V}),delete ze[Ut])})}),!!Et.length)return Et.sort(Se).reduce(function at(bt,Ut){var lt=Ut.keypath,V=Ut.type;if(F(bt))return bt.then(function(re){return at(re,{keypath:lt,type:V})});var D=Ve(de,lt);if(D=$n(V,D),q(D,S))return D.then(function(re){var ce=ve(de,lt,re);ce===re&&(de=ce)});var W=ve(de,lt,D);W===D&&(de=W)},void 0)}var dn=[];function jt(Et,at,bt,Ut,lt){if(!(vn&&Et==="$types")){var V=ze[Et],D=Ke(at);if(D||U(at)){var W=D?new Array(at.length):{};for(Ce(at).forEach(function(At){var It=jt(Et+(Et?".":"")+ke(At),at[At],bt||W,W,At),Qt=function(fe){return q(fe,Ze)?W[At]=void 0:fe!==void 0&&(W[At]=fe),fe};q(It,S)?dn.push(It.then(function(ie){return Qt(ie)})):Qt(It)}),at=W;vt.length;){var re=m(vt[0],4),ce=re[0],be=re[1],Xe=re[2],ct=re[3],rt=Ve(ce,be);if(rt!==void 0)Xe[ct]=rt;else break;vt.splice(0,1)}}if(!V)return at;if(V==="#"){var Ne=Ve(bt,at.slice(1));return Ne===void 0&&vt.push([bt,at.slice(1),Ut,lt]),Ne}return[].concat(V).reduce(function At(It,Qt){return q(It,S)?It.then(function(ie){return At(ie,Qt)}):$n(Qt,It)},at)}}function yn(Et){return q(Et,Ze)?void 0:Et}var gn=or(),Bt;return q(gn,S)?Bt=gn.then(function(){return de}):(Bt=jt("",de,null),dn.length&&(Bt=S.resolve(Bt).then(function(Et){return S.all([Et].concat(dn))}).then(function(Et){var at=m(Et,1),bt=at[0];return bt}))),F(Bt)?yt&&Oe.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():q(Bt,S)?Bt.p.then(yn):Bt:!yt&&Oe.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():yt?yn(Bt):Promise.resolve(yn(Bt))}},{key:"reviveSync",value:function(de,Oe){return this.revive(de,d({throwOnBadSyncType:!0},Oe,{sync:!0}))}},{key:"reviveAsync",value:function(de,Oe){return this.revive(de,d({throwOnBadSyncType:!0},Oe,{sync:!1}))}},{key:"register",value:function(de,Oe){return Oe=Oe||{},[].concat(de).forEach(function ze(Qe){var yt=this;if(Ke(Qe))return Qe.map(function(vt){return ze.call(yt,vt)});Qe&&Ce(Qe).forEach(function(vt){if(vt==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(pe.JSON_TYPES.includes(vt))throw new TypeError("Plain JSON object types are reserved as type names");var He=Qe[vt],vn=He&&He.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,tn=vn.filter(function(bt){return bt.type===vt});if(tn.length&&(vn.splice(vn.indexOf(tn[0]),1),delete this.revivers[vt],delete this.types[vt]),typeof He=="function"){var $n=He;He={test:function(Ut){return Ut&&Ut.constructor===$n},replace:function(Ut){return d({},Ut)},revive:function(Ut){return Object.assign(Object.create($n.prototype),Ut)}}}else if(Ke(He)){var or=He,dn=m(or,3),jt=dn[0],yn=dn[1],gn=dn[2];He={test:jt,replace:yn,revive:gn}}if(!(!He||!He.test)){var Bt={type:vt,test:He.test.bind(He)};He.replace&&(Bt.replace=He.replace.bind(He)),He.replaceAsync&&(Bt.replaceAsync=He.replaceAsync.bind(He));var Et=typeof Oe.fallback=="number"?Oe.fallback:Oe.fallback?0:1/0;if(He.testPlainObjects?this.plainObjectReplacers.splice(Et,0,Bt):this.nonplainObjectReplacers.splice(Et,0,Bt),He.revive||He.reviveAsync){var at={};He.revive&&(at.revive=He.revive.bind(He)),He.reviveAsync&&(at.reviveAsync=He.reviveAsync.bind(He)),this.revivers[vt]=[at,{plain:He.testPlainObjects}]}this.types[vt]=He}},this)},this),this}}]),pe}(),Ze=function pe(){i(this,pe)};return Ze.__typeson__type__="TypesonUndefined",Re.Undefined=Ze,Re.Promise=S,Re.isThenable=F,Re.toStringTag=N,Re.hasConstructorOf=q,Re.isObject=ue,Re.isPlainObject=U,Re.isUserObject=te,Re.escapeKeyPathComponent=ke,Re.unescapeKeyPathComponent=Be,Re.getByKeyPath=Ve,Re.getJSONType=Fe,Re.JSON_TYPES=["null","boolean","number","string","array","object"],Re})}),H5=l1(function(e,t){(function(n,r){e.exports=r()})(rb,function(){function n(V){return(n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(D){return typeof D}:function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D})(V)}function r(V,D){if(!(V instanceof D))throw new TypeError("Cannot call a class as a function")}function o(V,D){for(var W=0;W<D.length;W++){var re=D[W];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(V,re.key,re)}}function i(V,D,W){return D in V?Object.defineProperty(V,D,{value:W,enumerable:!0,configurable:!0,writable:!0}):V[D]=W,V}function s(V,D){var W=Object.keys(V);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(V);D&&(re=re.filter(function(ce){return Object.getOwnPropertyDescriptor(V,ce).enumerable})),W.push.apply(W,re)}return W}function u(V){return function(W){if(Array.isArray(W))return c(W)}(V)||function(W){if(typeof Symbol<"u"&&Symbol.iterator in Object(W))return Array.from(W)}(V)||function(W,re){if(W){if(typeof W=="string")return c(W,re);var ce=Object.prototype.toString.call(W).slice(8,-1);if(ce==="Object"&&W.constructor&&(ce=W.constructor.name),ce==="Map"||ce==="Set")return Array.from(W);if(ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ce))return c(W,re)}}(V)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function c(V,D){(D==null||D>V.length)&&(D=V.length);for(var W=0,re=new Array(D);W<D;W++)re[W]=V[W];return re}function f(V){return(f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(W){return typeof W}:function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W})(V)}function d(V,D){if(!(V instanceof D))throw new TypeError("Cannot call a class as a function")}function m(V,D){for(var W=0;W<D.length;W++){var re=D[W];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(V,re.key,re)}}function g(V,D,W){return D in V?Object.defineProperty(V,D,{value:W,enumerable:!0,configurable:!0,writable:!0}):V[D]=W,V}function x(V,D){var W=Object.keys(V);if(Object.getOwnPropertySymbols){var re=Object.getOwnPropertySymbols(V);D&&(re=re.filter(function(ce){return Object.getOwnPropertyDescriptor(V,ce).enumerable})),W.push.apply(W,re)}return W}function y(V){for(var D=1;D<arguments.length;D++){var W=arguments[D]!=null?arguments[D]:{};D%2?x(Object(W),!0).forEach(function(re){g(V,re,W[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(V,Object.getOwnPropertyDescriptors(W)):x(Object(W)).forEach(function(re){Object.defineProperty(V,re,Object.getOwnPropertyDescriptor(W,re))})}return V}function _(V,D){return function(re){if(Array.isArray(re))return re}(V)||function(re,ce){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(re)))){var be=[],Xe=!0,ct=!1,rt=void 0;try{for(var Ne,At=re[Symbol.iterator]();!(Xe=(Ne=At.next()).done)&&(be.push(Ne.value),!ce||be.length!==ce);Xe=!0);}catch(It){ct=!0,rt=It}finally{try{Xe||At.return==null||At.return()}finally{if(ct)throw rt}}return be}}(V,D)||k(V,D)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function P(V){return function(W){if(Array.isArray(W))return C(W)}(V)||function(W){if(typeof Symbol<"u"&&Symbol.iterator in Object(W))return Array.from(W)}(V)||k(V)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function k(V,D){if(V){if(typeof V=="string")return C(V,D);var W=Object.prototype.toString.call(V).slice(8,-1);return W==="Object"&&V.constructor&&(W=V.constructor.name),W==="Map"||W==="Set"?Array.from(V):W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W)?C(V,D):void 0}}function C(V,D){(D==null||D>V.length)&&(D=V.length);for(var W=0,re=new Array(D);W<D;W++)re[W]=V[W];return re}var S=function V(D){d(this,V),this.p=new Promise(D)};S.__typeson__type__="TypesonPromise",typeof Symbol<"u"&&(S.prototype[Symbol.toStringTag]="TypesonPromise"),S.prototype.then=function(V,D){var W=this;return new S(function(re,ce){W.p.then(function(be){re(V?V(be):be)}).catch(function(be){return D?D(be):Promise.reject(be)}).then(re,ce)})},S.prototype.catch=function(V){return this.then(null,V)},S.resolve=function(V){return new S(function(D){D(V)})},S.reject=function(V){return new S(function(D,W){W(V)})},["all","race"].forEach(function(V){S[V]=function(D){return new S(function(W,re){Promise[V](D.map(function(ce){return ce&&ce.constructor&&ce.constructor.__typeson__type__==="TypesonPromise"?ce.p:ce})).then(W,re)})}});var A={}.toString,K={}.hasOwnProperty,O=Object.getPrototypeOf,L=K.toString;function X(V,D){return U(V)&&typeof V.then=="function"&&(!D||typeof V.catch=="function")}function F(V){return A.call(V).slice(8,-1)}function N(V,D){if(!V||f(V)!=="object")return!1;var W=O(V);if(!W)return D===null;var re=K.call(W,"constructor")&&W.constructor;return typeof re!="function"?D===null:D===re||D!==null&&L.call(re)===L.call(D)||typeof D=="function"&&typeof re.__typeson__type__=="string"&&re.__typeson__type__===D.__typeson__type__}function q(V){return!(!V||F(V)!=="Object")&&(!O(V)||N(V,Object))}function U(V){return V&&f(V)==="object"}function te(V){return V.replace(/~/g,"~0").replace(/\./g,"~1")}function ue(V){return V.replace(/~1/g,".").replace(/~0/g,"~")}function ke(V,D){if(D==="")return V;var W=D.indexOf(".");if(W>-1){var re=V[ue(D.slice(0,W))];return re===void 0?void 0:ke(re,D.slice(W+1))}return V[ue(D)]}function Be(V,D,W){if(D==="")return W;var re=D.indexOf(".");return re>-1?Be(V[ue(D.slice(0,re))],D.slice(re+1),W):(V[ue(D)]=W,V)}function Ve(V,D,W){return W?D?D(V):V:(V&&V.then||(V=Promise.resolve(V)),D?V.then(D):V)}var ve=Object.keys,Fe=Array.isArray,Ce={}.hasOwnProperty,Ke=["type","replaced","iterateIn","iterateUnsetNumeric"];function me(V){return function(){for(var D=[],W=0;W<arguments.length;W++)D[W]=arguments[W];try{return Promise.resolve(V.apply(this,D))}catch(re){return Promise.reject(re)}}}function Ge(V,D){if(V.keypath==="")return-1;var W=V.keypath.match(/\./g)||0,re=D.keypath.match(/\./g)||0;return W&&(W=W.length),re&&(re=re.length),W>re?-1:W<re?1:V.keypath<D.keypath?-1:V.keypath>D.keypath}var Se=function(){function V(D){d(this,V),this.options=D,this.plainObjectReplacers=[],this.nonplainObjectReplacers=[],this.revivers={},this.types={}}return function(W,re,ce){return re&&m(W.prototype,re),ce&&m(W,ce),W}(V,[{key:"stringify",value:function(W,re,ce,be){be=y(y(y({},this.options),be),{},{stringification:!0});var Xe=this.encapsulate(W,null,be);return Fe(Xe)?JSON.stringify(Xe[0],re,ce):Xe.then(function(ct){return JSON.stringify(ct,re,ce)})}},{key:"stringifySync",value:function(W,re,ce,be){return this.stringify(W,re,ce,y(y({throwOnBadSyncType:!0},be),{},{sync:!0}))}},{key:"stringifyAsync",value:function(W,re,ce,be){return this.stringify(W,re,ce,y(y({throwOnBadSyncType:!0},be),{},{sync:!1}))}},{key:"parse",value:function(W,re,ce){return ce=y(y(y({},this.options),ce),{},{parse:!0}),this.revive(JSON.parse(W,re),ce)}},{key:"parseSync",value:function(W,re,ce){return this.parse(W,re,y(y({throwOnBadSyncType:!0},ce),{},{sync:!0}))}},{key:"parseAsync",value:function(W,re,ce){return this.parse(W,re,y(y({throwOnBadSyncType:!0},ce),{},{sync:!1}))}},{key:"specialTypeNames",value:function(W,re){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ce.returnTypeNames=!0,this.encapsulate(W,re,ce)}},{key:"rootTypeName",value:function(W,re){var ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return ce.iterateNone=!0,this.encapsulate(W,re,ce)}},{key:"encapsulate",value:function(W,re,ce){var be=me(function(Le,_e){return Ve(Promise.all(_e.map(function(Pe){return Pe[1].p})),function(Pe){return Ve(Promise.all(Pe.map(me(function($e){var ut=!1,et=[],Ot=_(_e.splice(0,1),1),Rt=_(Ot[0],7),mn=Rt[0],Kt=Rt[2],Dt=Rt[3],Cn=Rt[4],Yt=Rt[5],Tn=Rt[6],fn=De(mn,$e,Kt,Dt,et,!0,Tn),fr=N(fn,S);return function(Ko,Nr){var un=Ko();return un&&un.then?un.then(Nr):Nr(un)}(function(){if(mn&&fr)return Ve(fn.p,function(Nn){return Cn[Yt]=Nn,ut=!0,be(Le,et)})},function(Nn){return ut?Nn:(mn?Cn[Yt]=fn:Le=fr?fn.p:fn,be(Le,et))})}))),function(){return Le})})}),Xe=(ce=y(y({sync:!0},this.options),ce)).sync,ct=this,rt={},Ne=[],At=[],It=[],Qt=!("cyclic"in ce)||ce.cyclic,ie=ce.encapsulateObserver,fe=De("",W,Qt,re||{},It);function Ee(Le){var _e=Object.values(rt);if(ce.iterateNone)return _e.length?_e[0]:V.getJSONType(Le);if(_e.length){if(ce.returnTypeNames)return P(new Set(_e));Le&&q(Le)&&!Ce.call(Le,"$types")?Le.$types=rt:Le={$:Le,$types:{$:rt}}}else U(Le)&&Ce.call(Le,"$types")&&(Le={$:Le,$types:!0});return!ce.returnTypeNames&&Le}function Ie(Le,_e,Pe){Object.assign(Le,_e);var $e=Ke.map(function(ut){var et=Le[ut];return delete Le[ut],et});Pe(),Ke.forEach(function(ut,et){Le[ut]=$e[et]})}function De(Le,_e,Pe,$e,ut,et,Ot){var Rt,mn={},Kt=f(_e),Dt=ie?function(Pt){var Zt=Ot||$e.type||V.getJSONType(_e);ie(Object.assign(Pt||mn,{keypath:Le,value:_e,cyclic:Pe,stateObj:$e,promisesData:ut,resolvingTypesonPromise:et,awaitingTypesonPromise:N(_e,S)},{type:Zt}))}:null;if(["string","boolean","number","undefined"].includes(Kt))return _e===void 0||Number.isNaN(_e)||_e===Number.NEGATIVE_INFINITY||_e===Number.POSITIVE_INFINITY?(Rt=$e.replaced?_e:ht(Le,_e,$e,ut,!1,et,Dt))!==_e&&(mn={replaced:Rt}):Rt=_e,Dt&&Dt(),Rt;if(_e===null)return Dt&&Dt(),_e;if(Pe&&!$e.iterateIn&&!$e.iterateUnsetNumeric&&_e&&f(_e)==="object"){var Cn=Ne.indexOf(_e);if(!(Cn<0))return rt[Le]="#",Dt&&Dt({cyclicKeypath:At[Cn]}),"#"+At[Cn];Pe===!0&&(Ne.push(_e),At.push(Le))}var Yt,Tn=q(_e),fn=Fe(_e),fr=(Tn||fn)&&(!ct.plainObjectReplacers.length||$e.replaced)||$e.iterateIn?_e:ht(Le,_e,$e,ut,Tn||fn,null,Dt);if(fr!==_e?(Rt=fr,mn={replaced:fr}):Le===""&&N(_e,S)?(ut.push([Le,_e,Pe,$e,void 0,void 0,$e.type]),Rt=_e):fn&&$e.iterateIn!=="object"||$e.iterateIn==="array"?(Yt=new Array(_e.length),mn={clone:Yt}):(["function","symbol"].includes(f(_e))||"toJSON"in _e||N(_e,S)||N(_e,Promise)||N(_e,ArrayBuffer))&&!Tn&&$e.iterateIn!=="object"?Rt=_e:(Yt={},$e.addLength&&(Yt.length=_e.length),mn={clone:Yt}),Dt&&Dt(),ce.iterateNone)return Yt||Rt;if(!Yt)return Rt;if($e.iterateIn){var Nn=function(Zt){var Hn={ownKeys:Ce.call(_e,Zt)};Ie($e,Hn,function(){var zr=Le+(Le?".":"")+te(Zt),Di=De(zr,_e[Zt],!!Pe,$e,ut,et);N(Di,S)?ut.push([zr,Di,!!Pe,$e,Yt,Zt,$e.type]):Di!==void 0&&(Yt[Zt]=Di)})};for(var Ko in _e)Nn(Ko);Dt&&Dt({endIterateIn:!0,end:!0})}else ve(_e).forEach(function(Pt){var Zt=Le+(Le?".":"")+te(Pt);Ie($e,{ownKeys:!0},function(){var Hn=De(Zt,_e[Pt],!!Pe,$e,ut,et);N(Hn,S)?ut.push([Zt,Hn,!!Pe,$e,Yt,Pt,$e.type]):Hn!==void 0&&(Yt[Pt]=Hn)})}),Dt&&Dt({endIterateOwn:!0,end:!0});if($e.iterateUnsetNumeric){for(var Nr=_e.length,un=function(Zt){if(!(Zt in _e)){var Hn=Le+(Le?".":"")+Zt;Ie($e,{ownKeys:!1},function(){var zr=De(Hn,void 0,!!Pe,$e,ut,et);N(zr,S)?ut.push([Hn,zr,!!Pe,$e,Yt,Zt,$e.type]):zr!==void 0&&(Yt[Zt]=zr)})}},Tt=0;Tt<Nr;Tt++)un(Tt);Dt&&Dt({endIterateUnsetNumeric:!0,end:!0})}return Yt}function ht(Le,_e,Pe,$e,ut,et,Ot){for(var Rt=ut?ct.plainObjectReplacers:ct.nonplainObjectReplacers,mn=Rt.length;mn--;){var Kt=Rt[mn];if(Kt.test(_e,Pe)){var Dt=Kt.type;if(ct.revivers[Dt]){var Cn=rt[Le];rt[Le]=Cn?[Dt].concat(Cn):Dt}return Object.assign(Pe,{type:Dt,replaced:!0}),!Xe&&Kt.replaceAsync||Kt.replace?(Ot&&Ot({replacing:!0}),De(Le,Kt[Xe||!Kt.replaceAsync?"replace":"replaceAsync"](_e,Pe),Qt&&"readonly",Pe,$e,et,Dt)):(Ot&&Ot({typeDetected:!0}),De(Le,_e,Qt&&"readonly",Pe,$e,et,Dt))}}return _e}return It.length?Xe&&ce.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():Promise.resolve(be(fe,It)).then(Ee):!Xe&&ce.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():ce.stringification&&Xe?[Ee(fe)]:Xe?Ee(fe):Promise.resolve(Ee(fe))}},{key:"encapsulateSync",value:function(W,re,ce){return this.encapsulate(W,re,y(y({throwOnBadSyncType:!0},ce),{},{sync:!0}))}},{key:"encapsulateAsync",value:function(W,re,ce){return this.encapsulate(W,re,y(y({throwOnBadSyncType:!0},ce),{},{sync:!1}))}},{key:"revive",value:function(W,re){var ce=W&&W.$types;if(!ce)return W;if(ce===!0)return W.$;var be=(re=y(y({sync:!0},this.options),re)).sync,Xe=[],ct={},rt=!0;ce.$&&q(ce.$)&&(W=W.$,ce=ce.$,rt=!1);var Ne=this;function At(Ee,Ie){var De=_(Ne.revivers[Ee]||[],1)[0];if(!De)throw new Error("Unregistered type: "+Ee);return be&&!("revive"in De)?Ie:De[be&&De.revive?"revive":!be&&De.reviveAsync?"reviveAsync":"revive"](Ie,ct)}var It=[];function Qt(Ee){return N(Ee,Re)?void 0:Ee}var ie,fe=function(){var Ie=[];if(Object.entries(ce).forEach(function(De){var ht=_(De,2),Le=ht[0],_e=ht[1];_e!=="#"&&[].concat(_e).forEach(function(Pe){_(Ne.revivers[Pe]||[null,{}],2)[1].plain&&(Ie.push({keypath:Le,type:Pe}),delete ce[Le])})}),Ie.length)return Ie.sort(Ge).reduce(function De(ht,Le){var _e=Le.keypath,Pe=Le.type;if(X(ht))return ht.then(function(et){return De(et,{keypath:_e,type:Pe})});var $e=ke(W,_e);if(N($e=At(Pe,$e),S))return $e.then(function(et){var Ot=Be(W,_e,et);Ot===et&&(W=Ot)});var ut=Be(W,_e,$e);ut===$e&&(W=ut)},void 0)}();return N(fe,S)?ie=fe.then(function(){return W}):(ie=function Ee(Ie,De,ht,Le,_e){if(!rt||Ie!=="$types"){var Pe=ce[Ie],$e=Fe(De);if($e||q(De)){var ut=$e?new Array(De.length):{};for(ve(De).forEach(function(Yt){var Tn=Ee(Ie+(Ie?".":"")+te(Yt),De[Yt],ht||ut,ut,Yt),fn=function(Nn){return N(Nn,Re)?ut[Yt]=void 0:Nn!==void 0&&(ut[Yt]=Nn),Nn};N(Tn,S)?It.push(Tn.then(function(fr){return fn(fr)})):fn(Tn)}),De=ut;Xe.length;){var et=_(Xe[0],4),Ot=et[0],Rt=et[1],mn=et[2],Kt=et[3],Dt=ke(Ot,Rt);if(Dt===void 0)break;mn[Kt]=Dt,Xe.splice(0,1)}}if(!Pe)return De;if(Pe==="#"){var Cn=ke(ht,De.slice(1));return Cn===void 0&&Xe.push([ht,De.slice(1),Le,_e]),Cn}return[].concat(Pe).reduce(function Yt(Tn,fn){return N(Tn,S)?Tn.then(function(fr){return Yt(fr,fn)}):At(fn,Tn)},De)}}("",W,null),It.length&&(ie=S.resolve(ie).then(function(Ee){return S.all([Ee].concat(It))}).then(function(Ee){return _(Ee,1)[0]}))),X(ie)?be&&re.throwOnBadSyncType?function(){throw new TypeError("Sync method requested but async result obtained")}():N(ie,S)?ie.p.then(Qt):ie:!be&&re.throwOnBadSyncType?function(){throw new TypeError("Async method requested but sync result obtained")}():be?Qt(ie):Promise.resolve(Qt(ie))}},{key:"reviveSync",value:function(W,re){return this.revive(W,y(y({throwOnBadSyncType:!0},re),{},{sync:!0}))}},{key:"reviveAsync",value:function(W,re){return this.revive(W,y(y({throwOnBadSyncType:!0},re),{},{sync:!1}))}},{key:"register",value:function(W,re){return re=re||{},[].concat(W).forEach(function ce(be){var Xe=this;if(Fe(be))return be.map(function(ct){return ce.call(Xe,ct)});be&&ve(be).forEach(function(ct){if(ct==="#")throw new TypeError("# cannot be used as a type name as it is reserved for cyclic objects");if(V.JSON_TYPES.includes(ct))throw new TypeError("Plain JSON object types are reserved as type names");var rt=be[ct],Ne=rt&&rt.testPlainObjects?this.plainObjectReplacers:this.nonplainObjectReplacers,At=Ne.filter(function(Ie){return Ie.type===ct});if(At.length&&(Ne.splice(Ne.indexOf(At[0]),1),delete this.revivers[ct],delete this.types[ct]),typeof rt=="function"){var It=rt;rt={test:function(De){return De&&De.constructor===It},replace:function(De){return y({},De)},revive:function(De){return Object.assign(Object.create(It.prototype),De)}}}else if(Fe(rt)){var Qt=_(rt,3);rt={test:Qt[0],replace:Qt[1],revive:Qt[2]}}if(rt&&rt.test){var ie={type:ct,test:rt.test.bind(rt)};rt.replace&&(ie.replace=rt.replace.bind(rt)),rt.replaceAsync&&(ie.replaceAsync=rt.replaceAsync.bind(rt));var fe=typeof re.fallback=="number"?re.fallback:re.fallback?0:Number.POSITIVE_INFINITY;if(rt.testPlainObjects?this.plainObjectReplacers.splice(fe,0,ie):this.nonplainObjectReplacers.splice(fe,0,ie),rt.revive||rt.reviveAsync){var Ee={};rt.revive&&(Ee.revive=rt.revive.bind(rt)),rt.reviveAsync&&(Ee.reviveAsync=rt.reviveAsync.bind(rt)),this.revivers[ct]=[Ee,{plain:rt.testPlainObjects}]}this.types[ct]=rt}},this)},this),this}}]),V}(),Re=function V(){d(this,V)};Re.__typeson__type__="TypesonUndefined",Se.Undefined=Re,Se.Promise=S,Se.isThenable=X,Se.toStringTag=F,Se.hasConstructorOf=N,Se.isObject=U,Se.isPlainObject=q,Se.isUserObject=function V(D){if(!D||F(D)!=="Object")return!1;var W=O(D);return!W||N(D,Object)||V(W)},Se.escapeKeyPathComponent=te,Se.unescapeKeyPathComponent=ue,Se.getByKeyPath=ke,Se.getJSONType=function(D){return D===null?"null":Array.isArray(D)?"array":f(D)},Se.JSON_TYPES=["null","boolean","number","string","array","object"];for(var Ze={userObject:{test:function(D,W){return Se.isUserObject(D)},replace:function(D){return function(re){for(var ce=1;ce<arguments.length;ce++){var be=arguments[ce]!=null?arguments[ce]:{};ce%2?s(Object(be),!0).forEach(function(Xe){i(re,Xe,be[Xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(be)):s(Object(be)).forEach(function(Xe){Object.defineProperty(re,Xe,Object.getOwnPropertyDescriptor(be,Xe))})}return re}({},D)},revive:function(D){return D}}},pe=[{arrayNonindexKeys:{testPlainObjects:!0,test:function(D,W){return!!Array.isArray(D)&&(Object.keys(D).some(function(re){return String(Number.parseInt(re))!==re})&&(W.iterateIn="object",W.addLength=!0),!0)},replace:function(D,W){return W.iterateUnsetNumeric=!0,D},revive:function(D){if(Array.isArray(D))return D;var W=[];return Object.keys(D).forEach(function(re){var ce=D[re];W[re]=ce}),W}}},{sparseUndefined:{test:function(D,W){return D===void 0&&W.ownKeys===!1},replace:function(D){return 0},revive:function(D){}}}],ye={undef:{test:function(D,W){return D===void 0&&(W.ownKeys||!("ownKeys"in W))},replace:function(D){return 0},revive:function(D){return new Se.Undefined}}},de={StringObject:{test:function(D){return Se.toStringTag(D)==="String"&&n(D)==="object"},replace:function(D){return String(D)},revive:function(D){return new String(D)}},BooleanObject:{test:function(D){return Se.toStringTag(D)==="Boolean"&&n(D)==="object"},replace:function(D){return!!D},revive:function(D){return new Boolean(D)}},NumberObject:{test:function(D){return Se.toStringTag(D)==="Number"&&n(D)==="object"},replace:function(D){return Number(D)},revive:function(D){return new Number(D)}}},Oe=[{nan:{test:function(D){return Number.isNaN(D)},replace:function(D){return"NaN"},revive:function(D){return Number.NaN}}},{infinity:{test:function(D){return D===Number.POSITIVE_INFINITY},replace:function(D){return"Infinity"},revive:function(D){return Number.POSITIVE_INFINITY}}},{negativeInfinity:{test:function(D){return D===Number.NEGATIVE_INFINITY},replace:function(D){return"-Infinity"},revive:function(D){return Number.NEGATIVE_INFINITY}}}],ze={date:{test:function(D){return Se.toStringTag(D)==="Date"},replace:function(D){var W=D.getTime();return Number.isNaN(W)?"NaN":W},revive:function(D){return D==="NaN"?new Date(Number.NaN):new Date(D)}}},Qe={regexp:{test:function(D){return Se.toStringTag(D)==="RegExp"},replace:function(D){return{source:D.source,flags:(D.global?"g":"")+(D.ignoreCase?"i":"")+(D.multiline?"m":"")+(D.sticky?"y":"")+(D.unicode?"u":"")}},revive:function(D){var W=D.source,re=D.flags;return new RegExp(W,re)}}},yt={map:{test:function(D){return Se.toStringTag(D)==="Map"},replace:function(D){return u(D.entries())},revive:function(D){return new Map(D)}}},vt={set:{test:function(D){return Se.toStringTag(D)==="Set"},replace:function(D){return u(D.values())},revive:function(D){return new Set(D)}}},He="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",vn=new Uint8Array(256),tn=0;tn<He.length;tn++)vn[He.charCodeAt(tn)]=tn;var $n=function(D,W,re){re==null&&(re=D.byteLength);for(var ce=new Uint8Array(D,W||0,re),be=ce.length,Xe="",ct=0;ct<be;ct+=3)Xe+=He[ce[ct]>>2],Xe+=He[(3&ce[ct])<<4|ce[ct+1]>>4],Xe+=He[(15&ce[ct+1])<<2|ce[ct+2]>>6],Xe+=He[63&ce[ct+2]];return be%3==2?Xe=Xe.slice(0,-1)+"=":be%3==1&&(Xe=Xe.slice(0,-2)+"=="),Xe},or=function(D){var W,re,ce,be,Xe=D.length,ct=.75*D.length,rt=0;D[D.length-1]==="="&&(ct--,D[D.length-2]==="="&&ct--);for(var Ne=new ArrayBuffer(ct),At=new Uint8Array(Ne),It=0;It<Xe;It+=4)W=vn[D.charCodeAt(It)],re=vn[D.charCodeAt(It+1)],ce=vn[D.charCodeAt(It+2)],be=vn[D.charCodeAt(It+3)],At[rt++]=W<<2|re>>4,At[rt++]=(15&re)<<4|ce>>2,At[rt++]=(3&ce)<<6|63&be;return Ne},dn={arraybuffer:{test:function(D){return Se.toStringTag(D)==="ArrayBuffer"},replace:function(D,W){W.buffers||(W.buffers=[]);var re=W.buffers.indexOf(D);return re>-1?{index:re}:(W.buffers.push(D),$n(D))},revive:function(D,W){if(W.buffers||(W.buffers=[]),n(D)==="object")return W.buffers[D.index];var re=or(D);return W.buffers.push(re),re}}},jt=typeof self>"u"?rb:self,yn={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(V){var D=V,W=jt[D];W&&(yn[V.toLowerCase()]={test:function(ce){return Se.toStringTag(ce)===D},replace:function(ce,be){var Xe=ce.buffer,ct=ce.byteOffset,rt=ce.length;be.buffers||(be.buffers=[]);var Ne=be.buffers.indexOf(Xe);return Ne>-1?{index:Ne,byteOffset:ct,length:rt}:(be.buffers.push(Xe),{encoded:$n(Xe),byteOffset:ct,length:rt})},revive:function(ce,be){be.buffers||(be.buffers=[]);var Xe,ct=ce.byteOffset,rt=ce.length,Ne=ce.encoded,At=ce.index;return"index"in ce?Xe=be.buffers[At]:(Xe=or(Ne),be.buffers.push(Xe)),new W(Xe,ct,rt)}})});var gn={dataview:{test:function(D){return Se.toStringTag(D)==="DataView"},replace:function(D,W){var re=D.buffer,ce=D.byteOffset,be=D.byteLength;W.buffers||(W.buffers=[]);var Xe=W.buffers.indexOf(re);return Xe>-1?{index:Xe,byteOffset:ce,byteLength:be}:(W.buffers.push(re),{encoded:$n(re),byteOffset:ce,byteLength:be})},revive:function(D,W){W.buffers||(W.buffers=[]);var re,ce=D.byteOffset,be=D.byteLength,Xe=D.encoded,ct=D.index;return"index"in D?re=W.buffers[ct]:(re=or(Xe),W.buffers.push(re)),new DataView(re,ce,be)}}},Bt={IntlCollator:{test:function(D){return Se.hasConstructorOf(D,Intl.Collator)},replace:function(D){return D.resolvedOptions()},revive:function(D){return new Intl.Collator(D.locale,D)}},IntlDateTimeFormat:{test:function(D){return Se.hasConstructorOf(D,Intl.DateTimeFormat)},replace:function(D){return D.resolvedOptions()},revive:function(D){return new Intl.DateTimeFormat(D.locale,D)}},IntlNumberFormat:{test:function(D){return Se.hasConstructorOf(D,Intl.NumberFormat)},replace:function(D){return D.resolvedOptions()},revive:function(D){return new Intl.NumberFormat(D.locale,D)}}};function Et(V){for(var D=new Uint8Array(V.length),W=0;W<V.length;W++)D[W]=V.charCodeAt(W);return D.buffer}var at={file:{test:function(D){return Se.toStringTag(D)==="File"},replace:function(D){var W=new XMLHttpRequest;if(W.overrideMimeType("text/plain; charset=x-user-defined"),W.open("GET",URL.createObjectURL(D),!1),W.send(),W.status!==200&&W.status!==0)throw new Error("Bad File access: "+W.status);return{type:D.type,stringContents:W.responseText,name:D.name,lastModified:D.lastModified}},revive:function(D){var W=D.name,re=D.type,ce=D.stringContents,be=D.lastModified;return new File([Et(ce)],W,{type:re,lastModified:be})},replaceAsync:function(D){return new Se.Promise(function(W,re){var ce=new FileReader;ce.addEventListener("load",function(){W({type:D.type,stringContents:ce.result,name:D.name,lastModified:D.lastModified})}),ce.addEventListener("error",function(){re(ce.error)}),ce.readAsBinaryString(D)})}}},bt={bigint:{test:function(D){return typeof D=="bigint"},replace:function(D){return String(D)},revive:function(D){return BigInt(D)}}},Ut={bigintObject:{test:function(D){return n(D)==="object"&&Se.hasConstructorOf(D,BigInt)},replace:function(D){return String(D)},revive:function(D){return new Object(BigInt(D))}}},lt={cryptokey:{test:function(D){return Se.toStringTag(D)==="CryptoKey"&&D.extractable},replaceAsync:function(D){return new Se.Promise(function(W,re){crypto.subtle.exportKey("jwk",D).catch(function(ce){re(ce)}).then(function(ce){W({jwk:ce,algorithm:D.algorithm,usages:D.usages})})})},revive:function(D){var W=D.jwk,re=D.algorithm,ce=D.usages;return crypto.subtle.importKey("jwk",W,re,!0,ce)}}};return[Ze,ye,pe,de,Oe,ze,Qe,{imagedata:{test:function(D){return Se.toStringTag(D)==="ImageData"},replace:function(D){return{array:u(D.data),width:D.width,height:D.height}},revive:function(D){return new ImageData(new Uint8ClampedArray(D.array),D.width,D.height)}}},{imagebitmap:{test:function(D){return Se.toStringTag(D)==="ImageBitmap"||D&&D.dataset&&D.dataset.toStringTag==="ImageBitmap"},replace:function(D){var W=document.createElement("canvas");return W.getContext("2d").drawImage(D,0,0),W.toDataURL()},revive:function(D){var W=document.createElement("canvas"),re=W.getContext("2d"),ce=document.createElement("img");return ce.addEventListener("load",function(){re.drawImage(ce,0,0)}),ce.src=D,W},reviveAsync:function(D){var W=document.createElement("canvas"),re=W.getContext("2d"),ce=document.createElement("img");return ce.addEventListener("load",function(){re.drawImage(ce,0,0)}),ce.src=D,createImageBitmap(W)}}},at,{file:at.file,filelist:{test:function(D){return Se.toStringTag(D)==="FileList"},replace:function(D){for(var W=[],re=0;re<D.length;re++)W[re]=D.item(re);return W},revive:function(D){return new(function(){function W(){r(this,W),this._files=arguments[0],this.length=this._files.length}return function(ce,be,Xe){return be&&o(ce.prototype,be),Xe&&o(ce,Xe),ce}(W,[{key:"item",value:function(ce){return this._files[ce]}},{key:Symbol.toStringTag,get:function(){return"FileList"}}]),W}())(D)}}},{blob:{test:function(D){return Se.toStringTag(D)==="Blob"},replace:function(D){var W=new XMLHttpRequest;if(W.overrideMimeType("text/plain; charset=x-user-defined"),W.open("GET",URL.createObjectURL(D),!1),W.send(),W.status!==200&&W.status!==0)throw new Error("Bad Blob access: "+W.status);return{type:D.type,stringContents:W.responseText}},revive:function(D){var W=D.type,re=D.stringContents;return new Blob([Et(re)],{type:W})},replaceAsync:function(D){return new Se.Promise(function(W,re){var ce=new FileReader;ce.addEventListener("load",function(){W({type:D.type,stringContents:ce.result})}),ce.addEventListener("error",function(){re(ce.error)}),ce.readAsBinaryString(D)})}}}].concat(typeof Map=="function"?yt:[],typeof Set=="function"?vt:[],typeof ArrayBuffer=="function"?dn:[],typeof Uint8Array=="function"?yn:[],typeof DataView=="function"?gn:[],typeof Intl<"u"?Bt:[],typeof crypto<"u"?lt:[],typeof BigInt<"u"?[bt,Ut]:[])})}),Vu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Kf=new Uint8Array(256);for(var gp=0;gp<Vu.length;gp++)Kf[Vu.codePointAt(gp)]=gp;var ob=function(t,n,r){r==null&&(r=t.byteLength);for(var o=new Uint8Array(t,n||0,r),i=o.length,s="",u=0;u<i;u+=3)s+=Vu[o[u]>>2],s+=Vu[(o[u]&3)<<4|o[u+1]>>4],s+=Vu[(o[u+1]&15)<<2|o[u+2]>>6],s+=Vu[o[u+2]&63];return i%3===2?s=s.slice(0,-1)+"=":i%3===1&&(s=s.slice(0,-2)+"=="),s},rR=function(t){var n=t.length,r=t.length*.75,o=0,i,s,u,c;t[t.length-1]==="="&&(r--,t[t.length-2]==="="&&r--);for(var f=new ArrayBuffer(r),d=new Uint8Array(f),m=0;m<n;m+=4)i=Kf[t.codePointAt(m)],s=Kf[t.codePointAt(m+1)],u=Kf[t.codePointAt(m+2)],c=Kf[t.codePointAt(m+3)],d[o++]=i<<2|s>>4,d[o++]=(s&15)<<4|u>>2,d[o++]=(u&3)<<6|c&63;return f},W5=typeof self>"u"?global:self,oR={};["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"].forEach(function(e){var t=e,n=W5[t];n&&(oR[e.toLowerCase()+"2"]={test:function(r){return Sv.toStringTag(r)===t},replace:function(r){var o=r.buffer,i=r.byteOffset,s=r.length;return{buffer:o,byteOffset:i,length:s}},revive:function(r){var o=r.buffer,i=r.byteOffset,s=r.length;return new n(o,i,s)}})});var V5={arraybuffer:{test:function(e){return Sv.toStringTag(e)==="ArrayBuffer"},replace:function(e){return ob(e,0,e.byteLength)},revive:function(e){var t=rR(e);return t}}},Qo=new Sv().register(H5),G5="FileReaderSync"in self,jm=[],wy=0;Qo.register([V5,oR,{blob2:{test:function(e){return Sv.toStringTag(e)==="Blob"},replace:function(e){if(e.isClosed)throw new Error("The Blob is closed");if(G5){var t=nR(e,"binary"),n=ob(t,0,t.byteLength);return{type:e.type,data:n}}else{jm.push(e);var r={type:e.type,data:{start:wy,end:wy+e.size}};return wy+=e.size,r}},finalize:function(e,t){e.data=ob(t,0,t.byteLength)},revive:function(e){var t=e.type,n=e.data;return new Blob([rR(n)],{type:t})}}}]);Qo.mustFinalize=function(){return jm.length>0};Qo.finalize=function(e){return Is(void 0,void 0,void 0,function(){var t,n,r,o,i,s,u,c,f,d;return Oi(this,function(m){switch(m.label){case 0:return[4,tR(new Blob(jm),"binary")];case 1:if(t=m.sent(),e){for(n=0,r=e;n<r.length;n++)if(o=r[n],o.$types){i=o.$types,s=i.$,s&&(i=i.$);for(u in i)c=i[u],f=Qo.types[c],f&&f.finalize&&(d=sn.getByKeyPath(o,s?"$."+u:u),f.finalize(d,t.slice(d.start,d.end)))}}return jm=[],[2]}})})};var q5=2e3;function iR(e,t){return Is(this,void 0,void 0,function(){function n(){return Is(this,void 0,void 0,function(){var m,g,x,y,_,P,k,C,S,A;return Oi(this,function(K){switch(K.label){case 0:return[4,Promise.all(o.map(function(O){return O.count()}))];case 1:m=K.sent(),m.forEach(function(O,L){return s[L].rowCount=O}),d.totalRows=m.reduce(function(O,L){return O+L}),g=JSON.stringify(c,void 0,u?2:void 0),x=g.lastIndexOf("]"),y=g.substring(0,x),i.push(y),_=t.filter,P=t.transform,k=function(O){var L,X,F,N,q,U,te,ue,ke,Be,Ve,ve;return Oi(this,function(Fe){switch(Fe.label){case 0:L=e.table(O),X=L.schema.primKey,F=!!X.keyPath,N=t.numRowsPerChunk||q5,q=F?{tableName:L.name,inbound:!0,rows:[]}:{tableName:L.name,inbound:!1,rows:[]},U=JSON.stringify(q,void 0,u?2:void 0),u&&(U=U.split(`
`).join(`
    `)),te=U.lastIndexOf("]"),i.push(U.substring(0,te)),ue=null,ke=0,Be=!0,Ve=function(){var Ce,Ke,me,Ge,Se,ye,Re,Ze,pe,ye;return Oi(this,function(de){switch(de.label){case 0:return f&&sn.ignoreTransaction(function(){return f(d)}),Ce=ue==null?L.limit(N):L.where(":id").above(ue).limit(N),[4,Ce.toArray()];case 1:return Ke=de.sent(),Ke.length===0?[2,"break"]:(ue!=null&&ke>0&&(i.push(","),u&&i.push(`
      `)),Be=Ke.length===N,F?(me=_?Ke.filter(function(Oe){return _(O,Oe)}):Ke,Ge=P?me.map(function(Oe){return P(O,Oe).value}):me,Se=Ge.map(function(Oe){return Qo.encapsulate(Oe)}),Qo.mustFinalize()?[4,sn.waitFor(Qo.finalize(Se))]:[3,3]):[3,4]);case 2:de.sent(),de.label=3;case 3:return ye=JSON.stringify(Se,void 0,u?2:void 0),u&&(ye=ye.split(`
`).join(`
      `)),i.push(new Blob([ye.substring(1,ye.length-1)])),ke=Ge.length,ue=Ke.length>0?sn.getByKeyPath(Ke[Ke.length-1],X.keyPath):null,[3,8];case 4:return[4,Ce.primaryKeys()];case 5:return Re=de.sent(),Ze=Re.map(function(Oe,ze){return[Oe,Ke[ze]]}),_&&(Ze=Ze.filter(function(Oe){var ze=Oe[0],Qe=Oe[1];return _(O,Qe,ze)})),P&&(Ze=Ze.map(function(Oe){var ze=Oe[0],Qe=Oe[1],yt=P(O,Qe,ze);return[yt.key,yt.value]})),pe=Ze.map(function(Oe){return Qo.encapsulate(Oe)}),Qo.mustFinalize()?[4,sn.waitFor(Qo.finalize(pe))]:[3,7];case 6:de.sent(),de.label=7;case 7:ye=JSON.stringify(pe,void 0,u?2:void 0),u&&(ye=ye.split(`
`).join(`
      `)),i.push(new Blob([ye.substring(1,ye.length-1)])),ke=Ze.length,ue=Re.length>0?Re[Re.length-1]:null,de.label=8;case 8:return d.completedRows+=Ke.length,[2]}})},Fe.label=1;case 1:return Be?[5,Ve()]:[3,3];case 2:return ve=Fe.sent(),ve==="break"?[3,3]:[3,1];case 3:return i.push(U.substr(te)),d.completedTables+=1,d.completedTables<d.totalTables&&i.push(","),[2]}})},C=0,S=s,K.label=2;case 2:return C<S.length?(A=S[C].name,[5,k(A)]):[3,5];case 3:K.sent(),K.label=4;case 4:return C++,[3,2];case 5:return i.push(g.substr(x)),d.done=!0,f&&sn.ignoreTransaction(function(){return f(d)}),[2]}})})}var r,o,i,s,u,c,f,d;return Oi(this,function(m){switch(m.label){case 0:t=t||{},r=t.skipTables?t.skipTables:[],o=e.tables.filter(function(g){return!r.includes(g.name)}),i=[],s=o.map(function(g){return{name:g.name,schema:U5(g),rowCount:0}}),u=t.prettyJson,c={formatName:"dexie",formatVersion:1,data:{databaseName:e.name,databaseVersion:e.verno,tables:s,data:[]}},f=t.progressCallback,d={done:!1,completedRows:0,completedTables:0,totalRows:NaN,totalTables:s.length},m.label=1;case 1:return m.trys.push([1,,6,7]),t.noTransaction?[4,n()]:[3,3];case 2:return m.sent(),[3,5];case 3:return[4,e.transaction("r",e.tables,n)];case 4:m.sent(),m.label=5;case 5:return[3,7];case 6:return Qo.finalize(),[7];case 7:return[2,new Blob(i,{type:"text/json"})]}})})}var Y5=1,X5={Stream:function(){}},J5=l1(function(e,t){(function(n){var r=typeof process=="object"&&__?__:self;n.parser=function(F){return new x(F)},n.CParser=x,n.CStream=_,n.createStream=y,n.MAX_BUFFER_LENGTH=10*1024*1024,n.DEBUG=r.CDEBUG==="debug",n.INFO=r.CDEBUG==="debug"||r.CDEBUG==="info",n.EVENTS=["value","string","key","openobject","closeobject","openarray","closearray","error","end","ready"];var o={textNode:void 0,numberNode:""},i=n.EVENTS.filter(function(F){return F!=="error"&&F!=="end"}),s=0,u;n.STATE={BEGIN:s++,VALUE:s++,OPEN_OBJECT:s++,CLOSE_OBJECT:s++,OPEN_ARRAY:s++,CLOSE_ARRAY:s++,TEXT_ESCAPE:s++,STRING:s++,BACKSLASH:s++,END:s++,OPEN_KEY:s++,CLOSE_KEY:s++,TRUE:s++,TRUE2:s++,TRUE3:s++,FALSE:s++,FALSE2:s++,FALSE3:s++,FALSE4:s++,NULL:s++,NULL2:s++,NULL3:s++,NUMBER_DECIMAL_POINT:s++,NUMBER_DIGIT:s++};for(var c in n.STATE)n.STATE[n.STATE[c]]=c;s=n.STATE;const f={tab:9,lineFeed:10,carriageReturn:13,space:32,doubleQuote:34,plus:43,comma:44,minus:45,period:46,_0:48,_9:57,colon:58,E:69,openBracket:91,backslash:92,closeBracket:93,a:97,b:98,e:101,f:102,l:108,n:110,r:114,s:115,t:116,u:117,openBrace:123,closeBrace:125};Object.create||(Object.create=function(F){function N(){this.__proto__=F}return N.prototype=F,new N}),Object.getPrototypeOf||(Object.getPrototypeOf=function(F){return F.__proto__}),Object.keys||(Object.keys=function(F){var N=[];for(var q in F)F.hasOwnProperty(q)&&N.push(q);return N});function d(F){var N=Math.max(n.MAX_BUFFER_LENGTH,10),q=0;for(var U in o){var te=F[U]===void 0?0:F[U].length;if(te>N)switch(U){case"text":closeText(F);break;default:K(F,"Max buffer length exceeded: "+U)}q=Math.max(q,te)}F.bufferCheckPosition=n.MAX_BUFFER_LENGTH-q+F.position}function m(F){for(var N in o)F[N]=o[N]}var g=/[\\"\n]/g;function x(F){if(!(this instanceof x))return new x(F);var N=this;m(N),N.bufferCheckPosition=n.MAX_BUFFER_LENGTH,N.q=N.c=N.p="",N.opt=F||{},N.closed=N.closedRoot=N.sawRoot=!1,N.tag=N.error=null,N.state=s.BEGIN,N.stack=new Array,N.position=N.column=0,N.line=1,N.slashed=!1,N.unicodeI=0,N.unicodeS=null,N.depth=0,P(N,"onready")}x.prototype={end:function(){O(this)},write:X,resume:function(){return this.error=null,this},close:function(){return this.write(null)}};try{u=X5.Stream}catch{u=function(){}}function y(F){return new _(F)}function _(F){if(!(this instanceof _))return new _(F);this._parser=new x(F),this.writable=!0,this.readable=!0,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.string="";var N=this;u.apply(N),this._parser.onend=function(){N.emit("end")},this._parser.onerror=function(q){N.emit("error",q),N._parser.error=null},i.forEach(function(q){Object.defineProperty(N,"on"+q,{get:function(){return N._parser["on"+q]},set:function(U){if(!U)return N.removeAllListeners(q),N._parser["on"+q]=U,U;N.on(q,U)},enumerable:!0,configurable:!1})})}_.prototype=Object.create(u.prototype,{constructor:{value:_}}),_.prototype.write=function(F){F=new Buffer(F);for(var N=0;N<F.length;N++){var q=F[N];if(this.bytes_remaining>0){for(var U=0;U<this.bytes_remaining;U++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+U]=F[U];this.string=this.temp_buffs[this.bytes_in_sequence].toString(),this.bytes_in_sequence=this.bytes_remaining=0,N=N+U-1,this._parser.write(this.string),this.emit("data",this.string);continue}if(this.bytes_remaining===0&&q>=128)if(q>=194&&q<=223&&(this.bytes_in_sequence=2),q>=224&&q<=239&&(this.bytes_in_sequence=3),q>=240&&q<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+N>F.length){for(var te=0;te<=F.length-1-N;te++)this.temp_buffs[this.bytes_in_sequence][te]=F[N+te];return this.bytes_remaining=N+this.bytes_in_sequence-F.length,!0}else{this.string=F.slice(N,N+this.bytes_in_sequence).toString(),N=N+this.bytes_in_sequence-1,this._parser.write(this.string),this.emit("data",this.string);continue}for(var ue=N;ue<F.length&&!(F[ue]>=128);ue++);this.string=F.slice(N,ue).toString(),this._parser.write(this.string),this.emit("data",this.string),N=ue-1}},_.prototype.end=function(F){return F&&F.length&&this._parser.write(F.toString()),this._parser.end(),!0},_.prototype.on=function(F,N){var q=this;return!q._parser["on"+F]&&i.indexOf(F)!==-1&&(q._parser["on"+F]=function(){var U=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);U.splice(0,0,F),q.emit.apply(q,U)}),u.prototype.on.call(q,F,N)},_.prototype.destroy=function(){m(this._parser),this.emit("close")};function P(F,N,q){n.INFO&&console.log("-- emit",N,q),F[N]&&F[N](q)}function k(F,N,q){C(F),P(F,N,q)}function C(F,N){F.textNode=A(F.opt,F.textNode),F.textNode!==void 0&&P(F,N||"onvalue",F.textNode),F.textNode=void 0}function S(F){F.numberNode&&P(F,"onvalue",parseFloat(F.numberNode)),F.numberNode=""}function A(F,N){return N===void 0||(F.trim&&(N=N.trim()),F.normalize&&(N=N.replace(/\s+/g," "))),N}function K(F,N){return C(F),N+=`
Line: `+F.line+`
Column: `+F.column+`
Char: `+F.c,N=new Error(N),F.error=N,P(F,"onerror",N),F}function O(F){return(F.state!==s.VALUE||F.depth!==0)&&K(F,"Unexpected end"),C(F),F.c="",F.closed=!0,P(F,"onend"),x.call(F,F.opt),F}function L(F){return F===f.carriageReturn||F===f.lineFeed||F===f.space||F===f.tab}function X(F){var N=this;if(this.error)throw this.error;if(N.closed)return K(N,"Cannot write after close. Assign an onready handler.");if(F===null)return O(N);var q=0,U=F.charCodeAt(0),te=N.p;for(n.DEBUG&&console.log("write -> ["+F+"]");U&&(te=U,N.c=U=F.charCodeAt(q++),te!==U?N.p=te:te=N.p,!!U);)switch(n.DEBUG&&console.log(q,U,n.STATE[N.state]),N.position++,U===f.lineFeed?(N.line++,N.column=0):N.column++,N.state){case s.BEGIN:U===f.openBrace?N.state=s.OPEN_OBJECT:U===f.openBracket?N.state=s.OPEN_ARRAY:L(U)||K(N,"Non-whitespace before {[.");continue;case s.OPEN_KEY:case s.OPEN_OBJECT:if(L(U))continue;if(N.state===s.OPEN_KEY)N.stack.push(s.CLOSE_KEY);else if(U===f.closeBrace){P(N,"onopenobject"),this.depth++,P(N,"oncloseobject"),this.depth--,N.state=N.stack.pop()||s.VALUE;continue}else N.stack.push(s.CLOSE_OBJECT);U===f.doubleQuote?N.state=s.STRING:K(N,'Malformed object key should start with "');continue;case s.CLOSE_KEY:case s.CLOSE_OBJECT:if(L(U))continue;N.state,s.CLOSE_KEY,U===f.colon?(N.state===s.CLOSE_OBJECT?(N.stack.push(s.CLOSE_OBJECT),C(N,"onopenobject"),this.depth++):C(N,"onkey"),N.state=s.VALUE):U===f.closeBrace?(k(N,"oncloseobject"),this.depth--,N.state=N.stack.pop()||s.VALUE):U===f.comma?(N.state===s.CLOSE_OBJECT&&N.stack.push(s.CLOSE_OBJECT),C(N),N.state=s.OPEN_KEY):K(N,"Bad object");continue;case s.OPEN_ARRAY:case s.VALUE:if(L(U))continue;if(N.state===s.OPEN_ARRAY)if(P(N,"onopenarray"),this.depth++,N.state=s.VALUE,U===f.closeBracket){P(N,"onclosearray"),this.depth--,N.state=N.stack.pop()||s.VALUE;continue}else N.stack.push(s.CLOSE_ARRAY);U===f.doubleQuote?N.state=s.STRING:U===f.openBrace?N.state=s.OPEN_OBJECT:U===f.openBracket?N.state=s.OPEN_ARRAY:U===f.t?N.state=s.TRUE:U===f.f?N.state=s.FALSE:U===f.n?N.state=s.NULL:U===f.minus?N.numberNode+="-":f._0<=U&&U<=f._9?(N.numberNode+=String.fromCharCode(U),N.state=s.NUMBER_DIGIT):K(N,"Bad value");continue;case s.CLOSE_ARRAY:if(U===f.comma)N.stack.push(s.CLOSE_ARRAY),C(N,"onvalue"),N.state=s.VALUE;else if(U===f.closeBracket)k(N,"onclosearray"),this.depth--,N.state=N.stack.pop()||s.VALUE;else{if(L(U))continue;K(N,"Bad array")}continue;case s.STRING:N.textNode===void 0&&(N.textNode="");var ue=q-1,ke=N.slashed,Be=N.unicodeI;e:for(;;){for(n.DEBUG&&console.log(q,U,n.STATE[N.state],ke);Be>0;)if(N.unicodeS+=String.fromCharCode(U),U=F.charCodeAt(q++),N.position++,Be===4?(N.textNode+=String.fromCharCode(parseInt(N.unicodeS,16)),Be=0,ue=q-1):Be++,!U)break e;if(U===f.doubleQuote&&!ke){N.state=N.stack.pop()||s.VALUE,N.textNode+=F.substring(ue,q-1),N.position+=q-1-ue;break}if(U===f.backslash&&!ke&&(ke=!0,N.textNode+=F.substring(ue,q-1),N.position+=q-1-ue,U=F.charCodeAt(q++),N.position++,!U))break;if(ke){if(ke=!1,U===f.n?N.textNode+=`
`:U===f.r?N.textNode+="\r":U===f.t?N.textNode+="	":U===f.f?N.textNode+="\f":U===f.b?N.textNode+="\b":U===f.u?(Be=1,N.unicodeS=""):N.textNode+=String.fromCharCode(U),U=F.charCodeAt(q++),N.position++,ue=q-1,U)continue;break}g.lastIndex=q;var Ve=g.exec(F);if(Ve===null){q=F.length+1,N.textNode+=F.substring(ue,q-1),N.position+=q-1-ue;break}if(q=Ve.index+1,U=F.charCodeAt(Ve.index),!U){N.textNode+=F.substring(ue,q-1),N.position+=q-1-ue;break}}N.slashed=ke,N.unicodeI=Be;continue;case s.TRUE:U===f.r?N.state=s.TRUE2:K(N,"Invalid true started with t"+U);continue;case s.TRUE2:U===f.u?N.state=s.TRUE3:K(N,"Invalid true started with tr"+U);continue;case s.TRUE3:U===f.e?(P(N,"onvalue",!0),N.state=N.stack.pop()||s.VALUE):K(N,"Invalid true started with tru"+U);continue;case s.FALSE:U===f.a?N.state=s.FALSE2:K(N,"Invalid false started with f"+U);continue;case s.FALSE2:U===f.l?N.state=s.FALSE3:K(N,"Invalid false started with fa"+U);continue;case s.FALSE3:U===f.s?N.state=s.FALSE4:K(N,"Invalid false started with fal"+U);continue;case s.FALSE4:U===f.e?(P(N,"onvalue",!1),N.state=N.stack.pop()||s.VALUE):K(N,"Invalid false started with fals"+U);continue;case s.NULL:U===f.u?N.state=s.NULL2:K(N,"Invalid null started with n"+U);continue;case s.NULL2:U===f.l?N.state=s.NULL3:K(N,"Invalid null started with nu"+U);continue;case s.NULL3:U===f.l?(P(N,"onvalue",null),N.state=N.stack.pop()||s.VALUE):K(N,"Invalid null started with nul"+U);continue;case s.NUMBER_DECIMAL_POINT:U===f.period?(N.numberNode+=".",N.state=s.NUMBER_DIGIT):K(N,"Leading zero not followed by .");continue;case s.NUMBER_DIGIT:f._0<=U&&U<=f._9?N.numberNode+=String.fromCharCode(U):U===f.period?(N.numberNode.indexOf(".")!==-1&&K(N,"Invalid number has two dots"),N.numberNode+="."):U===f.e||U===f.E?((N.numberNode.indexOf("e")!==-1||N.numberNode.indexOf("E")!==-1)&&K(N,"Invalid number has two exponential"),N.numberNode+="e"):U===f.plus||U===f.minus?(te===f.e||te===f.E||K(N,"Invalid symbol in number"),N.numberNode+=String.fromCharCode(U)):(S(N),q--,N.state=N.stack.pop()||s.VALUE);continue;default:K(N,"Unknown state: "+N.state)}return N.position>=N.bufferCheckPosition&&d(N),N}})(t)});function Q5(e){var t=0,n=Z5(!0),r={pullAsync:function(o){return Is(this,void 0,void 0,function(){var i,s,u;return Oi(this,function(c){switch(c.label){case 0:return i=e.slice(t,t+o),t+=o,[4,tR(i,"text")];case 1:return s=c.sent(),u=n.write(s),r.result=u||{},[2,u]}})})},pullSync:function(o){var i=e.slice(t,t+o);t+=o;var s=nR(i,"text"),u=n.write(s);return r.result=u||{},u},done:function(){return n.done()},eof:function(){return t>=e.size},result:{}};return r}function Z5(e){var t=J5.parser(),n=0,r,o=[],i,s,u=!1,c=!1;return t.onopenobject=function(f){var d={};d.incomplete=!0,r||(r=d),i&&(o.push([s,i,c]),e&&(c?i.push(d):i[s]=d)),i=d,s=f,c=!1,++n},t.onkey=function(f){return s=f},t.onvalue=function(f){return c?i.push(f):i[s]=f},t.oncloseobject=function(){var f;if(delete i.incomplete,s=null,--n===0)u=!0;else{var d=i;f=o.pop(),s=f[0],i=f[1],c=f[2],e||(c?i.push(d):i[s]=d)}},t.onopenarray=function(){var f=[];f.incomplete=!0,r||(r=f),i&&(o.push([s,i,c]),e&&(c?i.push(f):i[s]=f)),i=f,c=!0,s=null,++n},t.onclosearray=function(){var f;if(delete i.incomplete,s=null,--n===0)u=!0;else{var d=i;f=o.pop(),s=f[0],i=f[1],c=f[2],e||(c?i.push(d):i[s]=d)}},{write:function(f){return t.write(f),r},done:function(){return u}}}var aR=1024;function e8(e,t){return Is(this,void 0,void 0,function(){var n,r,o,i;return Oi(this,function(s){switch(s.label){case 0:return t=t||{},n=t.chunkSizeBytes||aR*1024,[4,sR(e,n)];case 1:return r=s.sent(),o=r.result.data,i=new sn(o.databaseName),i.version(o.databaseVersion).stores(K5(o)),[4,u1(i,r,t)];case 2:return s.sent(),[2,i]}})})}function u1(e,t,n){return Is(this,void 0,void 0,function(){function r(){return Is(this,void 0,void 0,function(){var _,P,k,C,S;return Oi(this,function(A){switch(A.label){case 0:_=function(K){var O,L,X,F,N,q,U,te,ue,ke,Be,Ve,ve;return Oi(this,function(Fe){switch(Fe.label){case 0:if(f.includes(K.tableName))return[2,"continue"];if(!K.rows)return[2,"break"];if(!K.rows.incomplete&&K.rows.length===0)return[2,"continue"];if(d&&sn.ignoreTransaction(function(){return d(m)}),O=K.tableName,L=e.table(O),X=c.tables.filter(function(Ce){return Ce.name===O})[0].schema,!L){if(n.acceptMissingTables)return[2,"continue"];throw new Error("Exported table ".concat(K.tableName," is missing in installed database"))}if(!n.acceptChangedPrimaryKey&&X.split(",")[0]!=L.schema.primKey.src)throw new Error("Primary key differs for table ".concat(K.tableName,". "));for(F=K.rows,N=[],q=0;q<F.length&&(U=F[q],!U.incomplete);q++)N.push(Qo.revive(U));return te=n.filter,ue=n.transform,ke=te?K.inbound?N.filter(function(Ce){return te(O,Ce)}):N.filter(function(Ce){var Ke=Ce[0],me=Ce[1];return te(O,me,Ke)}):N,ue&&(ke=ke.map(K.inbound?function(Ce){return ue(O,Ce).value}:function(Ce){var Ke=Ce[0],me=Ce[1],Ge=ue(O,me,Ke);return[Ge.key,Ge.value]})),Be=K.inbound?[void 0,ke]:[ke.map(function(Ce){return Ce[0]}),N.map(function(Ce){return Ce[1]})],Ve=Be[0],ve=Be[1],n.overwriteValues?[4,L.bulkPut(ve,Ve)]:[3,2];case 1:return Fe.sent(),[3,4];case 2:return[4,L.bulkAdd(ve,Ve)];case 3:Fe.sent(),Fe.label=4;case 4:return m.completedRows+=N.length,N.incomplete||(m.completedTables+=1),F.splice(0,N.length),[2]}})},P=0,k=c.data,A.label=1;case 1:return P<k.length?(C=k[P],[5,_(C)]):[3,4];case 2:if(S=A.sent(),S==="break")return[3,4];A.label=3;case 3:return P++,[3,1];case 4:for(;c.data.length>0&&c.data[0].rows&&!c.data[0].rows.incomplete;)c.data.splice(0,1);return!i.done()&&!i.eof()?u?(i.pullSync(o),[3,7]):[3,5]:[3,8];case 5:return[4,sn.waitFor(i.pullAsync(o))];case 6:A.sent(),A.label=7;case 7:return[3,9];case 8:return[3,10];case 9:return[3,0];case 10:return[2]}})})}var o,i,s,u,c,f,d,m,g,x,y;return Oi(this,function(_){switch(_.label){case 0:return n=n||{},o=n.chunkSizeBytes||aR*1024,[4,sR(t,o)];case 1:if(i=_.sent(),s=i.result,u="FileReaderSync"in self,c=s.data,f=n.skipTables?n.skipTables:[],!n.acceptNameDiff&&e.name!==c.databaseName)throw new Error("Name differs. Current database name is ".concat(e.name," but export is ").concat(c.databaseName));if(!n.acceptVersionDiff&&e.verno!==c.databaseVersion)throw new Error("Database version differs. Current database is in version ".concat(e.verno," but export is ").concat(c.databaseVersion));if(d=n.progressCallback,m={done:!1,completedRows:0,completedTables:0,totalRows:c.tables.reduce(function(P,k){return P+k.rowCount},0),totalTables:c.tables.length},d&&sn.ignoreTransaction(function(){return d(m)}),!n.clearTablesBeforeImport)return[3,5];g=0,x=e.tables,_.label=2;case 2:return g<x.length?(y=x[g],f.includes(y.name)?[3,4]:[4,y.clear()]):[3,5];case 3:_.sent(),_.label=4;case 4:return g++,[3,2];case 5:return n.noTransaction?[4,r()]:[3,7];case 6:return _.sent(),[3,9];case 7:return[4,e.transaction("rw",e.tables,r)];case 8:_.sent(),_.label=9;case 9:return m.done=!0,d&&sn.ignoreTransaction(function(){return d(m)}),[2]}})})}function sR(e,t){return Is(this,void 0,void 0,function(){var n,r;return Oi(this,function(o){switch(o.label){case 0:n="slice"in e?Q5(e):e,o.label=1;case 1:return n.eof()?[3,3]:[4,n.pullAsync(t)];case 2:return o.sent(),n.result.data&&n.result.data.data?[3,3]:[3,1];case 3:if(r=n.result,!r||r.formatName!="dexie")throw new Error("Given file is not a dexie export");if(r.formatVersion>Y5)throw new Error("Format version ".concat(r.formatVersion," not supported"));if(!r.data)throw new Error("No data in export file");if(!r.data.databaseName)throw new Error("Missing databaseName in export file");if(!r.data.databaseVersion)throw new Error("Missing databaseVersion in export file");if(!r.data.tables)throw new Error("Missing tables in export file");return[2,n]}})})}sn.prototype.export=function(e){return iR(this,e)};sn.prototype.import=function(e,t){return u1(this,e,t)};sn.import=function(e,t){return e8(e,t)};var ib=function(e,t){return ib=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},ib(e,t)};function Ha(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ib(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function t8(e,t,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function u(d){try{f(r.next(d))}catch(m){s(m)}}function c(d){try{f(r.throw(d))}catch(m){s(m)}}function f(d){d.done?i(d.value):o(d.value).then(u,c)}f((r=r.apply(e,t||[])).next())})}function lR(e,t){var n={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},r,o,i,s;return s={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function u(f){return function(d){return c([f,d])}}function c(f){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,f[0]&&(n=0)),n;)try{if(r=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,o=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(i=n.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){n.label=f[1];break}if(f[0]===6&&n.label<i[1]){n.label=i[1],i=f;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(f);break}i[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(d){f=[6,d],o=0}finally{r=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function yc(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bl(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],s;try{for(;(t===void 0||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(u){s={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i}function bc(e,t,n){if(n||arguments.length===2)for(var r=0,o=t.length,i;r<o;r++)(i||!(r in t))&&(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function ec(e){return this instanceof ec?(this.v=e,this):new ec(e)}function n8(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o={},s("next"),s("throw"),s("return"),o[Symbol.asyncIterator]=function(){return this},o;function s(g){r[g]&&(o[g]=function(x){return new Promise(function(y,_){i.push([g,x,y,_])>1||u(g,x)})})}function u(g,x){try{c(r[g](x))}catch(y){m(i[0][3],y)}}function c(g){g.value instanceof ec?Promise.resolve(g.value.v).then(f,d):m(i[0][2],g)}function f(g){u("next",g)}function d(g){u("throw",g)}function m(g,x){g(x),i.shift(),i.length&&u(i[0][0],i[0][1])}}function r8(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof yc=="function"?yc(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(i){n[i]=e[i]&&function(s){return new Promise(function(u,c){s=e[i](s),o(u,c,s.done,s.value)})}}function o(i,s,u,c){Promise.resolve(c).then(function(f){i({value:f,done:u})},s)}}function Pn(e){return typeof e=="function"}function c1(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Ey=c1(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,o){return o+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Am(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var jc=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,o,i;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var u=yc(s),c=u.next();!c.done;c=u.next()){var f=c.value;f.remove(this)}}catch(_){t={error:_}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}else s.remove(this);var d=this.initialTeardown;if(Pn(d))try{d()}catch(_){i=_ instanceof Ey?_.errors:[_]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var g=yc(m),x=g.next();!x.done;x=g.next()){var y=x.value;try{k_(y)}catch(_){i=i??[],_ instanceof Ey?i=bc(bc([],Bl(i)),Bl(_.errors)):i.push(_)}}}catch(_){r={error:_}}finally{try{x&&!x.done&&(o=g.return)&&o.call(g)}finally{if(r)throw r.error}}}if(i)throw new Ey(i)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)k_(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Am(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Am(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}(),uR=jc.EMPTY;function cR(e){return e instanceof jc||e&&"closed"in e&&Pn(e.remove)&&Pn(e.add)&&Pn(e.unsubscribe)}function k_(e){Pn(e)?e():e.unsubscribe()}var fR={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},dR={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,bc([e,t],Bl(n)))},clearTimeout:function(e){var t=dR.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(e)},delegate:void 0};function hR(e){dR.setTimeout(function(){throw e})}function P_(){}function Gp(e){e()}var f1=function(e){Ha(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,cR(n)&&n.add(r)):r.destination=s8,r}return t.create=function(n,r,o){return new wc(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(jc),o8=Function.prototype.bind;function xy(e,t){return o8.call(e,t)}var i8=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){yp(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){yp(r)}else yp(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){yp(n)}},e}(),wc=function(e){Ha(t,e);function t(n,r,o){var i=e.call(this)||this,s;if(Pn(n)||!n)s={next:n??void 0,error:r??void 0,complete:o??void 0};else{var u;i&&fR.useDeprecatedNextContext?(u=Object.create(n),u.unsubscribe=function(){return i.unsubscribe()},s={next:n.next&&xy(n.next,u),error:n.error&&xy(n.error,u),complete:n.complete&&xy(n.complete,u)}):s=n}return i.destination=new i8(s),i}return t}(f1);function yp(e){hR(e)}function a8(e){throw e}var s8={closed:!0,next:P_,error:a8,complete:P_},d1=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function _v(e){return e}function l8(e){return e.length===0?_v:e.length===1?e[0]:function(n){return e.reduce(function(r,o){return o(r)},n)}}var Sr=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o=this,i=c8(t)?t:new wc(t,n,r);return Gp(function(){var s=o,u=s.operator,c=s.source;i.add(u?u.call(i,c):c?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=C_(n),new n(function(o,i){var s=new wc({next:function(u){try{t(u)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[d1]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return l8(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=C_(t),new t(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function C_(e){var t;return(t=e??fR.Promise)!==null&&t!==void 0?t:Promise}function u8(e){return e&&Pn(e.next)&&Pn(e.error)&&Pn(e.complete)}function c8(e){return e&&e instanceof f1||u8(e)&&cR(e)}function f8(e){return Pn(e==null?void 0:e.lift)}function Ac(e){return function(t){if(f8(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ec(e,t,n,r,o){return new d8(e,t,n,r,o)}var d8=function(e){Ha(t,e);function t(n,r,o,i,s,u){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=u,c._next=r?function(f){try{r(f)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(f){try{i(f)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._complete,c}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(f1),h8=c1(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),eh=function(e){Ha(t,e);function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return t.prototype.lift=function(n){var r=new T_(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new h8},t.prototype.next=function(n){var r=this;Gp(function(){var o,i;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var s=yc(r.currentObservers),u=s.next();!u.done;u=s.next()){var c=u.value;c.next(n)}}catch(f){o={error:f}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}}})},t.prototype.error=function(n){var r=this;Gp(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var o=r.observers;o.length;)o.shift().error(n)}})},t.prototype.complete=function(){var n=this;Gp(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,o=this,i=o.hasError,s=o.isStopped,u=o.observers;return i||s?uR:(this.currentObservers=null,u.push(n),new jc(function(){r.currentObservers=null,Am(u,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,o=r.hasError,i=r.thrownError,s=r.isStopped;o?n.error(i):s&&n.complete()},t.prototype.asObservable=function(){var n=new Sr;return n.source=this,n},t.create=function(n,r){return new T_(n,r)},t}(Sr),T_=function(e){Ha(t,e);function t(n,r){var o=e.call(this)||this;return o.destination=n,o.source=r,o}return t.prototype.next=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.next)===null||o===void 0||o.call(r,n)},t.prototype.error=function(n){var r,o;(o=(r=this.destination)===null||r===void 0?void 0:r.error)===null||o===void 0||o.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,o;return(o=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&o!==void 0?o:uR},t}(eh),Ti=function(e){Ha(t,e);function t(n){var r=e.call(this)||this;return r._value=n,r}return Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,o=n.thrownError,i=n._value;if(r)throw o;return this._throwIfClosed(),i},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(eh),p8={now:function(){return Date.now()},delegate:void 0},m8=function(e){Ha(t,e);function t(n,r){return e.call(this)||this}return t.prototype.schedule=function(n,r){return this},t}(jc),ab={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setInterval.apply(void 0,bc([e,t],Bl(n)))},clearInterval:function(e){var t=ab.delegate;return((t==null?void 0:t.clearInterval)||clearInterval)(e)},delegate:void 0},v8=function(e){Ha(t,e);function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return t.prototype.schedule=function(n,r){var o;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,r)),this.pending=!0,this.delay=r,this.id=(o=this.id)!==null&&o!==void 0?o:this.requestAsyncId(s,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),ab.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;r!=null&&ab.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o=!1,i;try{this.work(n)}catch(s){o=!0,i=s||new Error("Scheduled action threw falsy error")}if(o)return this.unsubscribe(),i},t.prototype.unsubscribe=function(){if(!this.closed){var n=this,r=n.id,o=n.scheduler,i=o.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Am(i,this),r!=null&&(this.id=this.recycleAsyncId(o,r,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(m8),N_=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=p8.now,e}(),g8=function(e){Ha(t,e);function t(n,r){r===void 0&&(r=N_.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o}return t.prototype.flush=function(n){var r=this.actions;if(this._active){r.push(n);return}var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}},t}(N_),y8=new g8(v8),b8=y8,w8=new Sr(function(e){return e.complete()});function pR(e){return e&&Pn(e.schedule)}function h1(e){return e[e.length-1]}function E8(e){return Pn(h1(e))?e.pop():void 0}function p1(e){return pR(h1(e))?e.pop():void 0}function x8(e,t){return typeof h1(e)=="number"?e.pop():t}var m1=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function mR(e){return Pn(e==null?void 0:e.then)}function vR(e){return Pn(e[d1])}function gR(e){return Symbol.asyncIterator&&Pn(e==null?void 0:e[Symbol.asyncIterator])}function yR(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function S8(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bR=S8();function wR(e){return Pn(e==null?void 0:e[bR])}function ER(e){return n8(this,arguments,function(){var n,r,o,i;return lR(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,ec(n.read())];case 3:return r=s.sent(),o=r.value,i=r.done,i?[4,ec(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,ec(o)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function xR(e){return Pn(e==null?void 0:e.getReader)}function Wa(e){if(e instanceof Sr)return e;if(e!=null){if(vR(e))return _8(e);if(m1(e))return k8(e);if(mR(e))return P8(e);if(gR(e))return SR(e);if(wR(e))return C8(e);if(xR(e))return T8(e)}throw yR(e)}function _8(e){return new Sr(function(t){var n=e[d1]();if(Pn(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function k8(e){return new Sr(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function P8(e){return new Sr(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,hR)})}function C8(e){return new Sr(function(t){var n,r;try{for(var o=yc(e),i=o.next();!i.done;i=o.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(u){n={error:u}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}t.complete()})}function SR(e){return new Sr(function(t){N8(e,t).catch(function(n){return t.error(n)})})}function T8(e){return SR(ER(e))}function N8(e,t){var n,r,o,i;return t8(this,void 0,void 0,function(){var s,u;return lR(this,function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),n=r8(e),c.label=1;case 1:return[4,n.next()];case 2:if(r=c.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=c.sent(),o={error:u},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(i=n.return)?[4,i.call(n)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Aa(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function _R(e,t){return t===void 0&&(t=0),Ac(function(n,r){n.subscribe(Ec(r,function(o){return Aa(r,e,function(){return r.next(o)},t)},function(){return Aa(r,e,function(){return r.complete()},t)},function(o){return Aa(r,e,function(){return r.error(o)},t)}))})}function kR(e,t){return t===void 0&&(t=0),Ac(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function O8(e,t){return Wa(e).pipe(kR(t),_R(t))}function R8(e,t){return Wa(e).pipe(kR(t),_R(t))}function j8(e,t){return new Sr(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function A8(e,t){return new Sr(function(n){var r;return Aa(n,t,function(){r=e[bR](),Aa(n,t,function(){var o,i,s;try{o=r.next(),i=o.value,s=o.done}catch(u){n.error(u);return}s?n.complete():n.next(i)},0,!0)}),function(){return Pn(r==null?void 0:r.return)&&r.return()}})}function PR(e,t){if(!e)throw new Error("Iterable cannot be null");return new Sr(function(n){Aa(n,t,function(){var r=e[Symbol.asyncIterator]();Aa(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function I8(e,t){return PR(ER(e),t)}function D8(e,t){if(e!=null){if(vR(e))return O8(e,t);if(m1(e))return j8(e,t);if(mR(e))return R8(e,t);if(gR(e))return PR(e,t);if(wR(e))return A8(e,t);if(xR(e))return I8(e,t)}throw yR(e)}function na(e,t){return t?D8(e,t):Wa(e)}function Ia(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p1(e);return na(e,n)}function O_(e,t){var n=Pn(e)?e:function(){return e},r=function(o){return o.error(n())};return new Sr(t?function(o){return t.schedule(r,0,o)}:r)}var L8=c1(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function M8(e,t){var n=typeof t=="object";return new Promise(function(r,o){var i=new wc({next:function(s){r(s),i.unsubscribe()},error:o,complete:function(){n?r(t.defaultValue):o(new L8)}});e.subscribe(i)})}function z8(e){return e instanceof Date&&!isNaN(e)}function kv(e,t){return Ac(function(n,r){var o=0;n.subscribe(Ec(r,function(i){r.next(e.call(t,i,o++))}))})}var F8=Array.isArray;function $8(e,t){return F8(t)?e.apply(void 0,bc([],Bl(t))):e(t)}function CR(e){return kv(function(t){return $8(e,t)})}var B8=Array.isArray,U8=Object.getPrototypeOf,K8=Object.prototype,H8=Object.keys;function W8(e){if(e.length===1){var t=e[0];if(B8(t))return{args:t,keys:null};if(V8(t)){var n=H8(t);return{args:n.map(function(r){return t[r]}),keys:n}}}return{args:e,keys:null}}function V8(e){return e&&typeof e=="object"&&U8(e)===K8}function G8(e,t){return e.reduce(function(n,r,o){return n[r]=t[o],n},{})}function Im(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p1(e),r=E8(e),o=W8(e),i=o.args,s=o.keys;if(i.length===0)return na([],n);var u=new Sr(q8(i,n,s?function(c){return G8(s,c)}:_v));return r?u.pipe(CR(r)):u}function q8(e,t,n){return n===void 0&&(n=_v),function(r){R_(t,function(){for(var o=e.length,i=new Array(o),s=o,u=o,c=function(d){R_(t,function(){var m=na(e[d],t),g=!1;m.subscribe(Ec(r,function(x){i[d]=x,g||(g=!0,u--),u||r.next(n(i.slice()))},function(){--s||r.complete()}))},r)},f=0;f<o;f++)c(f)},r)}}function R_(e,t,n){e?Aa(n,e,t):t()}function Y8(e,t,n,r,o,i,s,u){var c=[],f=0,d=0,m=!1,g=function(){m&&!c.length&&!f&&t.complete()},x=function(_){return f<r?y(_):c.push(_)},y=function(_){i&&t.next(_),f++;var P=!1;Wa(n(_,d++)).subscribe(Ec(t,function(k){o==null||o(k),i?x(k):t.next(k)},function(){P=!0},void 0,function(){if(P)try{f--;for(var k=function(){var C=c.shift();s?Aa(t,s,function(){return y(C)}):y(C)};c.length&&f<r;)k();g()}catch(C){t.error(C)}}))};return e.subscribe(Ec(t,x,function(){m=!0,g()})),function(){u==null||u()}}function v1(e,t,n){return n===void 0&&(n=1/0),Pn(t)?v1(function(r,o){return kv(function(i,s){return t(r,i,o,s)})(Wa(e(r,o)))},n):(typeof t=="number"&&(n=t),Ac(function(r,o){return Y8(r,o,e,n)}))}function X8(e){return e===void 0&&(e=1/0),v1(_v,e)}var J8=["addListener","removeListener"],Q8=["addEventListener","removeEventListener"],Z8=["on","off"];function Yi(e,t,n,r){if(Pn(n)&&(r=n,n=void 0),r)return Yi(e,t,n).pipe(CR(r));var o=Bl(nK(e)?Q8.map(function(u){return function(c){return e[u](t,c,n)}}):eK(e)?J8.map(j_(e,t)):tK(e)?Z8.map(j_(e,t)):[],2),i=o[0],s=o[1];if(!i&&m1(e))return v1(function(u){return Yi(u,t,n)})(Wa(e));if(!i)throw new TypeError("Invalid event target");return new Sr(function(u){var c=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];return u.next(1<f.length?f:f[0])};return i(c),function(){return s(c)}})}function j_(e,t){return function(n){return function(r){return e[n](t,r)}}}function eK(e){return Pn(e.addListener)&&Pn(e.removeListener)}function tK(e){return Pn(e.on)&&Pn(e.off)}function nK(e){return Pn(e.addEventListener)&&Pn(e.removeEventListener)}function rK(e,t,n){e===void 0&&(e=0),n===void 0&&(n=b8);var r=-1;return t!=null&&(pR(t)?n=t:r=t),new Sr(function(o){var i=z8(e)?+e-n.now():e;i<0&&(i=0);var s=0;return n.schedule(function(){o.closed||(o.next(s++),0<=r?this.schedule(void 0,r):o.complete())},i)})}function TR(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=p1(e),r=x8(e,1/0),o=e;return o.length?o.length===1?Wa(o[0]):X8(r)(na(o,n)):w8}function oK(e,t){return Ac(function(n,r){var o=0;n.subscribe(Ec(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function iK(e){e===void 0&&(e={});var t=e.connector,n=t===void 0?function(){return new eh}:t,r=e.resetOnError,o=r===void 0?!0:r,i=e.resetOnComplete,s=i===void 0?!0:i,u=e.resetOnRefCountZero,c=u===void 0?!0:u;return function(f){var d,m,g,x=0,y=!1,_=!1,P=function(){m==null||m.unsubscribe(),m=void 0},k=function(){P(),d=g=void 0,y=_=!1},C=function(){var S=d;k(),S==null||S.unsubscribe()};return Ac(function(S,A){x++,!_&&!y&&P();var K=g=g??n();A.add(function(){x--,x===0&&!_&&!y&&(m=Sy(C,c))}),K.subscribe(A),!d&&x>0&&(d=new wc({next:function(O){return K.next(O)},error:function(O){_=!0,P(),m=Sy(k,o,O),K.error(O)},complete:function(){y=!0,P(),m=Sy(k,s),K.complete()}}),Wa(S).subscribe(d))})(f)}}function Sy(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(t===!0){e();return}if(t!==!1){var o=new wc({next:function(){o.unsubscribe(),e()}});return Wa(t.apply(void 0,bc([],Bl(n)))).subscribe(o)}}var sb=function(e,t){return sb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(n[o]=r[o])},sb(e,t)};function Ic(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}sb(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function gt(e,t,n,r){return new(n||(n=Promise))(function(o,i){function s(f){try{c(r.next(f))}catch(d){i(d)}}function u(f){try{c(r.throw(f))}catch(d){i(d)}}function c(f){var d;f.done?o(f.value):(d=f.value,d instanceof n?d:new n(function(m){m(d)})).then(s,u)}c((r=r.apply(e,t||[])).next())})}function NR(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function u(c){return function(f){return function(d){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&d[0]?r.return:d[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,d[1])).done)return o;switch(r=0,o&&(d=[2&d[0],o.value]),d[0]){case 0:case 1:o=d;break;case 4:return s.label++,{value:d[1],done:!1};case 5:s.label++,r=d[1],d=[0];continue;case 7:d=s.ops.pop(),s.trys.pop();continue;default:if(o=s.trys,!((o=o.length>0&&o[o.length-1])||d[0]!==6&&d[0]!==2)){s=0;continue}if(d[0]===3&&(!o||d[1]>o[0]&&d[1]<o[3])){s.label=d[1];break}if(d[0]===6&&s.label<o[1]){s.label=o[1],o=d;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(d);break}o[2]&&s.ops.pop(),s.trys.pop();continue}d=t.call(e,s)}catch(m){d=[6,m],r=0}finally{n=o=0}if(5&d[0])throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}([c,f])}}}function Dm(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Bd(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(t===void 0||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(u){o={error:u}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function Ud(e,t,n){if(n||arguments.length===2)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function tc(e){return this instanceof tc?(this.v=e,this):new tc(e)}function aK(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(m){o[m]&&(r[m]=function(g){return new Promise(function(x,y){i.push([m,g,x,y])>1||u(m,g)})})}function u(m,g){try{(function(x){x.value instanceof tc?Promise.resolve(x.value.v).then(c,f):d(i[0][2],x)})(o[m](g))}catch(x){d(i[0][3],x)}}function c(m){u("next",m)}function f(m){u("throw",m)}function d(m,g){m(g),i.shift(),i.length&&u(i[0][0],i[0][1])}}function sK(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=Dm(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(s,u){(function(c,f,d,m){Promise.resolve(m).then(function(g){c({value:g,done:d})},f)})(s,u,(i=e[o](i)).done,i.value)})}}}function OR(e){if(!e)throw new Error("Assertion Failed")}const lK={}.hasOwnProperty;function Lm(e,t,n){if(e&&t!==void 0&&(!("isFrozen"in Object)||!Object.isFrozen(e)))if(typeof t!="string"&&"length"in t){OR(typeof n!="string"&&"length"in n);for(var r=0,o=t.length;r<o;++r)Lm(e,t[r],n[r])}else{var i=t.indexOf(".");if(i!==-1){var s=t.substr(0,i),u=t.substr(i+1);if(u==="")n===void 0?Array.isArray(e)?isNaN(parseInt(s))||e.splice(parseInt(s),1):delete e[s]:e[s]=n;else{var c=e[s];c&&function(f,d){return lK.call(f,d)}(e,s)||(c=e[s]={}),Lm(c,u,n)}}else n===void 0?Array.isArray(e)&&!isNaN(parseInt(t))?e.splice(t,1):delete e[t]:e[t]=n}}const RR=typeof self<"u"&&typeof crypto<"u"?(e,t=crypto.getRandomValues.bind(crypto))=>{const n=new Uint8Array(e);return t(n),self.btoa(String.fromCharCode.apply(null,n))}:typeof Buffer<"u"?(e,t=uK)=>{const n=Buffer.alloc(e);return t(n),n.toString("base64")}:()=>{throw new Error("No implementation of randomString was found")};function uK(e){for(let t=0;t<e.length;++t)e[t]=Math.floor(256*Math.random())}function g1(e){return typeof e=="string"||!!(Array.isArray(e)&&e.some(t=>g1(t))&&e.every(jR))}function jR(e){return typeof e=="string"||typeof e=="number"||Array.isArray(e)&&e.every(jR)}function cK(e,t,n){const r=e[t]||(e[t]={}),o=n.keys.map(i=>typeof i=="string"?i:JSON.stringify(i));switch(n.type){case"insert":case"upsert":o.forEach((i,s)=>{r[i]={type:"ups",val:n.values[s]}});break;case"update":case"modify":o.forEach((i,s)=>{const u=n.type==="update"?n.changeSpecs[s]:n.changeSpec,c=r[i];if(c)switch(c.type){case"ups":for(const[f,d]of Object.entries(u))Lm(c.val,f,d);break;case"del":break;case"upd":Object.assign(c.mod,u)}else r[i]={type:"upd",mod:u}});break;case"delete":o.forEach(i=>{r[i]={type:"del"}})}return e}function A_(e,t){for(const{table:n,muts:r}of t)for(const o of r)cK(e,n,o)}function vr(e){return typeof e=="function"}function Uo(e){return function(t){if(function(n){return vr(n==null?void 0:n.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}var AR=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function IR(e){return vr(e==null?void 0:e.then)}var I_,bp,_y=(I_=function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}},(bp=I_(function(e){Error.call(e),e.stack=new Error().stack})).prototype=Object.create(Error.prototype),bp.prototype.constructor=bp,bp);function lb(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Pv=function(){function e(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var n,r,o,i,s;if(!this.closed){this.closed=!0;var u=this._parentage;if(u)if(this._parentage=null,Array.isArray(u))try{for(var c=Dm(u),f=c.next();!f.done;f=c.next())f.value.remove(this)}catch(_){n={error:_}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}else u.remove(this);var d=this.initialTeardown;if(vr(d))try{d()}catch(_){s=_ instanceof _y?_.errors:[_]}var m=this._finalizers;if(m){this._finalizers=null;try{for(var g=Dm(m),x=g.next();!x.done;x=g.next()){var y=x.value;try{D_(y)}catch(_){s=s??[],_ instanceof _y?s=Ud(Ud([],Bd(s)),Bd(_.errors)):s.push(_)}}}catch(_){o={error:_}}finally{try{x&&!x.done&&(i=g.return)&&i.call(g)}finally{if(o)throw o.error}}}if(s)throw new _y(s)}},e.prototype.add=function(n){var r;if(n&&n!==this)if(this.closed)D_(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(n)}},e.prototype._hasParent=function(n){var r=this._parentage;return r===n||Array.isArray(r)&&r.includes(n)},e.prototype._addParent=function(n){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n},e.prototype._removeParent=function(n){var r=this._parentage;r===n?this._parentage=null:Array.isArray(r)&&lb(r,n)},e.prototype.remove=function(n){var r=this._finalizers;r&&lb(r,n),n instanceof e&&n._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}();function DR(e){return e instanceof Pv||e&&"closed"in e&&vr(e.remove)&&vr(e.add)&&vr(e.unsubscribe)}function D_(e){vr(e)?e():e.unsubscribe()}Pv.EMPTY;var LR={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},fK={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Ud([e,t],Bd(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function MR(e){fK.setTimeout(function(){throw e})}function ub(){}var y1=function(e){function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,DR(n)&&n.add(r)):r.destination=pK,r}return Ic(t,e),t.create=function(n,r,o){return new cb(n,r,o)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Pv),dK=Function.prototype.bind;function ky(e,t){return dK.call(e,t)}var hK=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){wp(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){wp(r)}else wp(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){wp(n)}},e}(),cb=function(e){function t(n,r,o){var i,s,u=e.call(this)||this;return vr(n)||!n?i={next:n??void 0,error:r??void 0,complete:o??void 0}:u&&LR.useDeprecatedNextContext?((s=Object.create(n)).unsubscribe=function(){return u.unsubscribe()},i={next:n.next&&ky(n.next,s),error:n.error&&ky(n.error,s),complete:n.complete&&ky(n.complete,s)}):i=n,u.destination=new hK(i),u}return Ic(t,e),t}(y1);function wp(e){MR(e)}var pK={closed:!0,next:ub,error:function(e){throw e},complete:ub},b1=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Cv(e){return e}var Ni=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var o,i=this,s=(o=t)&&o instanceof y1||function(u){return u&&vr(u.next)&&vr(u.error)&&vr(u.complete)}(o)&&DR(o)?t:new cb(t,n,r);return function(){var u=i,c=u.operator,f=u.source;s.add(c?c.call(s,f):f?i._subscribe(s):i._trySubscribe(s))}(),s},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return new(n=L_(n))(function(o,i){var s=new cb({next:function(u){try{t(u)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[b1]=function(){return this},e.prototype.pipe=function(){for(var t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return((t=n).length===0?Cv:t.length===1?t[0]:function(o){return t.reduce(function(i,s){return s(i)},o)})(this)},e.prototype.toPromise=function(t){var n=this;return new(t=L_(t))(function(r,o){var i;n.subscribe(function(s){return i=s},function(s){return o(s)},function(){return r(i)})})},e.create=function(t){return new e(t)},e}();function L_(e){var t;return(t=e??LR.Promise)!==null&&t!==void 0?t:Promise}function zR(e){return vr(e[b1])}function FR(e){return Symbol.asyncIterator&&vr(e==null?void 0:e[Symbol.asyncIterator])}function $R(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var BR=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function UR(e){return vr(e==null?void 0:e[BR])}function KR(e){return aK(this,arguments,function(){var t,n,r;return NR(this,function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,tc(t.read())];case 3:return n=o.sent(),r=n.value,n.done?[4,tc(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,tc(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function HR(e){return vr(e==null?void 0:e.getReader)}function Ul(e){if(e instanceof Ni)return e;if(e!=null){if(zR(e))return o=e,new Ni(function(i){var s=o[b1]();if(vr(s.subscribe))return s.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if(AR(e))return r=e,new Ni(function(i){for(var s=0;s<r.length&&!i.closed;s++)i.next(r[s]);i.complete()});if(IR(e))return n=e,new Ni(function(i){n.then(function(s){i.closed||(i.next(s),i.complete())},function(s){return i.error(s)}).then(null,MR)});if(FR(e))return M_(e);if(UR(e))return t=e,new Ni(function(i){var s,u;try{for(var c=Dm(t),f=c.next();!f.done;f=c.next()){var d=f.value;if(i.next(d),i.closed)return}}catch(m){s={error:m}}finally{try{f&&!f.done&&(u=c.return)&&u.call(c)}finally{if(s)throw s.error}}i.complete()});if(HR(e))return M_(KR(e))}var t,n,r,o;throw $R(e)}function M_(e){return new Ni(function(t){(function(n,r){var o,i,s,u;return gt(this,void 0,void 0,function(){var c,f;return NR(this,function(d){switch(d.label){case 0:d.trys.push([0,5,6,11]),o=sK(n),d.label=1;case 1:return[4,o.next()];case 2:if((i=d.sent()).done)return[3,4];if(c=i.value,r.next(c),r.closed)return[2];d.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return f=d.sent(),s={error:f},[3,11];case 6:return d.trys.push([6,,9,10]),i&&!i.done&&(u=o.return)?[4,u.call(o)]:[3,8];case 7:d.sent(),d.label=8;case 8:return[3,10];case 9:if(s)throw s.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})})(e,t).catch(function(n){return t.error(n)})})}function Fo(e,t,n,r,o){return new mK(e,t,n,r,o)}var mK=function(e){function t(n,r,o,i,s,u){var c=e.call(this,n)||this;return c.onFinalize=s,c.shouldUnsubscribe=u,c._next=r?function(f){try{r(f)}catch(d){n.error(d)}}:e.prototype._next,c._error=i?function(f){try{i(f)}catch(d){n.error(d)}finally{this.unsubscribe()}}:e.prototype._error,c._complete=o?function(){try{o()}catch(f){n.error(f)}finally{this.unsubscribe()}}:e.prototype._complete,c}return Ic(t,e),t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(y1),vK=function(e){function t(n,r){return e.call(this)||this}return Ic(t,e),t.prototype.schedule=function(n,r){return this},t}(Pv),fb={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=fb.delegate;return o!=null&&o.setInterval?o.setInterval.apply(o,Ud([e,t],Bd(n))):setInterval.apply(void 0,Ud([e,t],Bd(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},gK=function(e){function t(n,r){var o=e.call(this,n,r)||this;return o.scheduler=n,o.work=r,o.pending=!1,o}return Ic(t,e),t.prototype.schedule=function(n,r){if(r===void 0&&(r=0),this.closed)return this;this.state=n;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,r)),this.pending=!0,this.delay=r,this.id=this.id||this.requestAsyncId(i,this.id,r),this},t.prototype.requestAsyncId=function(n,r,o){return o===void 0&&(o=0),fb.setInterval(n.flush.bind(n,this),o)},t.prototype.recycleAsyncId=function(n,r,o){if(o===void 0&&(o=0),o!=null&&this.delay===o&&this.pending===!1)return r;fb.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(n,r);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var o,i=!1;try{this.work(n)}catch(s){i=!0,o=s||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),o},t.prototype.unsubscribe=function(){if(!this.closed){var n=this.id,r=this.scheduler,o=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,lb(o,this),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(vK),yK={now:function(){return Date.now()},delegate:void 0},z_=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=yK.now,e}(),w1=new(function(e){function t(n,r){r===void 0&&(r=z_.now);var o=e.call(this,n,r)||this;return o.actions=[],o._active=!1,o._scheduled=void 0,o}return Ic(t,e),t.prototype.flush=function(n){var r=this.actions;if(this._active)r.push(n);else{var o;this._active=!0;do if(o=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,o){for(;n=r.shift();)n.unsubscribe();throw o}}},t}(z_))(gK),bK=w1;function WR(e){return e&&vr(e.schedule)}function wK(e,t,n){e===void 0&&(e=0),n===void 0&&(n=bK);var r=-1;return t!=null&&(WR(t)?n=t:r=t),new Ni(function(o){var i,s=(i=e)instanceof Date&&!isNaN(i)?+e-n.now():e;s<0&&(s=0);var u=0;return n.schedule(function(){o.closed||(o.next(u++),0<=r?this.schedule(void 0,r):o.complete())},s)})}function VR(e){return WR((t=e)[t.length-1])?e.pop():void 0;var t}function Os(e,t,n,r,o){r===void 0&&(r=0),o===void 0&&(o=!1);var i=t.schedule(function(){n(),o?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(i),!o)return i}function db(e){return Uo(function(t,n){var r,o=null,i=!1;o=t.subscribe(Fo(n,void 0,void 0,function(s){r=Ul(e(s,db(e)(t))),o?(o.unsubscribe(),o=null,r.subscribe(n)):i=!0})),i&&(o.unsubscribe(),o=null,r.subscribe(n))})}function F_(e,t){return t===void 0&&(t=0),Uo(function(n,r){n.subscribe(Fo(r,function(o){return Os(r,e,function(){return r.next(o)},t)},function(){return Os(r,e,function(){return r.complete()},t)},function(o){return Os(r,e,function(){return r.error(o)},t)}))})}function $_(e,t){return t===void 0&&(t=0),Uo(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function B_(e,t){if(!e)throw new Error("Iterable cannot be null");return new Ni(function(n){Os(n,t,function(){var r=e[Symbol.asyncIterator]();Os(n,t,function(){r.next().then(function(o){o.done?n.complete():n.next(o.value)})},0,!0)})})}function EK(e,t){if(e!=null){if(zR(e))return function(n,r){return Ul(n).pipe($_(r),F_(r))}(e,t);if(AR(e))return function(n,r){return new Ni(function(o){var i=0;return r.schedule(function(){i===n.length?o.complete():(o.next(n[i++]),o.closed||this.schedule())})})}(e,t);if(IR(e))return function(n,r){return Ul(n).pipe($_(r),F_(r))}(e,t);if(FR(e))return B_(e,t);if(UR(e))return function(n,r){return new Ni(function(o){var i;return Os(o,r,function(){i=n[BR](),Os(o,r,function(){var s,u,c;try{u=(s=i.next()).value,c=s.done}catch(f){return void o.error(f)}c?o.complete():o.next(u)},0,!0)}),function(){return vr(i==null?void 0:i.return)&&i.return()}})}(e,t);if(HR(e))return function(n,r){return B_(KR(n),r)}(e,t)}throw $R(e)}function Xi(e,t){return Uo(function(n,r){var o=0;n.subscribe(Fo(r,function(i){r.next(e.call(t,i,o++))}))})}function E1(e,t,n){return n===void 0&&(n=1/0),vr(t)?E1(function(r,o){return Xi(function(i,s){return t(r,i,o,s)})(Ul(e(r,o)))},n):(typeof t=="number"&&(n=t),Uo(function(r,o){return function(i,s,u,c,f,d,m,g){var x=[],y=0,_=0,P=!1,k=function(){!P||x.length||y||s.complete()},C=function(A){return y<c?S(A):x.push(A)},S=function(A){d&&s.next(A),y++;var K=!1;Ul(u(A,_++)).subscribe(Fo(s,function(O){f==null||f(O),d?C(O):s.next(O)},function(){K=!0},void 0,function(){if(K)try{y--;for(var O=function(){var L=x.shift();m?Os(s,m,function(){return S(L)}):S(L)};x.length&&y<c;)O();k()}catch(L){s.error(L)}}))};return i.subscribe(Fo(s,C,function(){P=!0,k()})),function(){g==null||g()}}(r,o,e,n)}))}function xK(){return(e=1)===void 0&&(e=1/0),E1(Cv,e);var e}function U_(e,t){return t===void 0&&(t=w1),Uo(function(n,r){var o=null,i=null,s=null,u=function(){if(o){o.unsubscribe(),o=null;var f=i;i=null,r.next(f)}};function c(){var f=s+e,d=t.now();if(d<f)return o=this.schedule(void 0,f-d),void r.add(o);u()}n.subscribe(Fo(r,function(f){i=f,s=t.now(),o||(o=t.schedule(c,e),r.add(o))},function(){u(),r.complete()},void 0,function(){i=o=null}))})}function hb(){for(var e,t,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return xK()((e=n,(t=VR(n))?EK(e,t):Ul(e)))}var SK=new Ni(function(e){return e.complete()});function Vi(e){return e<=0?function(){return SK}:Uo(function(t,n){var r=0;t.subscribe(Fo(n,function(o){++r<=e&&(n.next(o),e<=r&&n.complete())}))})}function GR(e,t){return t?function(n){return hb(t.pipe(Vi(1),Uo(function(r,o){r.subscribe(Fo(o,ub))})),n.pipe(GR(e)))}:E1(function(n,r){return e(n,r).pipe(Vi(1),function(o){return Xi(function(){return o})}(n))})}function qR(e,t){t===void 0&&(t=w1);var n=wK(e,t);return GR(function(){return n})}function YR(e,t){return t===void 0&&(t=Cv),e=e??_K,Uo(function(n,r){var o,i=!0;n.subscribe(Fo(r,function(s){var u=t(s);!i&&e(o,u)||(i=!1,o=u,r.next(s))}))})}function _K(e,t){return e===t}function Gi(e,t){return Uo(function(n,r){var o=0;n.subscribe(Fo(r,function(i){return e.call(t,i,o++)&&r.next(i)}))})}function K_(e){return Gi(function(t,n){return e<=n})}function kK(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=VR(e);return Uo(function(r,o){(n?hb(e,r,n):hb(e,r)).subscribe(o)})}function ro(e,t){return Uo(function(n,r){var o=null,i=0,s=!1,u=function(){return s&&!o&&r.complete()};n.subscribe(Fo(r,function(c){o==null||o.unsubscribe();var f=0,d=i++;Ul(e(c,d)).subscribe(o=Fo(r,function(m){return r.next(t?t(c,m,d,f++):m)},function(){o=null,u()}))},function(){s=!0,u()}))})}function H_(e,t,n){var r=vr(e)||t||n?{next:e,error:t,complete:n}:e;return r?Uo(function(o,i){var s;(s=r.subscribe)===null||s===void 0||s.call(r);var u=!0;o.subscribe(Fo(i,function(c){var f;(f=r.next)===null||f===void 0||f.call(r,c),i.next(c)},function(){var c;u=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},function(c){var f;u=!1,(f=r.error)===null||f===void 0||f.call(r,c),i.error(c)},function(){var c,f;u&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(f=r.finalize)===null||f===void 0||f.call(r)}))}):Cv}function XR(e,t){return gt(this,void 0,void 0,function*(){try{const n=yield navigator.serviceWorker.ready;if(t==="push"&&n.sync&&(yield n.sync.register(`dexie-cloud:${e.name}`)),!n.active)throw new Error("Failed to trigger sync - there's no active service worker");return void n.active.postMessage({type:"dexie-cloud-sync",dbName:e.name,purpose:t})}catch{}})}function Na(e,t){e.cloud.usingServiceWorker?XR(e,t):e.localSyncEvent.next({purpose:t})}const JR=typeof Buffer<"u"?e=>Buffer.from(e,"base64"):e=>{const t=atob(e),n=t.length,r=new Uint8Array(n);for(var o=0;o<n;o++)r[o]=t.charCodeAt(o);return r},th=typeof Buffer<"u"?e=>ArrayBuffer.isView(e)?Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("base64"):Buffer.from(e).toString("base64"):e=>{const t=ArrayBuffer.isView(e)?e:new Uint8Array(e),n=[];for(let r=0,o=t.length;r<o;r+=4096){const i=t.subarray(r,r+4096);n.push(String.fromCharCode.apply(null,i))}return btoa(n.join(""))};class pb extends Error{constructor({title:t,message:n,messageCode:r,messageParams:o}){super(n),this.name="TokenErrorResponseError",this.title=t,this.messageCode=r,this.messageParams=o}}function nh(e,t){return new Promise((n,r)=>{const o=Object.assign(Object.assign({submitLabel:"Submit",cancelLabel:"Cancel"},t),{onSubmit:i=>{e.next(void 0),n(i)},onCancel:()=>{e.next(void 0),r(new sn.AbortError("User cancelled"))}});e.next(o)})}function mb(e,t,...n){return nh(e,{type:"message-alert",title:t,alerts:n,fields:{},submitLabel:"OK",cancelLabel:null})}function W_(e,t,n){return gt(this,void 0,void 0,function*(){let r=n||"";for(;!r||!/^[\w-+.]+@([\w-]+\.)+[\w-]{2,10}(\sas\s[\w-+.]+@([\w-]+\.)+[\w-]{2,10})?$/.test(r);)r=(yield nh(e,{type:"email",title:t,alerts:r?[{type:"error",messageCode:"INVALID_EMAIL",message:"Please enter a valid email address",messageParams:{}}]:[],fields:{email:{type:"email",placeholder:"you@somedomain.com"}}})).email;return r})}function V_(e,t,n){return gt(this,void 0,void 0,function*(){const r=[{type:"info",messageCode:"OTP_SENT",message:"A One-Time password has been sent to {email}",messageParams:{email:t}}];n&&r.push(n);const{otp:o}=yield nh(e,{type:"otp",title:"Enter OTP",alerts:r,fields:{otp:{type:"otp",label:"OTP",placeholder:"Paste OTP here"}}});return o})}function x1(e){var t,n,r;return gt(this,void 0,void 0,function*(){const o=yield e.getCurrentUser(),{accessToken:i,accessTokenExpiration:s,refreshToken:u,refreshTokenExpiration:c,claims:f}=o;if(!i)return null;if(((t=s==null?void 0:s.getTime())!==null&&t!==void 0?t:1/0)>Date.now()&&(((n=o.license)===null||n===void 0?void 0:n.status)||"ok")==="ok")return o;if(!u)throw new Error("Refresh token missing");if(((r=c==null?void 0:c.getTime())!==null&&r!==void 0?r:1/0)<=Date.now())throw new Error("Refresh token has expired");const d=yield Tv(e.cloud.options.databaseUrl,o);return yield e.table("$logins").update(f.sub,{accessToken:d.accessToken,accessTokenExpiration:d.accessTokenExpiration,claims:d.claims,license:d.license}),d})}function PK(e,t,n,r,o){return gt(this,void 0,void 0,function*(){return t.accessToken&&t.accessTokenExpiration.getTime()>Date.now()?t:t.refreshToken&&(!t.refreshTokenExpiration||t.refreshTokenExpiration.getTime()>Date.now())?yield Tv(e,t):yield function(i,s,u,c){return gt(this,void 0,void 0,function*(){if(!crypto.subtle)throw typeof location<"u"&&location.protocol==="http:"?new Error("Dexie Cloud Addon needs to use WebCrypto, but your browser has disabled it due to being served from an insecure location. Please serve it from https or http://localhost:<port> (See https://stackoverflow.com/questions/46670556/how-to-enable-crypto-subtle-for-unsecure-origins-in-chrome/46671627#46671627)"):new Error("This browser does not support WebCrypto.");const{privateKey:f,publicKey:d}=yield crypto.subtle.generateKey({name:"RSASSA-PKCS1-v1_5",modulusLength:2048,publicExponent:new Uint8Array([1,0,1]),hash:{name:"SHA-256"}},!1,["sign","verify"]);if(!f||!d)throw new Error("Could not generate RSA keypair");i.nonExportablePrivateKey=f;const m=function(g){const x=th(g);return function(y){let _=`-----BEGIN PUBLIC KEY-----
`;for(;y.length>0;)_+=y.substring(0,64)+`
`,y=y.substring(64);return _+="-----END PUBLIC KEY-----",_}(x)}(yield crypto.subtle.exportKey("spki",d));i.publicKey=d;try{const g=yield s({public_key:m,hints:c});if(g.type==="error")throw new pb(g);if(g.type!=="tokens")throw new Error(`Unexpected response type from token endpoint: ${g.type}`);return i.accessToken=g.accessToken,i.accessTokenExpiration=new Date(g.accessTokenExpiration),i.refreshToken=g.refreshToken,g.refreshTokenExpiration&&(i.refreshTokenExpiration=new Date(g.refreshTokenExpiration)),i.userId=g.claims.sub,i.email=g.claims.email,i.name=g.claims.name,i.claims=g.claims,i.license={type:g.userType,status:g.claims.license||"ok"},g.evalDaysLeft!=null&&(i.license.evalDaysLeft=g.evalDaysLeft),g.userValidUntil!=null&&(i.license.validUntil=new Date(g.userValidUntil)),g.alerts&&g.alerts.length>0&&(yield nh(u,{type:"message-alert",title:"Authentication Alert",fields:{},alerts:g.alerts})),i}catch(g){if(g instanceof pb)throw yield mb(u,g.title,{type:"error",messageCode:g.messageCode,message:g.message,messageParams:{}}),g;let x="We're having a problem authenticating right now.";throw g instanceof TypeError&&(x=typeof navigator!==void 0&&!navigator.onLine?"You seem to be offline. Please connect to the internet and try again.":sn.debug||typeof location<"u"&&(location.hostname==="localhost"||location.hostname==="127.0.0.1")?`Could not connect to server. Please verify that your origin '${location.origin}' is whitelisted using \`npx dexie-cloud whitelist\``:"Could not connect to server. Please verify the connection.",yield mb(u,"Authentication Failed",{type:"error",messageCode:"GENERIC_ERROR",message:x,messageParams:{}}).catch(()=>{})),g}})}(t,n,r,o)})}function Tv(e,t){return gt(this,void 0,void 0,function*(){if(!t.refreshToken)throw new Error("Cannot refresh token - refresh token is missing.");if(!t.nonExportablePrivateKey)throw new Error("login.nonExportablePrivateKey is missing - cannot sign refresh token without a private key.");const n=Date.now(),r="RSASSA-PKCS1-v1_5",o=new TextEncoder().encode(t.refreshToken+n),i=yield crypto.subtle.sign(r,t.nonExportablePrivateKey,o),s=th(i),u={grant_type:"refresh_token",refresh_token:t.refreshToken,scopes:["ACCESS_DB"],signature:s,signing_algorithm:r,time_stamp:n},c=yield fetch(`${e}/token`,{body:JSON.stringify(u),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});if(c.status!==200)throw new Error(`RefreshToken: Status ${c.status} from ${e}/token`);const f=yield c.json();if(f.type==="error")throw new pb(f);return t.accessToken=f.accessToken,t.accessTokenExpiration=f.accessTokenExpiration?new Date(f.accessTokenExpiration):void 0,t.claims=f.claims,t.license={type:f.userType,status:f.claims.license||"ok"},f.evalDaysLeft!=null&&(t.license.evalDaysLeft=f.evalDaysLeft),f.userValidUntil!=null&&(t.license.validUntil=new Date(f.userValidUntil)),t})}const G_=new WeakMap;class S1{constructor(t,n){G_.set(this,t),Object.assign(this,n)}static load(t,n){return t.table("$logins").get(n).then(r=>new S1(t,r||{userId:n,claims:{sub:n},lastLogin:new Date(0)}))}save(){return gt(this,void 0,void 0,function*(){G_.get(this).table("$logins").put(this)})}}const Do={userId:"unauthorized",name:"Unauthorized",claims:{sub:"unauthorized"},lastLogin:new Date(0)};try{Object.freeze(Do),Object.freeze(Do.claims)}catch{}function QR(e,t){return M8(na(e).pipe(oK(t)))}function ZR(e){return gt(this,void 0,void 0,function*(){const t=yield vb(e);if(t){if(!(yield function(n,r,o){return gt(this,void 0,void 0,function*(){const i=[{type:"warning",messageCode:"LOGOUT_CONFIRMATION",message:`{numUnsyncedChanges} unsynced changes will get lost!
                Logout anyway?`,messageParams:{currentUserId:r,numUnsyncedChanges:o.toString()}}];return yield nh(n,{type:"logout-confirmation",title:"Confirm Logout",alerts:i,fields:{},submitLabel:"Confirm logout",cancelLabel:"Cancel"}).then(()=>!0).catch(()=>!1)})}(e.cloud.userInteraction,e.cloud.currentUserId,t)))throw new Error("User cancelled logout due to unsynced changes");yield vb(e,{deleteUnsyncedData:!0})}})}function vb(e,{deleteUnsyncedData:t=!1}={}){return gt(this,void 0,void 0,function*(){const[n,r]=yield e.dx.transaction("rw",e.dx.tables,o=>gt(this,void 0,void 0,function*(){const i=o.idbtrans;i.disableChangeTracking=!0,i.disableAccessControl=!0;const s=o.storeNames.filter(c=>c.endsWith("_mutations")),u=(yield Promise.all(s.map(c=>o.table(c).count()))).reduce((c,f)=>c+f,0);if(u>0&&!t)return[u,!1];e.$syncState.delete("syncState");for(const c of e.dx.tables)c.name!=="$jobs"&&c.name!=="$syncState"&&c.clear();return[u,!0]}));return r&&(yield QR(e.cloud.currentUser,o=>o.userId===Do.userId),yield e.cloud.sync({purpose:"pull",wait:!0})),n})}class gb extends Error{constructor(t,n){super(n||`${t.status} ${t.statusText}`),this.httpStatus=t.status}get name(){return"HttpError"}}function Ep(e,...t){globalThis.console[e](...t)}function q_(e,t){var n;return gt(this,void 0,void 0,function*(){const r=yield e.getCurrentUser(),o=r.userId;if(r.isLoggedIn&&(!t||!t.email&&!t.userId)){if((((n=r.license)===null||n===void 0?void 0:n.status)||"ok")==="ok"&&r.accessToken&&(!r.accessTokenExpiration||r.accessTokenExpiration.getTime()>Date.now()))return!1;if(r.refreshToken&&(!r.refreshTokenExpiration||r.refreshTokenExpiration.getTime()>Date.now()))return yield x1(e),!1}const i=new S1(e,{claims:{},lastLogin:new Date(0)});return yield PK(e.cloud.options.databaseUrl,i,e.cloud.options.fetchTokens||function(s){const{userInteraction:u}=s.cloud;return function({public_key:c,hints:f}){var d;return gt(this,void 0,void 0,function*(){let m;const g=(d=s.cloud.options)===null||d===void 0?void 0:d.databaseUrl;if(!g)throw new Error("No database URL given.");if((f==null?void 0:f.grant_type)==="demo")m={demo_user:yield W_(u,"Enter a demo user email",(f==null?void 0:f.email)||(f==null?void 0:f.userId)),grant_type:"demo",scopes:["ACCESS_DB"],public_key:c};else if(f!=null&&f.otpId&&f.otp)m={grant_type:"otp",otp_id:f.otpId,otp:f.otp,scopes:["ACCESS_DB"],public_key:c};else{const _=yield W_(u,"Enter email address",f==null?void 0:f.email);m=/@demo.local$/.test(_)?{demo_user:_,grant_type:"demo",scopes:["ACCESS_DB"],public_key:c}:{email:_,grant_type:"otp",scopes:["ACCESS_DB"]}}const x=yield fetch(`${g}/token`,{body:JSON.stringify(m),method:"post",headers:{"Content-Type":"application/json",mode:"cors"}});if(x.status!==200){const _=yield x.text();throw yield mb(u,"Token request failed",{type:"error",messageCode:"GENERIC_ERROR",message:_,messageParams:{}}).catch(()=>{}),new gb(x,_)}const y=yield x.json();if(y.type==="tokens"||y.type==="error")return y;if(m.grant_type==="otp"&&"email"in m){if(y.type!=="otp-sent")throw new Error(`Unexpected response from ${g}/token`);const _=yield V_(u,m.email),P=Object.assign(Object.assign({},m),{otp:_||"",otp_id:y.otp_id,public_key:c});let k=yield fetch(`${g}/token`,{body:JSON.stringify(P),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"});for(;k.status===401;){const C=yield k.text();P.otp=yield V_(u,m.email,{type:"error",messageCode:"INVALID_OTP",message:C,messageParams:{}}),k=yield fetch(`${g}/token`,{body:JSON.stringify(P),method:"post",headers:{"Content-Type":"application/json"},mode:"cors"})}if(k.status!==200){const C=yield k.text();throw new gb(k,C)}return yield k.json()}throw new Error(`Unexpected response from ${g}/token`)})}}(e),e.cloud.userInteraction,t),o!==Do.userId&&i.userId!==o&&(yield ZR(e)),yield function(s,u){return gt(this,void 0,void 0,function*(){if(u.userId===s.cloud.currentUserId)return;const c=s.table("$logins");yield s.transaction("rw",c,f=>gt(this,void 0,void 0,function*(){const d=yield c.toArray();yield Promise.all(d.filter(m=>m.userId!==u.userId&&m.isLoggedIn).map(m=>(m.isLoggedIn=!1,c.put(m)))),u.isLoggedIn=!0,u.lastLogin=new Date;try{yield u.save()}catch(m){try{m.name==="DataCloneError"&&(Ep("debug","Login context property names:",Object.keys(u)),Ep("debug","Login context property names:",Object.keys(u)),Ep("debug","Login context:",u),Ep("debug","Login context JSON:",JSON.stringify(u)))}catch{}throw m}})),yield QR(s.cloud.currentUser,f=>f.userId===u.userId)})}(e,i),Na(e,"pull"),i.userId!==o})}const yb={},sd=typeof self<"u"&&self.document&&typeof navigator<"u"&&navigator.serviceWorker;sd&&sd.ready.then(e=>yb.registration=e),typeof self<"u"&&"clients"in self&&!self.document&&addEventListener("message",e=>{var t,n;!((n=(t=e.data)===null||t===void 0?void 0:t.type)===null||n===void 0)&&n.startsWith("sw-broadcast-")&&[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>{var o;return r.id!==((o=e.source)===null||o===void 0?void 0:o.id)&&r.postMessage(e.data)})});class Py{constructor(t){this.name=t}subscribe(t){if(!sd)return()=>{};const n=r=>{var o;((o=r.data)===null||o===void 0?void 0:o.type)===`sw-broadcast-${this.name}`&&t(r.data.message)};return sd.addEventListener("message",n),()=>sd.removeEventListener("message",n)}postMessage(t){var n;typeof self.clients=="object"?[...self.clients.matchAll({includeUncontrolled:!0})].forEach(r=>r.postMessage({type:`sw-broadcast-${this.name}`,message:t})):yb.registration&&((n=yb.registration.active)===null||n===void 0||n.postMessage({type:`sw-broadcast-${this.name}`,message:t}))}}const Of=globalThis["lbc-events"]||(globalThis["lbc-events"]=new Map);class xp extends Sr{constructor(t){const n=typeof BroadcastChannel>"u"?new Py(t):new BroadcastChannel(t);super(r=>{function o(u){r.next(u.detail)}function i(u){r.next(u.data)}let s;(function(u,c){Of.has(u)?Of.get(u).push(c):Of.set(u,[c])})(`lbc-${t}`,o);try{n instanceof Py?s=n.subscribe(u=>r.next(u)):n.addEventListener("message",i)}catch{}return()=>{(function(u,c){const f=Of.get(u);if(f){const d=f.indexOf(c);d!==-1&&f.splice(d,1)}})(`lbc-${t}`,o),n instanceof Py?s():n.removeEventListener("message",i)}}),this.name=t,this.bc=n}next(t){this.bc.postMessage(t),function(n){const r=Of.get(n.type);r&&r.forEach(o=>{try{o(n)}catch{}})}(new CustomEvent(`lbc-${this.name}`,{detail:t}))}}function bb({realms:e,inviteRealms:t}){return gt(this,void 0,void 0,function*(){const n=JSON.stringify([...e.map(i=>({realmId:i,accepted:!0})),...t.map(i=>({realmId:i,accepted:!1}))].sort((i,s)=>i.realmId<s.realmId?-1:i.realmId>s.realmId?1:0)),r=new TextEncoder().encode(n),o=yield crypto.subtle.digest("SHA-1",r);return th(o)})}function qp(e){return Object.entries(e.cloud.schema||{}).filter(([,{markedForSync:t}])=>t).map(([t])=>e.tables.filter(({name:n})=>n===t)[0]).filter(t=>t)}function _1(e){return`$${e}_mutations`}function ej(e){var t;const n=(t=/^\$(.*)_mutations$/.exec(e))===null||t===void 0?void 0:t[1];if(!n)throw new Error(`Given mutationTable ${e} is not correct`);return n}const CK=[].concat;function tj(e){return CK.apply([],e)}function wb(e,t,{since:n={},limit:r=1/0}={}){return gt(this,void 0,void 0,function*(){const o=tj(yield Promise.all(e.map(c=>gt(this,void 0,void 0,function*(){const f=ej(c.name),d=n[f];let m=d?c.where("rev").above(d):c;return r<1/0&&(m=m.limit(r)),(yield m.toArray()).map(g=>({table:f,mut:g}))})))).sort((c,f)=>c.mut.txid===f.mut.txid?c.mut.opNo-f.mut.opNo:c.mut.ts-f.mut.ts),i=[];let s=null,u=null;for(const{table:c,mut:f}of o)s&&s.table===c&&u===f.txid?s.muts.push(f):(s={table:c,muts:[f]},u=f.txid,i.push(s));return i})}function nj(e){const t=new Uint8Array(e);if(typeof crypto<"u")crypto.getRandomValues(t);else for(let n=0;n<e;n++)t[n]=Math.floor(256*Math.random());if(typeof Buffer<"u"&&Buffer.from)return Buffer.from(t).toString("base64");if(typeof btoa<"u")return btoa(String.fromCharCode.apply(null,t));throw new Error("No btoa or Buffer available")}const{toString:TK}={},Y_={replace:function(e){const t=Object.keys(e);let n=null;for(let o=0,i=t.length;o<i;++o)t[o][0]==="$"&&(n=n||[],n.push(t[o]));if(!n)return e;const r={...e};for(const o of n)delete r[o];for(const o of n)r["$"+o]=e[o];return r}};function rj(...e){const t=e.reduce((r,o)=>({...r,...o}),e.reduce((r,o)=>({...o,...r}),{})),n=new WeakMap;return{stringify(r,o,i){return JSON.stringify(r,function(u){const c=this[u],f=function(d){const m=typeof d;switch(typeof d){case"object":case"function":{if(d===null)return null;const x=Object.getPrototypeOf(d);if(!x)return Y_;let y=n.get(x);if(y!==void 0)return y;const _=(g=d,TK.call(g).slice(8,-1)),P=Object.entries(t).find(([k,C])=>{var S,A;return(A=(S=C==null?void 0:C.test)===null||S===void 0?void 0:S.call(C,d,_))!==null&&A!==void 0?A:k===_});return y=P==null?void 0:P[1],y||(y=Array.isArray(d)?null:typeof d=="function"?t.function||null:Y_),n.set(x,y),y}default:return t[m]}var g}(c);return f?f.replace(c,o,t):c},i)},parse(r,o){const i=[];return JSON.parse(r,function(s,u){const c=u==null?void 0:u.$t;if(c){const d=t[c];u=d?d.revive(u,o,t):u}let f=i[i.length-1];if(f&&f[0]===u){u={...u};for(const d of f[1])delete u[d];for(const[d,m]of Object.entries(f[2]))u[d]=m;i.pop()}if(u===void 0||s[0]==="$"&&s!=="$t"){let d,m;f=i[i.length-1],f&&f[0]===this?(d=f[1],m=f[2]):i.push([this,d=[],m={}]),s[0]==="$"&&s!=="$t"?(d.push(s),m[s.substr(1)]=u):m[s]=void 0}return u})}}}const NK={Blob:{test:(e,t)=>t==="Blob",replace:(e,t)=>{const n=t.length;return t.push(e),{$t:"Blob",mimeType:e.type,i:n}},revive:({i:e,mimeType:t},n)=>new Blob([n[e]],{type:t})}};var OK={number:{replace:e=>{switch(!0){case isNaN(e):return{$t:"number",v:"NaN"};case e===1/0:return{$t:"number",v:"Infinity"};case e===-1/0:return{$t:"number",v:"-Infinity"};default:return e}},revive:({v:e})=>Number(e)}};const RK={bigint:{replace:e=>({$t:"bigint",v:""+e}),revive:e=>BigInt(e.v)}};var jK={Date:{replace:e=>({$t:"Date",v:isNaN(e.getTime())?"NaN":e.toISOString()}),revive:({v:e})=>new Date(e==="NaN"?NaN:Date.parse(e))}},AK={Set:{replace:e=>({$t:"Set",v:Array.from(e.entries())}),revive:({v:e})=>new Set(e)}},IK={Map:{replace:e=>({$t:"Map",v:Array.from(e.entries())}),revive:({v:e})=>new Map(e)}};const DK=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:void 0;var LK=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","DataView","BigInt64Array","BigUint64Array"].reduce((e,t)=>({...e,[t]:{replace:(n,r,o)=>({$t:t,v:o.ArrayBuffer.replace(n.byteOffset===0&&n.byteLength===n.buffer.byteLength?n.buffer:n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength),r,o).v}),revive:({v:n},r,o)=>{const i=DK[t];return i&&new i(o.ArrayBuffer.revive({v:n},r,o))}}}),{});function oj(e){return function(t){for(var n="",r=0,o=t.length;r<o;r++)n+=ij[t[r]];return n}(th(e))}function MK(e){return JR(function(t){if(typeof t!="string")throw new Error("invalid decoder input: "+t);for(var n="",r=0,o=t.length;r<o;r++)n+=Eb[t[r]];return n}(e))}const Eb={"-":"=",0:"A",1:"B",2:"C",3:"D",4:"E",5:"F",6:"G",7:"H",8:"I",9:"J",A:"K",B:"L",C:"M",D:"N",E:"O",F:"P",G:"Q",H:"R",I:"S",J:"T",K:"U",L:"V",M:"W",N:"X",O:"Y",P:"Z",Q:"a",R:"b",S:"c",T:"d",U:"e",V:"f",W:"g",X:"h",Y:"i",Z:"j",_:"k",a:"l",b:"m",c:"n",d:"o",e:"p",f:"q",g:"r",h:"s",i:"t",j:"u",k:"v",l:"w",m:"x",n:"y",o:"z",p:"0",q:"1",r:"2",s:"3",t:"4",u:"5",v:"6",w:"7",x:"8",y:"9",z:"+","|":"/"},ij={};for(const e of Object.keys(Eb))ij[Eb[e]]=e;var zK={ArrayBuffer:{replace:e=>({$t:"ArrayBuffer",v:oj(e)}),revive:({v:e})=>{const t=MK(e);return t.buffer.byteLength===t.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)}}};class Cy{constructor(t,n){this.buf=t,this.type=n}}function FK(e){const t=new XMLHttpRequest;if(t.overrideMimeType("text/plain; charset=x-user-defined"),t.open("GET",URL.createObjectURL(e),!1),t.send(),t.status!==200&&t.status!==0)throw new Error("Bad Blob access: "+t.status);return t.responseText}function $K(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t.buffer}var BK={Blob:{test:(e,t)=>t==="Blob"||e instanceof Cy,replace:e=>({$t:"Blob",v:th(e instanceof Cy?e.buf:$K(FK(e))),type:e.type}),revive:({type:e,v:t})=>{const n=JR(t);return typeof Blob!==void 0?new Blob([n]):new Cy(n.buffer,e)}}};const aj={...OK,...RK,...jK,...AK,...IK,...LK,...zK,...BK};function X_(e){return new Promise((t,n)=>{const r=new FileReader;r.onabort=o=>n(new Error("file read aborted")),r.onerror=o=>n(o.target.error),r.onload=o=>t(o.target.result),r.readAsArrayBuffer(e)})}var UK={undefined:{replace:()=>({$t:"undefined"}),revive:()=>{}}};const KK=typeof BigInt=="function"&&typeof BigInt(0)=="bigint";let J_=class{toString(){return this.v}constructor(t){this.v=t}};const sj=Object.assign(Object.assign(Object.assign({},UK),KK?{}:{bigint:{test:e=>e instanceof J_,replace:e=>Object.assign({$t:"bigint"},e),revive:({v:e})=>new J_(e)}}),{PropModification:{test:e=>e instanceof YS,replace:e=>Object.assign({$t:"PropModification"},e),revive:e=>{var t=function(n,r){var o={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.indexOf(i)<0&&(o[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function"){var s=0;for(i=Object.getOwnPropertySymbols(n);s<i.length;s++)r.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(n,i[s])&&(o[i[s]]=n[i[s]])}return o}(e,["$t"]);return new YS(t)}}}),Mm=rj(aj,sj),HK=function(...e){const t=rj(aj,NK,...e);return{toBinary(n){const[r,o]=this.stringify(n),i=new ArrayBuffer(4);return new DataView(i).setUint32(0,r.size),new Blob([i,r,o])},stringify(n){const r=[],o=t.stringify(n,r);return[new Blob(r.map(s=>{const u=new ArrayBuffer(4);return new DataView(u).setUint32(0,"byteLength"in s?s.byteLength:s.size),new Blob([u,s])})),o]},async parse(n,r){let o=0;const i=[],s=await X_(r),u=new DataView(s);for(;o<s.byteLength;){const c=u.getUint32(o);o+=4;const f=s.slice(o,o+c);o+=c,i.push(f)}return t.parse(n,i)},async fromBinary(n){const r=new DataView(await X_(n.slice(0,4))).getUint32(0),o=n.slice(4,r+4),i=await function(s){return new Promise((u,c)=>{const f=new FileReader;f.onabort=d=>c(new Error("file read aborted")),f.onerror=d=>c(d.target.error),f.onload=d=>u(d.target.result),f.readAsText(s)})}(n.slice(r+4));return await this.parse(i,o)}}}(sj);function WK(e,t,n){const r=[];for(let o of n){const{table:i,muts:s}=o,u=e.tables.find(d=>d.name===i);if(!u)throw new Error(`Internal error: table ${i} not found in DBCore schema`);const{primaryKey:c}=u;let f=o;s.forEach((d,m)=>{const g=!c.outbound&&(d.type==="upsert"||d.type==="insert");d.keys.forEach((x,y)=>{if(Array.isArray(x)){f===o&&(f=Q_(o,g));const _=f.muts[m],P=JSON.stringify(x);_.keys[y]=P}else if(x[0]==="#"){f===o&&(f=Q_(o,g));const _=f.muts[m];if(!t.isLoggedIn)throw new Error("Internal error: Cannot sync private IDs before authenticated");const P=`${x}:${t.userId}`;_.keys[y]=P,g&&sn.setByKeyPath(_.values[y],c.keyPath,P)}})}),r.push(f)}return r}function Q_(e,t){return Object.assign(Object.assign({},e),{muts:t?e.muts.map(n=>n.type!=="insert"&&n.type!=="upsert"||!n.values?Object.assign(Object.assign({},n),{keys:n.keys.slice()}):Object.assign(Object.assign({},n),{keys:n.keys.slice(),values:n.values.slice()})):e.muts.map(n=>Object.assign(Object.assign({},n),{keys:n.keys.slice()}))})}let xb=new WeakMap;function lj(e){var t,n;return gt(this,void 0,void 0,function*(){const r=((n=(t=xb.get(e))===null||t===void 0?void 0:t.getTime())!==null&&n!==void 0?n:0)-Date.now();r>0&&(yield new Promise(o=>setTimeout(o,r)))})}function VK(e,t,n,r,o,i,s,u){return gt(this,void 0,void 0,function*(){const c={Accept:"application/json, application/x-bison, application/x-bison-stream","Content-Type":"application/tson"},f=yield x1(r),d=f==null?void 0:f.accessToken;d&&(c.Authorization=`Bearer ${d}`);const m={v:2,dbID:t==null?void 0:t.remoteDbId,clientIdentity:s,schema:i||{},lastPull:t?{serverRevision:t.serverRevision,realms:t.realms,inviteRealms:t.inviteRealms}:void 0,baseRevs:n,changes:WK(r.dx.core.schema,u,e)};r.syncStateChangedEvent.next({phase:"pushing"});const g=yield fetch(`${o}/sync`,{method:"post",headers:c,credentials:"include",body:Mm.stringify(m)});if(r.syncStateChangedEvent.next({phase:"pulling"}),function(x,y){const _=y.headers.get("Ratelimit-Limit"),P=y.headers.get("Ratelimit-Remaining"),k=y.headers.get("Ratelimit-Reset");if(_&&P&&k){const C=Number(_),S=Math.max(0,Number(P)),A=Number(k);if(S<C/2){const K=Math.ceil(A/(S+1));xb.set(x,new Date(Date.now()+1e3*K))}else xb.delete(x)}}(r,g),!g.ok)throw new gb(g);if(g.headers.get("content-type")==="application/x-bison")return HK.fromBinary(yield g.blob());{const x=yield g.text();return Mm.parse(x)}})}function Rf(e){if(e!=null&&e.cancelled)throw new sn.AbortError("Operation was cancelled")}let nc=!1;function uj(e,t,n,r){return gt(this,void 0,void 0,function*(){yield e.$baseRevs.bulkPut(Object.keys(t).filter(o=>t[o].markedForSync).map(o=>({tableName:o,clientRev:(n[o]||0)+1,serverRev:r})))})}function Sb(e,t={}){for(const{table:n,muts:r}of e){const o=r.length>0?r[r.length-1].rev:null;t[n]=o||t[n]||0}return t}function GK(e,t,n){return gt(this,void 0,void 0,function*(){const r=yield e.bulkGet(t),o=[],i=[];t.forEach((s,u)=>{const c=r[u];if(c){for(const[f,d]of Object.entries(n[u]))if(f===e.schema.primKey.keyPath){if(d4(d,s)!==0)throw new Error("Cannot change primary key")}else sn.setByKeyPath(c,f,d);o.push(s),i.push(c)}}),yield e.schema.primKey.keyPath==null?e.bulkPut(i,o):e.bulkPut(i)})}function cj(e,t){return gt(this,void 0,void 0,function*(){for(const{table:n,muts:r}of e){const o=t.table(n);if(!o)continue;const{primaryKey:i}=o.core.schema,s=u=>{switch(u[0]){case"[":if(u.endsWith("]"))try{return JSON.parse(u)}catch{}return u;case"#":return u.endsWith(":"+t.cloud.currentUserId)?u.substr(0,u.length-t.cloud.currentUserId.length-1):u;default:return u}};for(const u of r){const c=u.keys.map(s);switch(u.type){case"insert":i.outbound?yield o.bulkAdd(u.values,c):(c.forEach((f,d)=>{sn.setByKeyPath(u.values[d],i.keyPath,f)}),yield o.bulkAdd(u.values));break;case"upsert":i.outbound?yield o.bulkPut(u.values,c):(c.forEach((f,d)=>{sn.setByKeyPath(u.values[d],i.keyPath,f)}),yield o.bulkPut(u.values));break;case"modify":c.length===1?yield o.update(c[0],u.changeSpec):yield o.where(":id").anyOf(c).modify(u.changeSpec);break;case"update":yield GK(o,c,u.changeSpecs);break;case"delete":yield o.bulkDelete(c)}}}})}typeof self<"u"&&typeof navigator<"u"&&(nc=navigator.onLine,self.addEventListener("online",()=>nc=!0),self.addEventListener("offline",()=>nc=!1));const qK="currentSyncWorker";function Kd(e,t,n,r){return fj.apply(this,arguments).then(o=>(r!=null&&r.justCheckIfNeeded||e.syncStateChangedEvent.next({phase:"in-sync"}),o)).catch(o=>gt(this,void 0,void 0,function*(){return r!=null&&r.justCheckIfNeeded?Promise.reject(o):nc&&(r!=null&&r.retryImmediatelyOnFetchError)&&(o==null?void 0:o.name)==="TypeError"&&/fetch/.test(o==null?void 0:o.message)?(e.syncStateChangedEvent.next({phase:"error",error:o}),yield new Promise(i=>setTimeout(i,500)),yield Kd(e,t,n,Object.assign(Object.assign({},r),{retryImmediatelyOnFetchError:!1}))):(yield e.$syncState.update("syncState",{timestamp:new Date,error:""+o}),e.syncStateChangedEvent.next({phase:nc?"error":"offline",error:new Error(""+(o==null?void 0:o.message)||o)}),Promise.reject(o))}))}function fj(e,t,n,{isInitialSync:r,cancelToken:o,justCheckIfNeeded:i,purpose:s}={isInitialSync:!1}){var u;return gt(this,void 0,void 0,function*(){if(!(!((u=e.cloud.options)===null||u===void 0)&&u.databaseUrl))throw new Error("Internal error: sync must not be called when no databaseUrl is configured");const{databaseUrl:c}=t,f=yield e.getCurrentUser(),d=f.isLoggedIn?qp(e):[],m=d.map(X=>e.table(_1(X.name))),g=yield e.getPersistedSyncState(),x=!r&&f.isLoggedIn,y=x?function(X,F){const N=(F==null?void 0:F.syncedTables)||[];return qp(X).filter(q=>!N.includes(q.name))}(e,g):[];Rf(o);const _=y.length>0;if(_){if(i)return!0;yield e.transaction("rw",y,X=>gt(this,void 0,void 0,function*(){X.idbtrans.disableChangeTracking=!0,X.idbtrans.disableAccessControl=!0,yield function(F,N,q){return gt(this,void 0,void 0,function*(){const U=new Set(q||[]);for(const te of F)te.name==="members"?yield te.toCollection().modify(ue=>{U.has(ue.realmId)||ue.userId&&ue.userId!==Do.userId||(ue.userId=N.userId)}):te.name==="roles"||(te.name==="realms"?yield te.toCollection().modify(ue=>{U.has(ue.realmId)||ue.owner!==void 0&&ue.owner!==Do.userId||(ue.owner=N.userId)}):yield te.toCollection().modify(ue=>{ue.realmId&&U.has(ue.realmId)||(ue.owner&&ue.owner!==Do.userId||(ue.owner=N.userId),ue.realmId&&ue.realmId!==Do.userId||(ue.realmId=N.userId))}))})}(y,f,g==null?void 0:g.realms)})),Rf(o)}const[P,k,C]=yield e.transaction("r",e.tables,()=>gt(this,void 0,void 0,function*(){const X=yield e.getPersistedSyncState(),F=yield e.$baseRevs.toArray();let N=yield wb(m);if(Rf(o),_){const q=[...(g==null?void 0:g.realms)||[],...(g==null?void 0:g.inviteRealms)||[]],U=yield function(te,ue,ke,Be){return gt(this,void 0,void 0,function*(){const Ve=`upload-${nj(8)}`;if(ue.isLoggedIn&&te.length>0){const ve=new Set(Be||[]);return(yield Promise.all(te.map(Fe=>gt(this,void 0,void 0,function*(){const{extractKey:Ce}=Fe.core.schema.primaryKey;if(!Ce)return{table:Fe.name,muts:[]};const Ke=ke[Fe.name],me=Ke!=null&&Ke.generatedGlobalId?Fe.filter(Se=>{return Ce(Se),!ve.has(Se.realmId||"")&&(Re=Ce(Se),!(Ze=Ke==null?void 0:Ke.idPrefix)||typeof Re=="string"&&Re.startsWith(Ze));var Re,Ze}):Fe.filter(Se=>{const Re=Ce(Se);return!ve.has(Se.realmId||"")&&g1(Re)}),Ge=yield me.toArray();if(Ge.length>0){const Se={type:"upsert",values:Ge,keys:Ge.map(Ce),userId:ue.userId,txid:Ve};return{table:Fe.name,muts:[Se]}}return{table:Fe.name,muts:[]}})))).filter(Fe=>Fe.muts.length>0)}return[]})}(y,f,n,q);return Rf(o),N=N.concat(U),[N,X,F]}return[N,X,F]})),S=P.some(X=>X.muts.some(F=>F.keys.length>0));if(i)return S;if(s==="push"&&!S)return!1;const A=Sb(P,k==null?void 0:k.latestRevisions),K=(k==null?void 0:k.clientIdentity)||RR(16);Rf(o);const O=yield VK(P,k,C,e,c,n,K,f);return(yield e.transaction("rw",e.tables,X=>gt(this,void 0,void 0,function*(){X.idbtrans.disableChangeTracking=!0,X.idbtrans.disableAccessControl=!0;for(const te of Object.keys(n))O.schema[te]&&(n[te]=O.schema[te]);yield e.$syncState.put(n,"schema");const F=yield wb(m,0,{since:A});for(const te of m){const ue=ej(te.name);if(F.some(ke=>ke.table===ue&&ke.muts.length>0)){if(A[ue]){const ke=A[ue]||0;yield Promise.all([te.where("rev").belowOrEqual(ke).delete(),e.$baseRevs.where(":id").between([ue,-1/0],[ue,ke+1],!0,!0).reverse().offset(1).delete()])}}else yield Promise.all([te.clear(),e.$baseRevs.where({tableName:ue}).delete()])}Sb(F,A),yield uj(e,n,A,O.serverRevision);const N=yield e.getPersistedSyncState();yield function(te,ue,ke){return gt(this,void 0,void 0,function*(){const Be=new Set,Ve=new Set,ve=ke?ke.realms:[],Fe=ke?ke.inviteRealms:[],Ce=new Set(ue.realms),Ke=new Set(ue.realms.concat(ue.inviteRealms));for(const me of ve)Ce.has(me)||(Ve.add(me),Ke.has(me)||Be.add(me));for(const me of Fe.concat(ve))Ke.has(me)||Be.add(me);if(Be.size>0||Ve.size>0){const me=qp(te);for(const Ge of me){let Se=["realms","members","roles"].includes(Ge.name)?Be:Ve;Se.size!==0&&(Ge.schema.indexes.some(Re=>Re.keyPath==="realmId"||Array.isArray(Re.keyPath)&&Re.keyPath[0]==="realmId")?yield Ge.where("realmId").anyOf([...Se]).delete():yield Ge.filter(Re=>!!(Re!=null&&Re.realmId)&&Se.has(Re.realmId)).delete())}}})}(e,O,N);const q=N||{syncedTables:[],latestRevisions:{},realms:[],inviteRealms:[],clientIdentity:K};x&&(q.syncedTables=d.map(te=>te.name).concat(y.map(te=>te.name))),q.latestRevisions=A,q.remoteDbId=O.dbId,q.initiallySynced=!0,q.realms=O.realms,q.inviteRealms=O.inviteRealms,q.serverRevision=O.serverRevision,q.timestamp=new Date,delete q.error;const U=dj(O.changes,F);return yield cj(U,e),e.$syncState.put(q,"syncState"),F.length===0})))?(e.syncCompleteEvent.next(),!1):(yield lj(e),yield fj(e,t,n,{isInitialSync:r,cancelToken:o}))})}function dj(e,t){const n={};A_(n,e);const r={};return A_(r,t),function(o,i){var s,u,c;for(const[f,d]of Object.entries(i))for(const[m,g]of Object.entries(d))switch(g.type){case"ups":{const x=(s=o[f])===null||s===void 0?void 0:s[m];if(x)switch(x.type){case"ups":case"upd":delete o[f][m]}}break;case"del":(u=o[f])===null||u===void 0||delete u[m];break;case"upd":{const x=(c=o[f])===null||c===void 0?void 0:c[m];if(x)switch(x.type){case"ups":for(const[y,_]of Object.entries(g.mod))Lm(x.val,y,_);break;case"del":break;case"upd":for(const y of Object.keys(g.mod))delete x.mod[y]}break}}}(n,r),function(o,i=""){i||(i=RR(16));const s={};for(const[c,f]of Object.entries(o))for(const[d,m]of Object.entries(f)){const g=s[c]||(s[c]={});(g[m.type]||(g[m.type]=[])).push(Object.assign({key:d},m))}const u=[];for(const[c,f]of Object.entries(s)){const d={table:c,muts:[]};for(const[m,g]of Object.entries(f))switch(m){case"ups":{const x={type:"upsert",keys:g.map(y=>y.key),values:g.map(y=>y.val),txid:i};d.muts.push(x);break}case"upd":{const x={type:"update",keys:g.map(y=>y.key),changeSpecs:g.map(y=>y.mod),txid:i};d.muts.push(x);break}case"del":{const x={type:"delete",keys:g.map(y=>y.key),txid:i};d.muts.push(x);break}}u.push(d)}return u}(n)}function YK(e){const t=[],n=new Ti(!0),r=new Ti(null);let o=!1,i=0,s=[0,0,0,0,0,0,0,0,0,Date.now()];return r.subscribe(()=>gt(this,void 0,void 0,function*(){if(!o&&t.length>0){o=!0,s.shift(),s.push(Date.now()),n.next(!1);try{yield function(){var u,c,f,d,m,g;return gt(this,void 0,void 0,function*(){for(;t.length>0;){const x=t.shift();try{yield e.cloud.syncState.pipe(Gi(({phase:_})=>_==="in-sync"||_==="error"),Vi(1)).toPromise();const y=e.cloud.persistedSyncState.value;if(!x)continue;switch(x.type){case"token-expired":const _=e.cloud.currentUser.value,P=yield Tv(e.cloud.options.databaseUrl,_);yield e.table("$logins").update(_.userId,{accessToken:P.accessToken,accessTokenExpiration:P.accessTokenExpiration,claims:P.claims,license:P.license});break;case"realm-added":!((u=y==null?void 0:y.realms)===null||u===void 0)&&u.includes(x.realm)||!((c=y==null?void 0:y.inviteRealms)===null||c===void 0)&&c.includes(x.realm)||(yield e.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-accepted":!((f=y==null?void 0:y.realms)===null||f===void 0)&&f.includes(x.realm)||(yield e.cloud.sync({purpose:"pull",wait:!0}));break;case"realm-removed":(!((d=y==null?void 0:y.realms)===null||d===void 0)&&d.includes(x.realm)||!((m=y==null?void 0:y.inviteRealms)===null||m===void 0)&&m.includes(x.realm))&&(yield e.cloud.sync({purpose:"pull",wait:!0}));break;case"realms-changed":yield e.cloud.sync({purpose:"pull",wait:!0});break;case"changes":if(((g=e.cloud.syncState.value)===null||g===void 0?void 0:g.phase)==="error"){Na(e,"pull");break}yield e.transaction("rw",e.dx.tables,k=>gt(this,void 0,void 0,function*(){k.idbtrans.disableChangeTracking=!0,k.idbtrans.disableAccessControl=!0;const[C,S,A]=yield Promise.all([e.getSchema(),e.getPersistedSyncState(),e.getCurrentUser()]);if(!S||!C||!A)return;if(x.baseRev!==S.serverRevision)return void(typeof x.baseRev!="string"||typeof S.serverRevision!="bigint"&&typeof S.serverRevision!="object"||Na(e,"pull"));if((yield sn.waitFor(bb(S)))!==x.realmSetHash)return void Na(e,"pull");let K=[];if(A.isLoggedIn){const O=qp(e).map(L=>e.table(_1(L.name)));K=yield wb(O)}if(x.changes.length>0){const O=dj(x.changes,K);yield cj(O,e)}S.latestRevisions=Sb(K,S.latestRevisions),S.serverRevision=x.newRev,yield uj(e,C,S.latestRevisions,x.newRev),yield e.$syncState.put(S,"syncState")}))}}catch{}}})}()}finally{s[s.length-1]-s[0]<1e4&&(Date.now()-i<5e3?(i=Date.now()+6e4,yield new Promise(u=>setTimeout(u,6e4))):(i=Date.now()+1e4,yield new Promise(u=>setTimeout(u,1e4)))),o=!1,n.next(!0)}}})),{enqueue:function(u){t.push(u),r.next(null)},readyToServe:n}}const Z_=new WeakMap,Sp={members:"@id, [userId+realmId], [email+realmId], realmId",roles:"[realmId+name]",realms:"@realmId",$jobs:"",$syncState:"",$baseRevs:"[tableName+clientRev]",$logins:"claims.sub, lastLogin"};let XK=0;function ba(e){"vip"in e&&(e=e.vip);let t=Z_.get(e.cloud);if(!t){const n=new eh;let r=new xp(`syncstatechanged-${e.name}`),o=new xp(`synccomplete-${e.name}`);n.id=++XK;let i=!1;t={get name(){return e.name},close:()=>e.close(),transaction:e.transaction.bind(e),table:e.table.bind(e),get tables(){return e.tables},cloud:e.cloud,get $jobs(){return e.table("$jobs")},get $syncState(){return e.table("$syncState")},get $baseRevs(){return e.table("$baseRevs")},get $logins(){return e.table("$logins")},get realms(){return e.realms},get members(){return e.members},get roles(){return e.roles},get initiallySynced(){return i},localSyncEvent:n,get syncStateChangedEvent(){return r},get syncCompleteEvent(){return o},dx:e},Object.assign(t,{getCurrentUser:()=>t.$logins.toArray().then(u=>u.find(c=>c.isLoggedIn)||Do),getPersistedSyncState:()=>t.$syncState.get("syncState"),getSchema:()=>t.$syncState.get("schema").then(u=>{if(u)for(const f of t.tables)f.schema.primKey&&f.schema.primKey.keyPath&&u[f.name]&&(u[f.name].primaryKey=typeof(c=f.schema.primKey.keyPath)=="string"?c:c?"["+[].join.call(c,"+")+"]":"");var c;return u}),getOptions:()=>t.$syncState.get("options"),setInitiallySynced(u){i=u},reconfigure(){r=new xp(`syncstatechanged-${e.name}`),o=new xp(`synccomplete-${e.name}`)}}),t.messageConsumer=YK(t),Z_.set(e.cloud,t)}return t}const JK=typeof InstallTrigger<"u",hj=typeof navigator<"u"&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\/|Edge\//.test(navigator.userAgent),QK=hj?[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]:NaN,ZK=hj&&QK<=605||JK,eH=typeof self<"u"&&"clients"in self&&!self.document;function pj(){throw new sn.SchemaError("Version increment needed to allow dexie-cloud change tracking")}const{toString:tH}={};function ek(e){return tH.call(e).slice(8,-1)}function Ty(e,t){var n;return t.type==="delete"?t.keys:((n=t.keys)===null||n===void 0?void 0:n.slice())||t.values.map(e.extractKey)}const nH=/b|c|d|f|g|h|j|k|l|m|n|p|q|r|s|t|v|x|y|z/i;let wa=0;function mj(e,t){const n=new Uint8Array(18),r=new Uint8Array(n.buffer,0,6),o=Date.now();wa>=o?++wa:wa=o,r[0]=wa/1099511627776,r[1]=wa/4294967296,r[2]=wa/16777216,r[3]=wa/65536,r[4]=wa/256,r[5]=wa;const i=new Uint8Array(n.buffer,6);return crypto.getRandomValues(i),e+oj(new Uint8Array(n.buffer))+(t||"")}function rH(e){return{stack:"dbcore",name:"idGenerationMiddleware",level:1,create:t=>Object.assign(Object.assign({},t),{table:n=>{const r=t.table(n);return Object.assign(Object.assign({},r),{mutate:o=>{var i,s;if(o.trans.disableChangeTracking)return r.mutate(o);if(o.type==="add"||o.type==="put"){const u=(i=e.cloud.schema)===null||i===void 0?void 0:i[n];if(u!=null&&u.generatedGlobalId){if(!((s=e.cloud.options)===null||s===void 0)&&s.databaseUrl&&!e.initiallySynced){const c=Ty(r.schema.primaryKey,o);return r.getMany({keys:c,trans:o.trans,cache:"immutable"}).then(f=>{if(f.length<c.length)throw new Error("Unable to create new objects without an initial sync having been performed.");return r.mutate(o)})}return function(c,f){let d=null;const m=Ty(r.schema.primaryKey,c);return m.forEach((g,x)=>{if(g===void 0){const y=c.values[x].realmId||e.cloud.currentUserId,_=y.substr(y.length-3);m[x]=mj(f,_),r.schema.primaryKey.outbound||(d||(d=c.values.slice()),d[x]=sn.deepClone(d[x]),sn.setByKeyPath(d[x],r.schema.primaryKey.keyPath,m[x]))}else if(typeof g!="string"||!g.startsWith(f)&&!g.startsWith("#"+f))throw new sn.ConstraintError(`The ID "${g}" is not valid for table "${n}". Primary '@' keys requires the key to be prefixed with "${f}" (or "#${f}).
If you want to generate IDs programmatically, remove '@' from the schema to get rid of this constraint. Dexie Cloud supports custom IDs as long as they are random and globally unique.`)}),r.mutate(Object.assign(Object.assign({},c),{keys:m,values:d||c.values}))}(o,u.idPrefix)}u!=null&&u.markedForSync&&Ty(r.schema.primaryKey,o).forEach((c,f)=>{if(!g1(c)){const d=Array.isArray(c)?c.map(ek).join(","):ek(c);throw new sn.ConstraintError(`Invalid primary key type ${d} for table ${n}. Tables marked for sync has primary keys of type string or Array of string (and optional numbers)`)}})}return r.mutate(o)}})}})}}let oH=0;function jf(e,t){return function(n){const{readers:r,writers:o}=n.trans[t]||(n.trans[t]={writers:[],readers:[]}),i=o.length,s=(i>0?o[i-1].then(()=>e(n),()=>e(n)):e(n)).finally(()=>{r.splice(r.indexOf(s))});return r.push(s),s}}function iH(e,t){return function(n){const{readers:r,writers:o}=n.trans[t]||(n.trans[t]={writers:[],readers:[]});let i=(o.length>0?o[o.length-1].then(()=>e(n),()=>e(n)):r.length>0?(s=r,new Promise(u=>{s.length===0&&u([]);let c=s.length;const f=new Array(c);s.forEach((d,m)=>Promise.resolve(d).then(g=>f[m]={status:"fulfilled",value:g},g=>f[m]={status:"rejected",reason:g}).then(()=>--c||u(f)))})).then(()=>e(n)):e(n)).finally(()=>{o.shift()});var s;return o.push(i),i}}const ku=new Ti(new Set);function vj(e){var t,n,r,o;return((t=e.cloud.options)===null||t===void 0?void 0:t.disableEagerSync)||((r=(n=e.cloud.currentUser.value)===null||n===void 0?void 0:n.license)===null||r===void 0?void 0:r.status)!=="ok"||!(!((o=e.cloud.options)===null||o===void 0)&&o.databaseUrl)}function aH({currentUserObservable:e,db:t}){return{stack:"dbcore",name:"MutationTrackingMiddleware",level:1,create:n=>{const r=n.schema.tables.filter(i=>!/^\$/.test(i.name));let o;try{o=new Map(r.map(i=>[i.name,n.table(`$${i.name}_mutations`)]))}catch{pj()}return Object.assign(Object.assign({},n),{transaction:(i,s)=>{let u;if(s==="readwrite"){const c=i.filter(f=>{var d,m;return(m=(d=t.cloud.schema)===null||d===void 0?void 0:d[f])===null||m===void 0?void 0:m.markedForSync}).map(f=>_1(f));u=n.transaction([...i,...c],s)}else u=n.transaction(i,s);if(s==="readwrite"){u.txid=nj(16),u.opCount=0,u.currentUser=e.value,ku.value.add(u),ku.next(ku.value);const c=()=>{u.removeEventListener("complete",f),u.removeEventListener("error",c),u.removeEventListener("abort",c),ku.value.delete(u),ku.next(ku.value)},f=()=>{u.mutationsAdded&&!vj(t)&&Na(t,"push"),c()};u.addEventListener("complete",f),u.addEventListener("error",c),u.addEventListener("abort",c)}return u},table:i=>{const s=n.table(i);if(/^\$/.test(i))return i.endsWith("_mutations")?Object.assign(Object.assign({},s),{mutate:d=>(d.type!=="add"&&d.type!=="put"||(d.trans.mutationsAdded=!0),s.mutate(d))}):i==="$logins"?Object.assign(Object.assign({},s),{mutate:d=>s.mutate(d).then(m=>(d.trans.mutationsAdded=!0,m)).catch(m=>Promise.reject(m))}):s;const{schema:u}=s,c=o.get(i);return function(d){const m="$lock"+ ++oH;return Object.assign(Object.assign({},d),{count:jf(d.count,m),get:jf(d.get,m),getMany:jf(d.getMany,m),openCursor:jf(d.openCursor,m),query:jf(d.query,m),mutate:iH(d.mutate,m)})}(Object.assign(Object.assign({},s),{mutate:d=>{var m,g,x;const y=d.trans;return y.txid?y.disableChangeTracking?s.mutate(d):!((g=(m=t.cloud.schema)===null||m===void 0?void 0:m[i])===null||g===void 0)&&g.markedForSync&&(!((x=y.currentUser)===null||x===void 0)&&x.isLoggedIn)?d.type==="deleteRange"?s.query({query:{range:d.range,index:u.primaryKey},trans:d.trans,values:!1}).then(_=>f({type:"delete",keys:_.result,trans:d.trans,criteria:{index:null,range:d.range}})):f(d):s.mutate(d):s.mutate(d)}}));function f(d){const m=d.trans;m.mutationsAdded=!0;const{txid:g,currentUser:{userId:x}}=m,{type:y}=d,_=++m.opCount;return s.mutate(d).then(P=>{const{numFailures:k,failures:C}=P;let S=y==="delete"?d.keys:P.results,A="values"in d?d.values:[],K="updates"in d&&d.updates;k&&(S=S.filter((X,F)=>!C[F]),A=A.filter((X,F)=>!C[F]));const O=Date.now(),L=d.type==="delete"?{type:"delete",ts:O,opNo:_,keys:S,criteria:d.criteria,txid:g,userId:x}:d.type==="add"?{type:"insert",ts:O,opNo:_,keys:S,txid:g,userId:x,values:A}:d.criteria&&d.changeSpec?{type:"modify",ts:O,opNo:_,keys:S,criteria:d.criteria,changeSpec:d.changeSpec,txid:g,userId:x}:K?{type:"update",ts:O,opNo:_,keys:K.keys,changeSpecs:K.changeSpecs,txid:g,userId:x}:{type:"upsert",ts:O,opNo:_,keys:S,values:A,txid:g,userId:x};return S.length>0||"criteria"in d&&d.criteria?c.mutate({type:"add",trans:m,values:[L]}).then(()=>P):P})}}})}}}function sH(e,t){return function(n,r){const o=Object.assign(Object.assign({},Sp),n);Object.keys(Sp).forEach(u=>{const c=o[u];if(c==null)throw new Error(`Cannot delete table ${u} as it is needed for access control of Dexie Cloud`);if(!n[u])return;const f=c.split(",").map(g=>g.trim()),d=Sp[u].split(",").map(g=>g.trim()),m=new Set(f.map(g=>g.replace(/([&*]|\+\+)/g,"")));if(f[0]!==d[0])throw new Error(`Cannot override primary key of table ${u}. Please declare it as {${u}: ${JSON.stringify(Sp[u])}`);for(let g=1;g<d.length;++g){const x=d[g];m.has(x.replace(/([&*]|\+\+)/g,""))||(o[u]+=`,${x}`)}});const i=t.cloud.schema||(t.cloud.schema={}),s=new Set;return Object.keys(o).forEach(u=>{const c=o[u],f=i[u]||(i[u]={});c!=null?(/^\@/.test(c)&&(o[u]=o[u].substr(1),f.generatedGlobalId=!0,f.idPrefix=function(d,m){let g=d[0].toLocaleLowerCase();for(let P=1,k=d.length;P<k&&g.length<3;++P)(nH.test(d[P])||(x=d[P])>="A"&&x<="Z")&&(g+=d[P].toLowerCase());for(var x,y,_;m.has(g);){if(/\d/g.test(g)){if(g=g.substr(0,g.length-1)+(g[g.length-1]+1),!(g.length>3))continue;g=g.substr(0,3)}else if(g.length<3){g+="2";continue}let P=1,k=g;for(;m.has(k)&&P<8;)y=g,k=(1&(_=P)?y[0].toUpperCase():y[0].toLowerCase())+(2&_?y[1].toUpperCase():y[1].toLowerCase())+(4&_?y[2].toUpperCase():y[2].toLowerCase()),++P;if(P<8)g=k;else{let C=g.charCodeAt(2)+1&127;g=g.substr(0,2)+String.fromCharCode(C)}}return g}(u,s),s.add(f.idPrefix)),/^\$/.test(u)||(o[`$${u}_mutations`]="++rev",f.markedForSync=!0),f.deleted&&(f.deleted=!1)):(f.deleted=!0,f.markedForSync=!1,o[`$${u}_mutations`]=null)}),e.call(this,o,r)}}const ld=new Ti(!0),_b=new Ti(!0);ld.pipe(ro(e=>e?Ia(!0):Ia(!1).pipe(qR(2e4))),YR()).subscribe(_b);const gj=typeof document<"u"?Yi(document,"visibilitychange"):Ia({}),lH=gj.pipe(Gi(()=>document.visibilityState==="hidden")),uH=gj.pipe(Gi(()=>document.visibilityState==="visible")),yj=typeof window<"u"?TR(uH,Yi(window,"mousedown"),Yi(window,"mousemove"),Yi(window,"keydown"),Yi(window,"wheel"),Yi(window,"touchmove")):Ia({});typeof document<"u"&&TR(Ia(!0),lH,yj).pipe(Xi(()=>document.visibilityState==="visible"),H_(e=>{ld.value!==e&&ld.next(e)}),ro(e=>e?Ia(0).pipe(qR(16e4),H_(()=>ld.next(!1))):Ia(0))).subscribe(()=>{});class cH extends Error{constructor(){super(...arguments),this.name="TokenExpiredError"}}class fH extends Sr{constructor(t,n,r,o,i,s,u,c){super(f=>new hH(t,n,r,o,u,c,f,i,s))}}let dH=0;class hH extends jc{constructor(t,n,r,o,i,s,u,c,f){super(()=>this.teardown()),this.id=++dH,this.reconnecting=!1,this.databaseUrl=t,this.rev=n,this.realmSetHash=r,this.clientIdentity=o,this.token=i,this.tokenExpiration=s,this.subscriber=u,this.lastUserActivity=new Date,this.messageProducer=c,this.messageProducerSubscription=null,this.webSocketStatus=f,this.connect()}teardown(){this.disconnect()}disconnect(){if(this.webSocketStatus.next("disconnected"),this.pinger&&(clearInterval(this.pinger),this.pinger=null),this.ws)try{this.ws.close()}catch{}this.ws=null,this.messageProducerSubscription&&(this.messageProducerSubscription.unsubscribe(),this.messageProducerSubscription=null)}reconnect(){if(!this.reconnecting){this.reconnecting=!0;try{this.disconnect()}catch{}this.connect().catch(()=>{}).then(()=>this.reconnecting=!1)}}connect(){return gt(this,void 0,void 0,function*(){if(this.lastServerActivity=new Date,this.pauseUntil&&this.pauseUntil>new Date)return;if(this.ws)throw new Error("Called connect() when a connection is already open");if(!this.databaseUrl)throw new Error("Cannot connect without a database URL");if(this.closed)return;if(this.tokenExpiration&&this.tokenExpiration<new Date)return void this.subscriber.error(new cH);this.webSocketStatus.next("connecting"),this.pinger=setInterval(()=>gt(this,void 0,void 0,function*(){if(this.closed)this.teardown();else if(this.ws)try{this.ws.send(JSON.stringify({type:"ping"})),setTimeout(()=>{this.pinger&&(this.closed?this.teardown():this.lastServerActivity<new Date(Date.now()-2e4)&&this.reconnect())},2e4)}catch{this.reconnect()}else this.reconnect()}),3e4);const t=new URL(this.databaseUrl);t.protocol=t.protocol==="http:"?"ws":"wss";const n=new URLSearchParams;if(this.subscriber.closed)return;n.set("v","2"),n.set("rev",this.rev),n.set("realmsHash",this.realmSetHash),n.set("clientId",this.clientIdentity),this.token&&n.set("token",this.token);const r=this.ws=new WebSocket(`${t}/changes?${n}`);r.onclose=o=>{this.pinger&&this.reconnect()},r.onmessage=o=>{if(this.pinger){this.lastServerActivity=new Date;try{const i=Mm.parse(o.data);if(i.type==="error")throw new Error(`Error message from dexie-cloud: ${i.error}`);i.type==="rev"&&(this.rev=i.rev),i.type!=="pong"&&this.subscriber.next(i)}catch(i){this.subscriber.error(i)}}};try{let o=!1;yield new Promise((i,s)=>{r.onopen=u=>{o=!0,i(null)},r.onerror=u=>{if(o)this.reconnect();else{const c=u.error||new Error("WebSocket Error");this.subscriber.error(c),this.webSocketStatus.next("error"),s(c)}}}),this.messageProducerSubscription=this.messageProducer.subscribe(i=>{var s;this.closed||(i.type==="ready"&&this.webSocketStatus.value!=="connected"&&this.webSocketStatus.next("connected"),(s=this.ws)===null||s===void 0||s.send(Mm.stringify(i)))})}catch{this.pauseUntil=new Date(Date.now()+6e4)}})}}class pH extends Error{constructor(t){super(t==="expired"?"License expired":t==="deactivated"?"User deactivated":"Invalid license"),this.name="InvalidLicenseError",t&&(this.license=t)}}function mH(e){return gt(this,void 0,void 0,function*(){var t;yield(t=3e3,new Promise(n=>setTimeout(n,t))),yield yj.pipe(Vi(1)).toPromise()})}function tk(e){var t;return gt(this,void 0,void 0,function*(){return!(!(!((t=e.cloud.options)===null||t===void 0)&&t.databaseUrl)||!e.cloud.schema)&&(yield Kd(e,e.cloud.options,e.cloud.schema,{justCheckIfNeeded:!0}))})}const _p=new WeakMap;function bj(e,t,n,r){const o=_p.get(e);if(o){if(o.pull||(r==null?void 0:r.purpose)==="push")return o.promise;{let s=!1;const u=e.cloud.syncState.subscribe(c=>{c.phase==="pulling"&&(s=!0)});return o.promise.then(()=>{u.unsubscribe()}).catch(c=>(u.unsubscribe(),Promise.reject(c))).then(()=>{if(!s)return bj(e,t,n,r)})}}const i=function(){return gt(this,void 0,void 0,function*(){try{if(yield lj(e),e.cloud.isServiceWorkerDB)yield Kd(e,t,n,r);else{if(e.cloud.usingServiceWorker)throw OR(!1),new Error("Internal _syncIfPossible() - invalid precondition - should not have been called.");yield function(s,u,c){return typeof navigator<"u"&&navigator.locks?navigator.locks.request(s.name+"|"+u,()=>c()):c()}(e,qK,()=>Kd(e,t,n,r))}_p.delete(e)}catch(s){throw _p.delete(e),s}})}();return _p.set(e,{promise:i,pull:(r==null?void 0:r.purpose)!=="push"}),i}const vH=6e4;function gH(e,t,n){let r=null,o={cancelled:!1},i=null,s=null;function u(f,d=1){setTimeout(()=>{i&&clearTimeout(i);const m=s==="pull"?"pull":f;i=null,s=null,bj(e,t,n,{cancelToken:o,retryImmediatelyOnFetchError:!0,purpose:m}).catch(g=>{if(o.cancelled)c();else if(d<3){const x=s&&s==="pull"?"pull":f,y=setTimeout(()=>u(x,d+1),[0,5,15][d]*vH);i&&clearTimeout(i),i=y,s=x}})},0)}const c=()=>{o.cancelled=!0,r&&r.unsubscribe()};return{start:()=>{r=e.localSyncEvent.subscribe(({purpose:f})=>{try{u(f||"pull")}catch{}})},stop:c}}function Ny(e,t){if(e&&t&&t.unsyncedTables)for(const n of t.unsyncedTables)e[n]&&(e[n].markedForSync=!1)}var Nv,qt,wj,ud,nk,zm={},Ej=[],yH=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ys(e,t){for(var n in t)e[n]=t[n];return e}function xj(e){var t=e.parentNode;t&&t.removeChild(e)}function br(e,t,n){var r,o,i,s={};for(i in t)i=="key"?r=t[i]:i=="ref"?o=t[i]:s[i]=t[i];if(arguments.length>2&&(s.children=arguments.length>3?Nv.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(i in e.defaultProps)s[i]===void 0&&(s[i]=e.defaultProps[i]);return Yp(e,s,r,o,null)}function Yp(e,t,n,r,o){var i={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:o??++wj};return o==null&&qt.vnode!=null&&qt.vnode(i),i}function xc(e){return e.children}function cd(e,t){this.props=e,this.context=t}function Sc(e,t){if(t==null)return e.__?Sc(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Sc(e):null}function Sj(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return Sj(e)}}function rk(e){(!e.__d&&(e.__d=!0)&&ud.push(e)&&!Fm.__r++||nk!==qt.debounceRendering)&&((nk=qt.debounceRendering)||setTimeout)(Fm)}function Fm(){for(var e;Fm.__r=ud.length;)e=ud.sort(function(t,n){return t.__v.__b-n.__v.__b}),ud=[],e.some(function(t){var n,r,o,i,s,u;t.__d&&(s=(i=(n=t).__v).__e,(u=n.__P)&&(r=[],(o=ys({},i)).__v=i.__v+1,k1(u,i,o,n.__n,u.ownerSVGElement!==void 0,i.__h!=null?[s]:null,r,s??Sc(i),i.__h),Cj(r,i),i.__e!=s&&Sj(i)))})}function _j(e,t,n,r,o,i,s,u,c,f){var d,m,g,x,y,_,P,k=r&&r.__k||Ej,C=k.length;for(n.__k=[],d=0;d<t.length;d++)if((x=n.__k[d]=(x=t[d])==null||typeof x=="boolean"?null:typeof x=="string"||typeof x=="number"||typeof x=="bigint"?Yp(null,x,null,null,x):Array.isArray(x)?Yp(xc,{children:x},null,null,null):x.__b>0?Yp(x.type,x.props,x.key,null,x.__v):x)!=null){if(x.__=n,x.__b=n.__b+1,(g=k[d])===null||g&&x.key==g.key&&x.type===g.type)k[d]=void 0;else for(m=0;m<C;m++){if((g=k[m])&&x.key==g.key&&x.type===g.type){k[m]=void 0;break}g=null}k1(e,x,g=g||zm,o,i,s,u,c,f),y=x.__e,(m=x.ref)&&g.ref!=m&&(P||(P=[]),g.ref&&P.push(g.ref,null,x),P.push(m,x.__c||y,x)),y!=null?(_==null&&(_=y),typeof x.type=="function"&&x.__k===g.__k?x.__d=c=kj(x,c,e):c=Pj(e,x,g,k,y,c),typeof n.type=="function"&&(n.__d=c)):c&&g.__e==c&&c.parentNode!=e&&(c=Sc(g))}for(n.__e=_,d=C;d--;)k[d]!=null&&(typeof n.type=="function"&&k[d].__e!=null&&k[d].__e==n.__d&&(n.__d=Sc(r,d+1)),Nj(k[d],k[d]));if(P)for(d=0;d<P.length;d++)Tj(P[d],P[++d],P[++d])}function kj(e,t,n){for(var r,o=e.__k,i=0;o&&i<o.length;i++)(r=o[i])&&(r.__=e,t=typeof r.type=="function"?kj(r,t,n):Pj(n,r,r,o,r.__e,t));return t}function Pj(e,t,n,r,o,i){var s,u,c;if(t.__d!==void 0)s=t.__d,t.__d=void 0;else if(n==null||o!=i||o.parentNode==null)e:if(i==null||i.parentNode!==e)e.appendChild(o),s=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<r.length;c+=2)if(u==o)break e;e.insertBefore(o,i),s=i}return s!==void 0?s:o.nextSibling}function ok(e,t,n){t[0]==="-"?e.setProperty(t,n):e[t]=n==null?"":typeof n!="number"||yH.test(t)?n:n+"px"}function kp(e,t,n,r,o){var i;e:if(t==="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||ok(e.style,t,"");if(n)for(t in n)r&&n[t]===r[t]||ok(e.style,t,n[t])}else if(t[0]==="o"&&t[1]==="n")i=t!==(t=t.replace(/Capture$/,"")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+i]=n,n?r||e.addEventListener(t,i?ak:ik,i):e.removeEventListener(t,i?ak:ik,i);else if(t!=="dangerouslySetInnerHTML"){if(o)t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!=="href"&&t!=="list"&&t!=="form"&&t!=="tabIndex"&&t!=="download"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n!=null&&(n!==!1||t[0]==="a"&&t[1]==="r")?e.setAttribute(t,n):e.removeAttribute(t))}}function ik(e){this.l[e.type+!1](qt.event?qt.event(e):e)}function ak(e){this.l[e.type+!0](qt.event?qt.event(e):e)}function k1(e,t,n,r,o,i,s,u,c){var f,d,m,g,x,y,_,P,k,C,S,A,K,O=t.type;if(t.constructor!==void 0)return null;n.__h!=null&&(c=n.__h,u=t.__e=n.__e,t.__h=null,i=[u]),(f=qt.__b)&&f(t);try{e:if(typeof O=="function"){if(P=t.props,k=(f=O.contextType)&&r[f.__c],C=f?k?k.props.value:f.__:r,n.__c?_=(d=t.__c=n.__c).__=d.__E:("prototype"in O&&O.prototype.render?t.__c=d=new O(P,C):(t.__c=d=new cd(P,C),d.constructor=O,d.render=wH),k&&k.sub(d),d.props=P,d.state||(d.state={}),d.context=C,d.__n=r,m=d.__d=!0,d.__h=[]),d.__s==null&&(d.__s=d.state),O.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ys({},d.__s)),ys(d.__s,O.getDerivedStateFromProps(P,d.__s))),g=d.props,x=d.state,m)O.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(O.getDerivedStateFromProps==null&&P!==g&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(P,C),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(P,d.__s,C)===!1||t.__v===n.__v){d.props=P,d.state=d.__s,t.__v!==n.__v&&(d.__d=!1),d.__v=t,t.__e=n.__e,t.__k=n.__k,t.__k.forEach(function(L){L&&(L.__=t)}),d.__h.length&&s.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(P,d.__s,C),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(g,x,y)})}if(d.context=C,d.props=P,d.__v=t,d.__P=e,S=qt.__r,A=0,"prototype"in O&&O.prototype.render)d.state=d.__s,d.__d=!1,S&&S(t),f=d.render(d.props,d.state,d.context);else do d.__d=!1,S&&S(t),f=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++A<25);d.state=d.__s,d.getChildContext!=null&&(r=ys(ys({},r),d.getChildContext())),m||d.getSnapshotBeforeUpdate==null||(y=d.getSnapshotBeforeUpdate(g,x)),K=f!=null&&f.type===xc&&f.key==null?f.props.children:f,_j(e,Array.isArray(K)?K:[K],t,n,r,o,i,s,u,c),d.base=t.__e,t.__h=null,d.__h.length&&s.push(d),_&&(d.__E=d.__=null),d.__e=!1}else i==null&&t.__v===n.__v?(t.__k=n.__k,t.__e=n.__e):t.__e=bH(n.__e,t,n,r,o,i,s,c);(f=qt.diffed)&&f(t)}catch(L){t.__v=null,(c||i!=null)&&(t.__e=u,t.__h=!!c,i[i.indexOf(u)]=null),qt.__e(L,t,n)}}function Cj(e,t){qt.__c&&qt.__c(t,e),e.some(function(n){try{e=n.__h,n.__h=[],e.some(function(r){r.call(n)})}catch(r){qt.__e(r,n.__v)}})}function bH(e,t,n,r,o,i,s,u){var c,f,d,m=n.props,g=t.props,x=t.type,y=0;if(x==="svg"&&(o=!0),i!=null){for(;y<i.length;y++)if((c=i[y])&&"setAttribute"in c==!!x&&(x?c.localName===x:c.nodeType===3)){e=c,i[y]=null;break}}if(e==null){if(x===null)return document.createTextNode(g);e=o?document.createElementNS("http://www.w3.org/2000/svg",x):document.createElement(x,g.is&&g),i=null,u=!1}if(x===null)m===g||u&&e.data===g||(e.data=g);else{if(i=i&&Nv.call(e.childNodes),f=(m=n.props||zm).dangerouslySetInnerHTML,d=g.dangerouslySetInnerHTML,!u){if(i!=null)for(m={},y=0;y<e.attributes.length;y++)m[e.attributes[y].name]=e.attributes[y].value;(d||f)&&(d&&(f&&d.__html==f.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}if(function(_,P,k,C,S){var A;for(A in k)A==="children"||A==="key"||A in P||kp(_,A,null,k[A],C);for(A in P)S&&typeof P[A]!="function"||A==="children"||A==="key"||A==="value"||A==="checked"||k[A]===P[A]||kp(_,A,P[A],k[A],C)}(e,g,m,o,u),d)t.__k=[];else if(y=t.props.children,_j(e,Array.isArray(y)?y:[y],t,n,r,o&&x!=="foreignObject",i,s,i?i[0]:n.__k&&Sc(n,0),u),i!=null)for(y=i.length;y--;)i[y]!=null&&xj(i[y]);u||("value"in g&&(y=g.value)!==void 0&&(y!==e.value||x==="progress"&&!y||x==="option"&&y!==m.value)&&kp(e,"value",y,m.value,!1),"checked"in g&&(y=g.checked)!==void 0&&y!==e.checked&&kp(e,"checked",y,m.checked,!1))}return e}function Tj(e,t,n){try{typeof e=="function"?e(t):e.current=t}catch(r){qt.__e(r,n)}}function Nj(e,t,n){var r,o;if(qt.unmount&&qt.unmount(e),(r=e.ref)&&(r.current&&r.current!==e.__e||Tj(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(i){qt.__e(i,t)}r.base=r.__P=null}if(r=e.__k)for(o=0;o<r.length;o++)r[o]&&Nj(r[o],t,typeof e.type!="function");n||e.__e==null||xj(e.__e),e.__e=e.__d=void 0}function wH(e,t,n){return this.constructor(e,n)}function sk(e,t,n){var r,o,i;qt.__&&qt.__(e,t),o=(r=typeof n=="function")?null:n&&n.__k||t.__k,i=[],k1(t,e=(!r&&n||t).__k=br(xc,null,[e]),o||zm,zm,t.ownerSVGElement!==void 0,!r&&n?[n]:o?null:t.firstChild?Nv.call(t.childNodes):null,i,!r&&n?n:o?o.__e:t.firstChild,r),Cj(i,e)}Nv=Ej.slice,qt={__e:function(e,t,n,r){for(var o,i,s;t=t.__;)if((o=t.__c)&&!o.__)try{if((i=o.constructor)&&i.getDerivedStateFromError!=null&&(o.setState(i.getDerivedStateFromError(e)),s=o.__d),o.componentDidCatch!=null&&(o.componentDidCatch(e,r||{}),s=o.__d),s)return o.__E=o}catch(u){e=u}throw e}},wj=0,cd.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ys({},this.state),typeof e=="function"&&(e=e(ys({},n),this.props)),e&&ys(n,e),e!=null&&this.__v&&(t&&this.__h.push(t),rk(this))},cd.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),rk(this))},cd.prototype.render=xc,ud=[],Fm.__r=0;const Wi={Error:{color:"red"},Alert:{error:{color:"red",fontWeight:"bold"},warning:{color:"#f80",fontWeight:"bold"},info:{color:"black"}},Darken:{position:"fixed",top:0,left:0,opacity:.5,backgroundColor:"#000",width:"100vw",height:"100vh",zIndex:150,webkitBackdropFilter:"blur(2px)",backdropFilter:"blur(2px)"},DialogOuter:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",zIndex:150,alignItems:"center",display:"flex",justifyContent:"center"},DialogInner:{position:"relative",color:"#222",backgroundColor:"#fff",padding:"30px",marginBottom:"2em",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",border:"3px solid #3d3d5d",borderRadius:"8px",boxShadow:"0 0 80px 10px #666",width:"auto",fontFamily:"sans-serif"},Input:{height:"35px",width:"17em",borderColor:"#ccf4",outline:"none",fontSize:"17pt",padding:"8px"}};function EH({children:e,className:t}){return br("div",{className:t},br("div",{style:Wi.Darken}),br("div",{style:Wi.DialogOuter},br("div",{style:Wi.DialogInner},e)))}var Ov,Er,Oy,lk,$m=0,Oj=[],Xp=[],uk=qt.__b,ck=qt.__r,fk=qt.diffed,dk=qt.__c,hk=qt.unmount;function P1(e,t){qt.__h&&qt.__h(Er,e,$m||t),$m=0;var n=Er.__H||(Er.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({__V:Xp}),n.__[e]}function xH(e){return $m=1,function(t,n,r){var o=P1(Ov++,2);if(o.t=t,!o.__c&&(o.__=[r?r(n):mk(void 0,n),function(s){var u=o.__N?o.__N[0]:o.__[0],c=o.t(u,s);u!==c&&(o.__N=[c,o.__[1]],o.__c.setState({}))}],o.__c=Er,!Er.u)){Er.u=!0;var i=Er.shouldComponentUpdate;Er.shouldComponentUpdate=function(s,u,c){if(!o.__c.__H)return!0;var f=o.__c.__H.__.filter(function(m){return m.__c});if(f.every(function(m){return!m.__N}))return!i||i.call(this,s,u,c);var d=!1;return f.forEach(function(m){if(m.__N){var g=m.__[0];m.__=m.__N,m.__N=void 0,g!==m.__[0]&&(d=!0)}}),!!d&&(!i||i.call(this,s,u,c))}}return o.__N||o.__}(mk,e)}function SH(e){return $m=5,function(t,n){var r=P1(Ov++,7);return Rj(r.__H,n)?(r.__V=t(),r.i=n,r.__h=t,r.__V):r.__}(function(){return{current:e}},[])}function _H(){for(var e;e=Oj.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Jp),e.__H.__h.forEach(kb),e.__H.__h=[]}catch(t){e.__H.__h=[],qt.__e(t,e.__v)}}qt.__b=function(e){Er=null,uk&&uk(e)},qt.__r=function(e){ck&&ck(e),Ov=0;var t=(Er=e.__c).__H;t&&(Oy===Er?(t.__h=[],Er.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=Xp,n.__N=n.i=void 0})):(t.__h.forEach(Jp),t.__h.forEach(kb),t.__h=[])),Oy=Er},qt.diffed=function(e){fk&&fk(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(Oj.push(t)!==1&&lk===qt.requestAnimationFrame||((lk=qt.requestAnimationFrame)||function(n){var r,o=function(){clearTimeout(i),pk&&cancelAnimationFrame(r),setTimeout(n)},i=setTimeout(o,100);pk&&(r=requestAnimationFrame(o))})(_H)),t.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==Xp&&(n.__=n.__V),n.i=void 0,n.__V=Xp})),Oy=Er=null},qt.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Jp),n.__h=n.__h.filter(function(r){return!r.__||kb(r)})}catch(r){t.some(function(o){o.__h&&(o.__h=[])}),t=[],qt.__e(r,n.__v)}}),dk&&dk(e,t)},qt.unmount=function(e){hk&&hk(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Jp(r)}catch(o){t=o}}),t&&qt.__e(t,n.__v))};var pk=typeof requestAnimationFrame=="function";function Jp(e){var t=Er,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Er=t}function kb(e){var t=Er;e.__c=e.__(),Er=t}function Rj(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function mk(e,t){return typeof t=="function"?t(e):t}function kH({message:e,messageCode:t,messageParams:n}){return e.replace(/\{\w+\}/gi,r=>n[r.substring(1,r.length-1)])}function PH({title:e,type:t,alerts:n,fields:r,submitLabel:o,cancelLabel:i,onCancel:s,onSubmit:u}){const[c,f]=xH({}),d=SH(null);return function(m,g){var x=P1(Ov++,4);!qt.__s&&Rj(x.__H,g)&&(x.__=m,x.i=g,Er.__h.push(x))}(()=>{var m;return(m=d.current)===null||m===void 0?void 0:m.focus()},[]),br(EH,{className:"dxc-login-dlg"},br(xc,null,br("h3",{style:Wi.WindowHeader},e),n.map(m=>br("p",{style:Wi.Alert[m.type]},kH(m))),br("form",{onSubmit:m=>{m.preventDefault(),u(c)}},Object.entries(r).map(([m,{type:g,label:x,placeholder:y}],_)=>br("label",{style:Wi.Label,key:_},x?`${x}: `:"",br("input",{ref:_===0?d:void 0,type:g,name:m,autoComplete:"on",style:Wi.Input,autoFocus:!0,placeholder:y,value:c[m]||"",onInput:P=>{var k;const C=function(A,K){switch(A){case"email":return K.toLowerCase();case"otp":return K.toUpperCase();default:return K}}(g,(k=P.target)===null||k===void 0?void 0:k.value);let S=Object.assign(Object.assign({},c),{[m]:C});f(S),g==="otp"&&(C==null?void 0:C.trim().length)===8&&u(S)}}))))),br("div",{style:Wi.ButtonsDiv},br(xc,null,br("button",{type:"submit",style:Wi.Button,onClick:()=>u(c)},o),i&&br("button",{style:Wi.Button,onClick:s},i))))}class vk extends cd{constructor(t){super(t),this.observer=n=>this.setState({userInteraction:n}),this.state={userInteraction:void 0}}componentDidMount(){this.subscription=na(this.props.db.cloud.userInteraction).subscribe(this.observer)}componentWillUnmount(){this.subscription&&(this.subscription.unsubscribe(),delete this.subscription)}render(t,{userInteraction:n}){return n?br(PH,Object.assign({},n)):null}}function rh(e){const t=new WeakMap;return n=>{let r=t.get(n);return r||(r=e(n),t.set(n,r)),r}}const Bm=rh(e=>new Ti(Do));function Rv(e,t){let n=t,r=na(e).pipe(kv(i=>n=i),iK({resetOnRefCountZero:()=>rK(1e3)}));const o=new Sr(i=>{let s=!1;const u=r.subscribe({next(c){s=!0,i.next(c)},error(c){i.error(c)},complete(){i.complete()}});return s||u.closed||i.next(n),u});return o.getValue=()=>n,o}const jj=rh(e=>Rv(Nl(()=>e.roles.where({realmId:"rlm-public"}).toArray().then(t=>{const n={};for(const r of t.slice().sort((o,i)=>(o.sortOrder||0)-(i.sortOrder||0)))n[r.name]=r;return n})),{})),Aj=rh(e=>Rv(Bm(e._novip).pipe(ro(t=>Nl(()=>e.transaction("r","realms","members",()=>Promise.all([e.members.where({userId:t.userId}).toArray(),e.realms.toArray(),t.userId]).then(([n,r,o])=>({selfMembers:n,realms:r,userId:o})))))),{selfMembers:[],realms:[],get userId(){return e.cloud.currentUserId}}));function CH(...e){return e.length===0?{}:e.reduce((n,r)=>{const o=Object.assign({},n);for(const[i,s]of Object.entries(r))if(i in o&&o[i]){if(o[i]==="*")continue;if(s==="*")o[i]="*";else if(Array.isArray(s)&&Array.isArray(o[i])){const u=o,c=u[i];u[i]=[...new Set([...c,...s])]}else if(typeof s=="object"&&s&&typeof o[i]=="object"){const u=o[i];for(const[c,f]of Object.entries(s))u[c]!=="*"&&(f==="*"?u[c]="*":Array.isArray(u[c])&&Array.isArray(f)&&(u[c]=[...new Set([...u[c],...f])]))}}else o[i]=r[i];return o})}const Ij=rh(e=>function(t,n){let r;const o=t.pipe(kv(i=>r=n(i)));return o.getValue=()=>r!==void 0?r:r=n(t.getValue()),o}(Rv(Im([Aj(e._novip),jj(e._novip)]).pipe(Xi(([{selfMembers:t,realms:n,userId:r},o])=>({selfMembers:t,realms:n,userId:r,globalRoles:o}))),{selfMembers:[],realms:[],userId:Do.userId,globalRoles:{}}),({selfMembers:t,realms:n,userId:r,globalRoles:o})=>n.map(s=>{const u=t.filter(d=>d.realmId===s.realmId),c=u.map(d=>d.permissions).filter(d=>d),f=tj(u.map(d=>d.roles).filter(d=>d)).map(d=>o[d]).filter(d=>d).map(d=>d.permissions);return Object.assign(Object.assign({},s),{permissions:s.owner===r?{manage:"*"}:CH(...c,...f)})}).reduce((s,u)=>Object.assign(Object.assign({},s),{[u.realmId]:u}),{[r]:{realmId:r,owner:r,name:r,permissions:{manage:"*"}}})));class gk{constructor(t,n,r){this.permissions=t||{},this.tableName=n,this.isOwner=r}add(...t){var n;return this.permissions.manage==="*"||!!(!((n=this.permissions.manage)===null||n===void 0)&&n.includes(this.tableName))||this.permissions.add==="*"||!!t.every(r=>{var o;return(o=this.permissions.add)===null||o===void 0?void 0:o.includes(r)})}update(...t){var n,r;if(this.isOwner||this.permissions.manage==="*"||!((n=this.permissions.manage)===null||n===void 0)&&n.includes(this.tableName))return!0;if(this.permissions.update==="*")return t.every(i=>i!=="owner");const o=(r=this.permissions.update)===null||r===void 0?void 0:r[this.tableName];return o==="*"?t.every(i=>i!=="owner"):t.every(i=>o==null?void 0:o.some(s=>s===i||s==="*"&&i!=="owner"))}delete(){var t;return!(!this.isOwner&&this.permissions.manage!=="*")||!!(!((t=this.permissions.manage)===null||t===void 0)&&t.includes(this.tableName))}}const TH=rh(e=>{const t=Bm(e._novip).pipe(ro(o=>Nl(()=>e.members.where({email:o.email||""}).toArray()))),n=Ij(e._novip),r=Aj(e._novip);return Rv(Im([t,r,n]).pipe(Xi(([o,i,s])=>{const u=(d,m)=>Object.assign(Object.assign({},d),{[m.id]:Object.assign(Object.assign({},m),{realm:s[m.realmId]})}),c=o.reduce(u,{}),f=i.selfMembers.reduce(u,c);return Object.values(f).filter(d=>!d.accepted).map(d=>Object.assign(Object.assign({},d),{accept(){return gt(this,void 0,void 0,function*(){yield e.members.update(d.id,{accepted:new Date})})},reject(){return gt(this,void 0,void 0,function*(){yield e.members.update(d.id,{rejected:new Date})})}}))})),[])}),NH={nameSuffix:!0};function Pb(e){const t=e.name,n=Bm(e),r=[];let o=!1,i=null;e.on("ready",d=>gt(this,void 0,void 0,function*(){try{yield function(m){var g,x,y,_,P,k,C;return gt(this,void 0,void 0,function*(){s=!1;const S=ba(m);typeof window<"u"&&typeof document<"u"&&(!((g=S.cloud.options)===null||g===void 0)&&g.customLoginGui||r.push(function(L){let X=!1;const F=document.createElement("div");return document.body?(document.body.appendChild(F),sk(br(vk,{db:L.vip}),F)):addEventListener("DOMContentLoaded",()=>{X||(document.body.appendChild(F),sk(br(vk,{db:L.vip}),F))}),{unsubscribe(){try{F.remove()}catch{}X=!0},get closed(){return X}}}(m))),S.cloud.isServiceWorkerDB||r.push(function(L){let X=L.cloud.webSocketStatus.value;const F=L.cloud.webSocketStatus.pipe(ro(N=>{const q=X;X=N;const U=Ia(N);switch(N){case"disconnected":return ld.value?U.pipe(U_(500)):U;case"connecting":return q==="not-started"||q==="error"?U:U.pipe(U_(4e3));default:return U}}));return Im([F,L.syncStateChangedEvent.pipe(kK({phase:"initial"})),Bm(L.dx._novip),_b]).pipe(Xi(([N,q,U,te])=>{var ue;if(!((ue=U.license)===null||ue===void 0)&&ue.status&&U.license.status!=="ok")return{phase:"offline",status:"offline",license:U.license.status};let{phase:ke,error:Be,progress:Ve}=q,ve=N;return ke==="error"&&(ve="error"),N==="not-started"&&(ke!=="pushing"&&ke!=="pulling"||(ve="connecting")),L.cloud.syncState.value.phase!=="error"||q.phase!=="pushing"&&q.phase!=="pulling"||(ve="connecting"),te||(ve="disconnected"),{phase:ke,error:Be,progress:Ve,status:nc?ve:"offline",license:"ok"}}))}(S).subscribe(m.cloud.syncState)),r.push(S.syncCompleteEvent.subscribe(c)),S.tables.every(L=>L.core)||pj();const A="serviceWorker"in navigator?yield navigator.serviceWorker.getRegistrations():[],K=yield S.transaction("rw",S.$syncState,()=>gt(this,void 0,void 0,function*(){var L,X;const{options:F,schema:N}=S.cloud,[q,U,te]=yield Promise.all([S.getOptions(),S.getSchema(),S.getPersistedSyncState()]);if(o){if(!q||JSON.stringify(q)!==JSON.stringify(F)){if(!F)throw new Error("Internal error");const ue=Object.assign({},F);delete ue.fetchTokens,yield S.$syncState.put(ue,"options")}}else S.cloud.options=q||null;if(!((L=S.cloud.options)===null||L===void 0)&&L.tryUseServiceWorker&&"serviceWorker"in navigator&&A.length>0&&!ZK?S.cloud.usingServiceWorker=!0:(!((X=S.cloud.options)===null||X===void 0)&&X.tryUseServiceWorker&&S.cloud.isServiceWorkerDB,S.cloud.usingServiceWorker=!1),Ny(N,S.cloud.options),Ny(U,S.cloud.options),N){if(!U||JSON.stringify(U)!==JSON.stringify(N)){const ue=U||{};for(const[ke,Be]of Object.entries(N)){const Ve=ue[ke];Ve?(Ve.markedForSync=Be.markedForSync,Be.deleted=Ve.deleted,Ve.generatedGlobalId=Be.generatedGlobalId):ue[ke]=Object.assign({},Be)}yield S.$syncState.put(ue,"schema"),Object.assign(N,ue)}}else S.cloud.schema=U||null;return te==null?void 0:te.initiallySynced}));K&&S.setInitiallySynced(!0),function(L){var X,F;for(const N of L.tables)if(!((F=(X=L.cloud.schema)===null||X===void 0?void 0:X[N.name])===null||F===void 0)&&F.markedForSync){if(N.schema.primKey.auto)throw new sn.SchemaError(`Table ${N.name} is both autoIncremented and synced. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(N.name)}]}) to blacklist it from sync`);if(!N.schema.primKey.keyPath)throw new sn.SchemaError(`Table ${N.name} cannot be both synced and outbound. Use db.cloud.configure({unsyncedTables: [${JSON.stringify(N.name)}]}) to blacklist it from sync`)}}(S),!((x=S.cloud.options)===null||x===void 0)&&x.databaseUrl&&!K&&(yield function(L,X,F){return gt(this,void 0,void 0,function*(){yield Kd(L,X,F,{isInitialSync:!0})})}(S,S.cloud.options,S.cloud.schema),S.setInitiallySynced(!0)),u(),S.cloud.isServiceWorkerDB||(r.push(Nl(()=>S.getCurrentUser()).subscribe(n)),r.push(Nl(()=>S.getPersistedSyncState()).subscribe(S.cloud.persistedSyncState)),yield Im([n.pipe(K_(1),Vi(1)),S.cloud.persistedSyncState.pipe(K_(1),Vi(1))]).toPromise());let O=!1;!((y=S.cloud.options)===null||y===void 0)&&y.requireAuth&&(O=yield q_(S)),i&&i.stop(),i=null,u(),S.cloud.usingServiceWorker&&(!((_=S.cloud.options)===null||_===void 0)&&_.databaseUrl)?(XR(S,O?"pull":"push").catch(()=>{}),function(L){var X;return gt(this,void 0,void 0,function*(){try{const{periodicSync:F}=yield navigator.serviceWorker.ready;if(F)try{yield F.register(`dexie-cloud:${L.name}`,(X=L.cloud.options)===null||X===void 0?void 0:X.periodicSync)}catch{}}catch{}})}(S).catch(()=>{})):!((P=S.cloud.options)===null||P===void 0)&&P.databaseUrl&&S.cloud.schema&&!S.cloud.isServiceWorkerDB&&(i=gH(S,S.cloud.options,S.cloud.schema),i.start(),Na(S,O?"pull":"push")),u(),S.cloud.isServiceWorkerDB||r.push(Yi(self,"online").subscribe(()=>{S.syncStateChangedEvent.next({phase:"not-in-sync"}),vj(S)||Na(S,"push")}),Yi(self,"offline").subscribe(()=>{S.syncStateChangedEvent.next({phase:"offline"})})),!(!((k=S.cloud.options)===null||k===void 0)&&k.databaseUrl)||!((C=S.cloud.options)===null||C===void 0)&&C.disableWebSocket||eH||r.push(function(L){var X;if(!(!((X=L.cloud.options)===null||X===void 0)&&X.databaseUrl))throw new Error("No database URL to connect WebSocket to");const F=L.messageConsumer.readyToServe.pipe(Gi(N=>N),ro(()=>L.getPersistedSyncState()),Gi(N=>N&&N.serverRevision),ro(N=>gt(this,void 0,void 0,function*(){return{type:"ready",rev:N.serverRevision,realmSetHash:yield bb(N)}})));return function N(){return L.cloud.persistedSyncState.pipe(Gi(q=>q==null?void 0:q.serverRevision),Vi(1),ro(q=>L.cloud.currentUser.pipe(Xi(U=>[U,q]))),ro(([q,U])=>_b.pipe(Xi(te=>[te?q:null,U]))),ro(([q,U])=>q!=null&&q.isLoggedIn&&!(U!=null&&U.realms.includes(q.userId))?L.cloud.persistedSyncState.pipe(Gi(te=>(te==null?void 0:te.realms.includes(q.userId))||!1),Vi(1),Xi(te=>[q,te])):new Ti([q,U])),ro(([q,U])=>gt(this,void 0,void 0,function*(){return[q,yield bb(U)]})),YR(([q,U],[te,ue])=>q===te&&U===ue),ro(([q,U])=>{var te;return!((te=L.cloud.persistedSyncState)===null||te===void 0)&&te.value?q?new fH(L.cloud.options.databaseUrl,L.cloud.persistedSyncState.value.serverRevision,U,L.cloud.persistedSyncState.value.clientIdentity,F,L.cloud.webSocketStatus,q.accessToken,q.accessTokenExpiration):na([]):N()}),db(q=>(q==null?void 0:q.name)==="TokenExpiredError"?Ia(!0).pipe(ro(()=>gt(this,void 0,void 0,function*(){const U=yield L.getCurrentUser(),te=yield Tv(L.cloud.options.databaseUrl,U);yield L.table("$logins").update(U.userId,{accessToken:te.accessToken,accessTokenExpiration:te.accessTokenExpiration,claims:te.claims,license:te.license})})),ro(()=>N())):O_(()=>q)),db(q=>(L.cloud.webSocketStatus.next("error"),q instanceof pH?O_(()=>q):na(mH()).pipe(ro(()=>N())))))}().subscribe({next:N=>{N&&L.messageConsumer.enqueue(N)},error:N=>{},complete:()=>{}})}(S))})}(d)}catch{}}),!0);let s=!1;function u(){if(s)throw new sn.DatabaseClosedError}(function(d,m){d.on.close.subscribe(m);const g=d._close;d._close=function(){g.call(this),m()}})(e,()=>{r.forEach(d=>d.unsubscribe()),s=!0,i&&i.stop(),i=null,n.next(Do)});const c=new eh;var f;e.cloud={version:"4.0.2",options:Object.assign({},NH),schema:null,get currentUserId(){return n.value.userId||Do.userId},currentUser:n,syncState:new Ti({phase:"initial",status:"not-started"}),events:{syncComplete:c},persistedSyncState:new Ti(void 0),userInteraction:new Ti(void 0),webSocketStatus:new Ti("not-started"),login(d){return gt(this,void 0,void 0,function*(){const m=ba(e);yield m.cloud.sync(),yield q_(m,d)})},invites:TH(e),roles:jj(e),configure(d){d=e.cloud.options=Object.assign(Object.assign({},e.cloud.options),d),o=!0,d.databaseUrl&&d.nameSuffix&&(e.name=`${t}-${function(m){const g=new URL(m);return g.pathname==="/"?g.hostname.split(".")[0]:g.pathname.split("/")[1]}(d.databaseUrl)}`,ba(e).reconfigure()),Ny(e.cloud.schema,e.cloud.options)},logout({force:d}={}){return gt(this,void 0,void 0,function*(){d?yield vb(ba(e),{deleteUnsyncedData:!0}):yield ZR(ba(e))})},sync({wait:d,purpose:m}={wait:!0,purpose:"push"}){var g;return gt(this,void 0,void 0,function*(){d===void 0&&(d=!0);const x=ba(e);if((((g=x.cloud.currentUser.value.license)===null||g===void 0?void 0:g.status)||"ok")!=="ok"&&(yield x1(x)),m==="pull"){const y=x.cloud.persistedSyncState.value;if(Na(x,m),d){const _=yield x.cloud.persistedSyncState.pipe(Gi(P=>(P==null?void 0:P.timestamp)!=null&&(!y||P.timestamp>y.timestamp)),Vi(1)).toPromise();if(_!=null&&_.error)throw new Error("Sync error: "+_.error)}}else if(yield tk(x)){const y=x.cloud.persistedSyncState.value;Na(x,m),d&&(yield na(Nl(()=>gt(this,void 0,void 0,function*(){const _=yield tk(x),P=yield x.getPersistedSyncState();if((P==null?void 0:P.timestamp)!==(y==null?void 0:y.timestamp)&&(P!=null&&P.error))throw new Error("Sync error: "+P.error);return _}))).pipe(Gi(_=>!_),Vi(1)).toPromise())}})},permissions:(d,m)=>function(g,x,y){if(!x)throw new TypeError("Cannot check permissions of undefined or null. A Dexie Cloud object with realmId and owner expected.");const{owner:_,realmId:P}=x;if(!y){if(typeof x.table!="function")throw new TypeError("Missing 'table' argument to permissions and table could not be extracted from entity");y=x.table()}const k=Ij(g),C=A=>{const K=A[P||g.cloud.currentUserId];return K?new gk(K.permissions,y,P===void 0||P===g.cloud.currentUserId||_===g.cloud.currentUserId):new gk({},y,!_||_===g.cloud.currentUserId)},S=k.pipe(Xi(C));return S.getValue=()=>C(k.getValue()),S}(e._novip,d,m)},e.Version.prototype._parseStoresSpec=sn.override(e.Version.prototype._parseStoresSpec,d=>sH(d,e)),e.Table.prototype.newId=function({colocateWith:d}={}){const m=d&&d.substr(d.length-3);return mj(e.cloud.schema[this.name].idPrefix||"",m)},e.Table.prototype.idPrefix=function(){var d,m;return((m=(d=this.db.cloud.schema)===null||d===void 0?void 0:d[this.name])===null||m===void 0?void 0:m.idPrefix)||""},e.use(aH({currentUserObservable:e.cloud.currentUser,db:ba(e)})),e.use((f=ba(e),{stack:"dbcore",name:"implicitPropSetterMiddleware",level:1,create:d=>Object.assign(Object.assign({},d),{table:m=>{const g=d.table(m);return Object.assign(Object.assign({},g),{mutate:x=>{var y,_,P,k;if(x.trans.disableChangeTracking)return g.mutate(x);const C=x.trans;if(!((_=(y=f.cloud.schema)===null||y===void 0?void 0:y[m])===null||_===void 0)&&_.markedForSync&&(x.type==="add"||x.type==="put")){if(m==="members")for(const S of x.values)typeof S.email=="string"&&(S.email=S.email.trim().toLowerCase());for(const S of x.values){S.owner||(S.owner=C.currentUser.userId),S.realmId||(S.realmId=C.currentUser.userId);const A=(k=(P=g.schema.primaryKey).extractKey)===null||k===void 0?void 0:k.call(P,S);typeof A=="string"&&A[0]==="#"&&x.type==="put"&&(delete x.criteria,delete x.changeSpec,delete x.updates,S.$ts=Date.now())}}return g.mutate(x)}})}})})),e.use(rH(ba(e)))}Pb.version="4.0.2",sn.Cloud=Pb;const OH="https://dexie.cloud",RH="https://z95vvangy.dexie.cloud",jH={serviceUrl:OH,dbUrl:RH};let wn=new sn("minisix-npc-maker",{addons:[Pb]});wn.version(1).stores({characters:"@id, order",npcs:"id, name, order, updated",realms:"@realmId",members:"@id",roles:"[realmId+name]"});wn.cloud.configure({databaseUrl:jH.dbUrl,requireAuth:!1,unsyncedTables:["characters"]});wn.cloud.login();async function AH(){const e=await iR(wn,{filter:r=>r==="npcs"}),t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download="minisix-npc-maker.json",n.click()}async function IH(){const e=document.createElement("input");e.type="file",e.accept=".json",e.style.display="none",e.onchange=t=>{wn.npcs.clear();const n=t.target.files[0];u1(wn,n,{filter:r=>r==="npcs"}).then(()=>{e.remove(),wn.npcs.count().then(r=>alert(`${r} NJK feltöltve.`)),wn.cloud.sync()})},document.body.appendChild(e),e.click()}function yk(e){const n=ST(wn.cloud.currentUser).name!=="Unauthorized";return w.jsxs(w.Fragment,{children:[w.jsxs(Nf,{className:"py-0 border-bottom",children:[w.jsx(Nf.Toggle,{"aria-controls":"basic-navbar-nav"}),w.jsx(Nf.Collapse,{id:"basic-navbar-nav",children:w.jsxs(yy,{className:"me-auto",children:[w.jsx(yy.Link,{as:WS,to:"/",children:"Kezdeményezés"}),w.jsx(yy.Link,{as:WS,to:"/npc",children:"NJK generátor"})]})}),w.jsx(Nf.Collapse,{className:"justify-content-end me-2",children:w.jsx(Nf.Text,{children:n?w.jsx("a",{href:"#",title:"Kijelentkezés",onClick:()=>wn.cloud.logout(),children:w.jsx("i",{className:"bi bi-box-arrow-right h5"})}):w.jsx("a",{href:"#",title:"Bejelentkezés",onClick:()=>wn.cloud.login(),children:w.jsx("i",{className:"bi bi-box-arrow-in-right h5"})})})})]}),n?e.children:null]})}const fl=new Map;function Cb(e,t){const[n]=R.useState(t==null?void 0:t.defaultValue);if(typeof window>"u")return[n,()=>{},{isPersistent:!0,removeItem:()=>{}}];const r=t==null?void 0:t.serializer;return DH(e,n,t==null?void 0:t.storageSync,r==null?void 0:r.parse,r==null?void 0:r.stringify)}function DH(e,t,n=!0,r=LH,o=JSON.stringify){!fl.has(e)&&t!==void 0&&Af(()=>localStorage.getItem(e))===null&&Af(()=>localStorage.setItem(e,o(t)));const i=R.useRef({item:null,parsed:t}),s=R.useSyncExternalStore(R.useCallback(c=>{const f=d=>{e===d&&c()};return Tb.add(f),()=>{Tb.delete(f)}},[e]),()=>{var c;const f=(c=Af(()=>localStorage.getItem(e)))!==null&&c!==void 0?c:null;if(fl.has(e))i.current={item:f,parsed:fl.get(e)};else if(f!==i.current.item){let d;try{d=f===null?t:r(f)}catch{d=t}i.current={item:f,parsed:d}}return i.current.parsed},()=>t),u=R.useCallback(c=>{const f=c instanceof Function?c(i.current.parsed):c;try{localStorage.setItem(e,o(f)),fl.delete(e)}catch{fl.set(e,f)}Ry(e)},[e,o]);return R.useEffect(()=>{if(!n)return;const c=f=>{f.storageArea===Af(()=>localStorage)&&f.key===e&&Ry(e)};return window.addEventListener("storage",c),()=>window.removeEventListener("storage",c)},[e,n]),R.useMemo(()=>[s,u,{isPersistent:s===t||!fl.has(e),removeItem(){Af(()=>localStorage.removeItem(e)),fl.delete(e),Ry(e)}}],[e,u,s,t])}const Tb=new Set;function Ry(e){for(const t of[...Tb])t(e)}function LH(e){return e==="undefined"?void 0:JSON.parse(e)}function Af(e){try{return e()}catch{return}}function MH(e){if(e==null||isNaN(e))return"";if(!Number.isInteger(e))return"???";const t=Math.floor(e/3),n=e%3;return t*3+n<3?"-":`${t}d${n?"+"+n:""}`}function Dj(e){try{if(e=e.toLowerCase(),e.indexOf("d")>-1){const t=e.replaceAll("+","").split("d"),n=parseInt(t[0])*3+(t.length>1&&t[1]?parseInt(t[1]):0);return isNaN(n)?0:n}else if(e.indexOf("+")>-1){const t=parseInt(e.replaceAll("+",""));return isNaN(t)?0:t}return 0}catch{return 0}}function jv(e){const t=Math.floor(e/3),n=e%3,r={rolls:[],sum:n,pip:n,extraRolls:0};if(t>0){for(let i=0;i<t;i++){const s=Um();r.rolls.push(s),r.sum+=s}if(r.rolls[0]===1)if(t===1)r.reduced=0;else{const i=Math.max(...r.rolls);r.reduced=r.sum-i-1}let o=r.rolls[0];for(;o===6;)o=Um(),r.rolls.push(o),r.sum+=o,r.extraRolls++;r.reduced===void 0&&(r.reduced=r.sum)}return r}function Um(){return Math.floor(Math.random()*6)+1}function bk(){return Um().toString()+Um().toString()}const zH=({editedCharacter:e,setEditedCharacter:t,setSelectedCharacterId:n})=>w.jsx(cr,{show:e,onHide:()=>t(void 0),children:w.jsxs(Kn,{onSubmit:r=>{r.preventDefault(),e.type=e.roll?"npc":"pc",e.order=e.order||1e5,e.dontDelete=e.type==="pc",wn.characters.put(e,e.id).then(o=>n(o)),t(void 0)},children:[w.jsx(cr.Header,{closeButton:!0,children:w.jsx(cr.Title,{children:"Kezdeményezés"})}),w.jsx(cr.Body,{children:w.jsxs(Rn,{children:[w.jsx(Nt,{children:w.jsx(Kn.Group,{controlId:"characterName",children:w.jsx(Kn.Control,{type:"text",placeholder:"Név",value:(e==null?void 0:e.name)??"",autoFocus:!0,onChange:r=>t({...e,name:r.target.value}),autoComplete:"off"})})}),w.jsx(Nt,{children:w.jsx(Kn.Group,{controlId:"characterRoll",children:w.jsx(Kn.Control,{type:"text",placeholder:"Dobás",value:(e==null?void 0:e.roll)??"",autoComplete:"off",onChange:r=>{t({...e,roll:r.target.value,initiative:jv(Dj(r.target.value))})}})})})]})}),w.jsxs(cr.Footer,{className:"justify-content-between",children:[w.jsx(wt,{variant:"secondary",onClick:()=>t(void 0),className:"float-start",children:"Bezár"}),w.jsx(wt,{variant:"primary",type:"submit",children:"Ment"})]})]})});function Av(){const[e,t]=R.useState({open:!1,title:"",body:void 0,okButton:"Ok",cancelButton:void 0,input:void 0,onClose:void 0});function n({title:i="",body:s,okButton:u="Ok",cancelButton:c,input:f,defaultInputText:d,onClose:m=()=>{}}){t(g=>({...g,open:!0,title:i,body:s,okButton:u,cancelButton:c,input:f,defaultInputText:d,onClose:m}))}function r(i,s){i&&i.preventDefault&&i.preventDefault(),t(u=>({...u,open:!1})),e.onClose&&e.onClose(s)}function o(){const{open:i,title:s,body:u,okButton:c,cancelButton:f,input:d,defaultInputText:m}=e,[g,x]=R.useState(m||""),y=R.useRef(null);R.useEffect(()=>{var P,k;e.open&&((P=y.current)==null||P.focus(),(k=y.current)==null||k.select())},[e.open]);function _(P){P.preventDefault(),r(P,g)}return w.jsxs(cr,{show:i,onHide:()=>{r(void 0,void 0)},children:[w.jsx(cr.Header,{closeButton:!0,children:w.jsx(cr.Title,{children:s})}),w.jsxs(cr.Body,{children:[u,d&&w.jsx(Kn,{onSubmit:_,children:w.jsx(Kn.Group,{className:"mt-2",children:w.jsx(Kn.Control,{ref:y,type:"text",placeholder:typeof d=="string"?d:void 0,autoFocus:!0,value:g,onChange:P=>x(P.target.value)})})})]}),w.jsxs(cr.Footer,{className:"d-flex justify-content-between",children:[f?w.jsx(wt,{variant:"secondary",onClick:P=>{r(P,!1)},children:f}):w.jsx("div",{}),w.jsx(wt,{variant:"primary",onClick:P=>{r(P,g||!0)},children:c})]})]})}return{openModal:n,closeModal:r,SimpleDialog:o}}var Km={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Km.exports;(function(e,t){(function(){var n,r="4.17.21",o=200,i="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",u="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",f=500,d="__lodash_placeholder__",m=1,g=2,x=4,y=1,_=2,P=1,k=2,C=4,S=8,A=16,K=32,O=64,L=128,X=256,F=512,N=30,q="...",U=800,te=16,ue=1,ke=2,Be=3,Ve=1/0,ve=9007199254740991,Fe=17976931348623157e292,Ce=NaN,Ke=4294967295,me=Ke-1,Ge=Ke>>>1,Se=[["ary",L],["bind",P],["bindKey",k],["curry",S],["curryRight",A],["flip",F],["partial",K],["partialRight",O],["rearg",X]],Re="[object Arguments]",Ze="[object Array]",pe="[object AsyncFunction]",ye="[object Boolean]",de="[object Date]",Oe="[object DOMException]",ze="[object Error]",Qe="[object Function]",yt="[object GeneratorFunction]",vt="[object Map]",He="[object Number]",vn="[object Null]",tn="[object Object]",$n="[object Promise]",or="[object Proxy]",dn="[object RegExp]",jt="[object Set]",yn="[object String]",gn="[object Symbol]",Bt="[object Undefined]",Et="[object WeakMap]",at="[object WeakSet]",bt="[object ArrayBuffer]",Ut="[object DataView]",lt="[object Float32Array]",V="[object Float64Array]",D="[object Int8Array]",W="[object Int16Array]",re="[object Int32Array]",ce="[object Uint8Array]",be="[object Uint8ClampedArray]",Xe="[object Uint16Array]",ct="[object Uint32Array]",rt=/\b__p \+= '';/g,Ne=/\b(__p \+=) '' \+/g,At=/(__e\(.*?\)|\b__t\)) \+\n'';/g,It=/&(?:amp|lt|gt|quot|#39);/g,Qt=/[&<>"']/g,ie=RegExp(It.source),fe=RegExp(Qt.source),Ee=/<%-([\s\S]+?)%>/g,Ie=/<%([\s\S]+?)%>/g,De=/<%=([\s\S]+?)%>/g,ht=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Le=/^\w*$/,_e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,$e=RegExp(Pe.source),ut=/^\s+/,et=/\s/,Ot=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Rt=/\{\n\/\* \[wrapped with (.+)\] \*/,mn=/,? & /,Kt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Dt=/[()=,{}\[\]\/\s]/,Cn=/\\(\\)?/g,Yt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Tn=/\w*$/,fn=/^[-+]0x[0-9a-f]+$/i,fr=/^0b[01]+$/i,Nn=/^\[object .+?Constructor\]$/,Ko=/^0o[0-7]+$/i,Nr=/^(?:0|[1-9]\d*)$/,un=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Tt=/($^)/,Pt=/['\n\r\u2028\u2029\\]/g,Zt="\\ud800-\\udfff",Hn="\\u0300-\\u036f",zr="\\ufe20-\\ufe2f",Di="\\u20d0-\\u20ff",Yl=Hn+zr+Di,Li="\\u2700-\\u27bf",Dc="a-z\\xdf-\\xf6\\xf8-\\xff",Xl="\\xac\\xb1\\xd7\\xf7",ah="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",hn="\\u2000-\\u206f",sh=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Lc="A-Z\\xc0-\\xd6\\xd8-\\xde",Mc="\\ufe0e\\ufe0f",_n=Xl+ah+hn+sh,aa="['’]",Fs="["+Zt+"]",sa="["+_n+"]",Ga="["+Yl+"]",Jl="\\d+",Ql="["+Li+"]",zc="["+Dc+"]",$s="[^"+Zt+_n+Jl+Li+Dc+Lc+"]",Zl="\\ud83c[\\udffb-\\udfff]",ci="(?:"+Ga+"|"+Zl+")",eu="[^"+Zt+"]",tu="(?:\\ud83c[\\udde6-\\uddff]){2}",Fc="[\\ud800-\\udbff][\\udc00-\\udfff]",Xt="["+Lc+"]",nu="\\u200d",lh="(?:"+zc+"|"+$s+")",Lv="(?:"+Xt+"|"+$s+")",Fr="(?:"+aa+"(?:d|ll|m|re|s|t|ve))?",la="(?:"+aa+"(?:D|LL|M|RE|S|T|VE))?",Bs=ci+"?",fi="["+Mc+"]?",uh="(?:"+nu+"(?:"+[eu,tu,Fc].join("|")+")"+fi+Bs+")*",ch="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",dr="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",_o=fi+Bs+uh,Us="(?:"+[Ql,tu,Fc].join("|")+")"+_o,Ks="(?:"+[eu+Ga+"?",Ga,tu,Fc,Fs].join("|")+")",$c=RegExp(aa,"g"),Mi=RegExp(Ga,"g"),Bc=RegExp(Zl+"(?="+Zl+")|"+Ks+_o,"g"),Ho=RegExp([Xt+"?"+zc+"+"+Fr+"(?="+[sa,Xt,"$"].join("|")+")",Lv+"+"+la+"(?="+[sa,Xt+lh,"$"].join("|")+")",Xt+"?"+lh+"+"+Fr,Xt+"+"+la,dr,ch,Jl,Us].join("|"),"g"),Uc=RegExp("["+nu+Zt+Yl+Mc+"]"),fh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Kc=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Hs=-1,En={};En[lt]=En[V]=En[D]=En[W]=En[re]=En[ce]=En[be]=En[Xe]=En[ct]=!0,En[Re]=En[Ze]=En[bt]=En[ye]=En[Ut]=En[de]=En[ze]=En[Qe]=En[vt]=En[He]=En[tn]=En[dn]=En[jt]=En[yn]=En[Et]=!1;var xn={};xn[Re]=xn[Ze]=xn[bt]=xn[Ut]=xn[ye]=xn[de]=xn[lt]=xn[V]=xn[D]=xn[W]=xn[re]=xn[vt]=xn[He]=xn[tn]=xn[dn]=xn[jt]=xn[yn]=xn[gn]=xn[ce]=xn[be]=xn[Xe]=xn[ct]=!0,xn[ze]=xn[Qe]=xn[Et]=!1;var Mv={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ws={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},zv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Fv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ru=parseFloat,ou=parseInt,iu=typeof bl=="object"&&bl&&bl.Object===Object&&bl,$v=typeof self=="object"&&self&&self.Object===Object&&self,gr=iu||$v||Function("return this")(),Hc=t&&!t.nodeType&&t,di=Hc&&!0&&e&&!e.nodeType&&e,au=di&&di.exports===Hc,su=au&&iu.process,Or=function(){try{var M=di&&di.require&&di.require("util").types;return M||su&&su.binding&&su.binding("util")}catch{}}(),Vs=Or&&Or.isArrayBuffer,Gs=Or&&Or.isDate,Wc=Or&&Or.isMap,dh=Or&&Or.isRegExp,qs=Or&&Or.isSet,lu=Or&&Or.isTypedArray;function Rr(M,G,$){switch($.length){case 0:return M.call(G);case 1:return M.call(G,$[0]);case 2:return M.call(G,$[0],$[1]);case 3:return M.call(G,$[0],$[1],$[2])}return M.apply(G,$)}function Vc(M,G,$,J){for(var Q=-1,ne=M==null?0:M.length;++Q<ne;){var le=M[Q];G(J,le,$(le),M)}return J}function $r(M,G){for(var $=-1,J=M==null?0:M.length;++$<J&&G(M[$],$,M)!==!1;);return M}function _r(M,G){for(var $=M==null?0:M.length;$--&&G(M[$],$,M)!==!1;);return M}function qa(M,G){for(var $=-1,J=M==null?0:M.length;++$<J;)if(!G(M[$],$,M))return!1;return!0}function lo(M,G){for(var $=-1,J=M==null?0:M.length,Q=0,ne=[];++$<J;){var le=M[$];G(le,$,M)&&(ne[Q++]=le)}return ne}function ua(M,G){var $=M==null?0:M.length;return!!$&&Xa(M,G,0)>-1}function Ys(M,G,$){for(var J=-1,Q=M==null?0:M.length;++J<Q;)if($(G,M[J]))return!0;return!1}function On(M,G){for(var $=-1,J=M==null?0:M.length,Q=Array(J);++$<J;)Q[$]=G(M[$],$,M);return Q}function hi(M,G){for(var $=-1,J=G.length,Q=M.length;++$<J;)M[Q+$]=G[$];return M}function Ya(M,G,$,J){var Q=-1,ne=M==null?0:M.length;for(J&&ne&&($=M[++Q]);++Q<ne;)$=G($,M[Q],Q,M);return $}function Gc(M,G,$,J){var Q=M==null?0:M.length;for(J&&Q&&($=M[--Q]);Q--;)$=G($,M[Q],Q,M);return $}function pi(M,G){for(var $=-1,J=M==null?0:M.length;++$<J;)if(G(M[$],$,M))return!0;return!1}var qc=Qs("length");function Yc(M){return M.split("")}function uu(M){return M.match(Kt)||[]}function cu(M,G,$){var J;return $(M,function(Q,ne,le){if(G(Q,ne,le))return J=ne,!1}),J}function Xs(M,G,$,J){for(var Q=M.length,ne=$+(J?1:-1);J?ne--:++ne<Q;)if(G(M[ne],ne,M))return ne;return-1}function Xa(M,G,$){return G===G?zi(M,G,$):Xs(M,Js,$)}function Xc(M,G,$,J){for(var Q=$-1,ne=M.length;++Q<ne;)if(J(M[Q],G))return Q;return-1}function Js(M){return M!==M}function hh(M,G){var $=M==null?0:M.length;return $?Jc(M,G)/$:Ce}function Qs(M){return function(G){return G==null?n:G[M]}}function Zs(M){return function(G){return M==null?n:M[G]}}function ph(M,G,$,J,Q){return Q(M,function(ne,le,oe){$=J?(J=!1,ne):G($,ne,le,oe)}),$}function mh(M,G){var $=M.length;for(M.sort(G);$--;)M[$]=M[$].value;return M}function Jc(M,G){for(var $,J=-1,Q=M.length;++J<Q;){var ne=G(M[J]);ne!==n&&($=$===n?ne:$+ne)}return $}function fu(M,G){for(var $=-1,J=Array(M);++$<M;)J[$]=G($);return J}function vh(M,G){return On(G,function($){return[$,M[$]]})}function gh(M){return M&&M.slice(0,b(M)+1).replace(ut,"")}function Br(M){return function(G){return M(G)}}function el(M,G){return On(G,function($){return M[$]})}function Ja(M,G){return M.has(G)}function Qc(M,G){for(var $=-1,J=M.length;++$<J&&Xa(G,M[$],0)>-1;);return $}function yh(M,G){for(var $=M.length;$--&&Xa(G,M[$],0)>-1;);return $}function Bv(M,G){for(var $=M.length,J=0;$--;)M[$]===G&&++J;return J}var Uv=Zs(Mv),du=Zs(Ws);function mi(M){return"\\"+Fv[M]}function Wn(M,G){return M==null?n:M[G]}function vi(M){return Uc.test(M)}function uo(M){return fh.test(M)}function Kv(M){for(var G,$=[];!(G=M.next()).done;)$.push(G.value);return $}function tl(M){var G=-1,$=Array(M.size);return M.forEach(function(J,Q){$[++G]=[Q,J]}),$}function Zc(M,G){return function($){return M(G($))}}function Ur(M,G){for(var $=-1,J=M.length,Q=0,ne=[];++$<J;){var le=M[$];(le===G||le===d)&&(M[$]=d,ne[Q++]=$)}return ne}function Qa(M){var G=-1,$=Array(M.size);return M.forEach(function(J){$[++G]=J}),$}function Za(M){var G=-1,$=Array(M.size);return M.forEach(function(J){$[++G]=[J,J]}),$}function zi(M,G,$){for(var J=$-1,Q=M.length;++J<Q;)if(M[J]===G)return J;return-1}function bh(M,G,$){for(var J=$+1;J--;)if(M[J]===G)return J;return J}function h(M){return vi(M)?j(M):qc(M)}function v(M){return vi(M)?z(M):Yc(M)}function b(M){for(var G=M.length;G--&&et.test(M.charAt(G)););return G}var T=Zs(zv);function j(M){for(var G=Bc.lastIndex=0;Bc.test(M);)++G;return G}function z(M){return M.match(Bc)||[]}function Y(M){return M.match(Ho)||[]}var ee=function M(G){G=G==null?gr:se.defaults(gr.Object(),G,se.pick(gr,Kc));var $=G.Array,J=G.Date,Q=G.Error,ne=G.Function,le=G.Math,oe=G.Object,ge=G.RegExp,we=G.String,xe=G.TypeError,Te=$.prototype,Me=ne.prototype,tt=oe.prototype,Ye=G["__core-js_shared__"],Je=Me.toString,Ue=tt.hasOwnProperty,ot=0,xt=function(){var a=/[^.]+$/.exec(Ye&&Ye.keys&&Ye.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Lt=tt.toString,Vt=Je.call(oe),Ht=gr._,ko=ge("^"+Je.call(Ue).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=au?G.Buffer:n,Ln=G.Symbol,ir=G.Uint8Array,nl=Mt?Mt.allocUnsafe:n,hr=Zc(oe.getPrototypeOf,oe),Fi=oe.create,hu=tt.propertyIsEnumerable,wh=Te.splice,I1=Ln?Ln.isConcatSpreadable:n,ef=Ln?Ln.iterator:n,rl=Ln?Ln.toStringTag:n,Eh=function(){try{var a=ll(oe,"defineProperty");return a({},"",{}),a}catch{}}(),cA=G.clearTimeout!==gr.clearTimeout&&G.clearTimeout,fA=J&&J.now!==gr.Date.now&&J.now,dA=G.setTimeout!==gr.setTimeout&&G.setTimeout,xh=le.ceil,Sh=le.floor,Hv=oe.getOwnPropertySymbols,hA=Mt?Mt.isBuffer:n,D1=G.isFinite,pA=Te.join,mA=Zc(oe.keys,oe),yr=le.max,Kr=le.min,vA=J.now,gA=G.parseInt,L1=le.random,yA=Te.reverse,Wv=ll(G,"DataView"),tf=ll(G,"Map"),Vv=ll(G,"Promise"),pu=ll(G,"Set"),nf=ll(G,"WeakMap"),rf=ll(oe,"create"),_h=nf&&new nf,mu={},bA=ul(Wv),wA=ul(tf),EA=ul(Vv),xA=ul(pu),SA=ul(nf),kh=Ln?Ln.prototype:n,of=kh?kh.valueOf:n,M1=kh?kh.toString:n;function B(a){if(Qn(a)&&!$t(a)&&!(a instanceof on)){if(a instanceof Wo)return a;if(Ue.call(a,"__wrapped__"))return zE(a)}return new Wo(a)}var vu=function(){function a(){}return function(l){if(!Vn(l))return{};if(Fi)return Fi(l);a.prototype=l;var p=new a;return a.prototype=n,p}}();function Ph(){}function Wo(a,l){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!l,this.__index__=0,this.__values__=n}B.templateSettings={escape:Ee,evaluate:Ie,interpolate:De,variable:"",imports:{_:B}},B.prototype=Ph.prototype,B.prototype.constructor=B,Wo.prototype=vu(Ph.prototype),Wo.prototype.constructor=Wo;function on(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ke,this.__views__=[]}function _A(){var a=new on(this.__wrapped__);return a.__actions__=co(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=co(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=co(this.__views__),a}function kA(){if(this.__filtered__){var a=new on(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function PA(){var a=this.__wrapped__.value(),l=this.__dir__,p=$t(a),E=l<0,I=p?a.length:0,H=zI(0,I,this.__views__),Z=H.start,ae=H.end,he=ae-Z,je=E?ae:Z-1,Ae=this.__iteratees__,We=Ae.length,st=0,mt=Kr(he,this.__takeCount__);if(!p||!E&&I==he&&mt==he)return sE(a,this.__actions__);var _t=[];e:for(;he--&&st<mt;){je+=l;for(var Gt=-1,kt=a[je];++Gt<We;){var nn=Ae[Gt],cn=nn.iteratee,To=nn.type,eo=cn(kt);if(To==ke)kt=eo;else if(!eo){if(To==ue)continue e;break e}}_t[st++]=kt}return _t}on.prototype=vu(Ph.prototype),on.prototype.constructor=on;function ol(a){var l=-1,p=a==null?0:a.length;for(this.clear();++l<p;){var E=a[l];this.set(E[0],E[1])}}function CA(){this.__data__=rf?rf(null):{},this.size=0}function TA(a){var l=this.has(a)&&delete this.__data__[a];return this.size-=l?1:0,l}function NA(a){var l=this.__data__;if(rf){var p=l[a];return p===c?n:p}return Ue.call(l,a)?l[a]:n}function OA(a){var l=this.__data__;return rf?l[a]!==n:Ue.call(l,a)}function RA(a,l){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=rf&&l===n?c:l,this}ol.prototype.clear=CA,ol.prototype.delete=TA,ol.prototype.get=NA,ol.prototype.has=OA,ol.prototype.set=RA;function ca(a){var l=-1,p=a==null?0:a.length;for(this.clear();++l<p;){var E=a[l];this.set(E[0],E[1])}}function jA(){this.__data__=[],this.size=0}function AA(a){var l=this.__data__,p=Ch(l,a);if(p<0)return!1;var E=l.length-1;return p==E?l.pop():wh.call(l,p,1),--this.size,!0}function IA(a){var l=this.__data__,p=Ch(l,a);return p<0?n:l[p][1]}function DA(a){return Ch(this.__data__,a)>-1}function LA(a,l){var p=this.__data__,E=Ch(p,a);return E<0?(++this.size,p.push([a,l])):p[E][1]=l,this}ca.prototype.clear=jA,ca.prototype.delete=AA,ca.prototype.get=IA,ca.prototype.has=DA,ca.prototype.set=LA;function fa(a){var l=-1,p=a==null?0:a.length;for(this.clear();++l<p;){var E=a[l];this.set(E[0],E[1])}}function MA(){this.size=0,this.__data__={hash:new ol,map:new(tf||ca),string:new ol}}function zA(a){var l=Fh(this,a).delete(a);return this.size-=l?1:0,l}function FA(a){return Fh(this,a).get(a)}function $A(a){return Fh(this,a).has(a)}function BA(a,l){var p=Fh(this,a),E=p.size;return p.set(a,l),this.size+=p.size==E?0:1,this}fa.prototype.clear=MA,fa.prototype.delete=zA,fa.prototype.get=FA,fa.prototype.has=$A,fa.prototype.set=BA;function il(a){var l=-1,p=a==null?0:a.length;for(this.__data__=new fa;++l<p;)this.add(a[l])}function UA(a){return this.__data__.set(a,c),this}function KA(a){return this.__data__.has(a)}il.prototype.add=il.prototype.push=UA,il.prototype.has=KA;function gi(a){var l=this.__data__=new ca(a);this.size=l.size}function HA(){this.__data__=new ca,this.size=0}function WA(a){var l=this.__data__,p=l.delete(a);return this.size=l.size,p}function VA(a){return this.__data__.get(a)}function GA(a){return this.__data__.has(a)}function qA(a,l){var p=this.__data__;if(p instanceof ca){var E=p.__data__;if(!tf||E.length<o-1)return E.push([a,l]),this.size=++p.size,this;p=this.__data__=new fa(E)}return p.set(a,l),this.size=p.size,this}gi.prototype.clear=HA,gi.prototype.delete=WA,gi.prototype.get=VA,gi.prototype.has=GA,gi.prototype.set=qA;function z1(a,l){var p=$t(a),E=!p&&cl(a),I=!p&&!E&&os(a),H=!p&&!E&&!I&&wu(a),Z=p||E||I||H,ae=Z?fu(a.length,we):[],he=ae.length;for(var je in a)(l||Ue.call(a,je))&&!(Z&&(je=="length"||I&&(je=="offset"||je=="parent")||H&&(je=="buffer"||je=="byteLength"||je=="byteOffset")||ma(je,he)))&&ae.push(je);return ae}function F1(a){var l=a.length;return l?a[rg(0,l-1)]:n}function YA(a,l){return $h(co(a),al(l,0,a.length))}function XA(a){return $h(co(a))}function Gv(a,l,p){(p!==n&&!yi(a[l],p)||p===n&&!(l in a))&&da(a,l,p)}function af(a,l,p){var E=a[l];(!(Ue.call(a,l)&&yi(E,p))||p===n&&!(l in a))&&da(a,l,p)}function Ch(a,l){for(var p=a.length;p--;)if(yi(a[p][0],l))return p;return-1}function JA(a,l,p,E){return es(a,function(I,H,Z){l(E,I,p(I),Z)}),E}function $1(a,l){return a&&Bi(l,kr(l),a)}function QA(a,l){return a&&Bi(l,ho(l),a)}function da(a,l,p){l=="__proto__"&&Eh?Eh(a,l,{configurable:!0,enumerable:!0,value:p,writable:!0}):a[l]=p}function qv(a,l){for(var p=-1,E=l.length,I=$(E),H=a==null;++p<E;)I[p]=H?n:Tg(a,l[p]);return I}function al(a,l,p){return a===a&&(p!==n&&(a=a<=p?a:p),l!==n&&(a=a>=l?a:l)),a}function Vo(a,l,p,E,I,H){var Z,ae=l&m,he=l&g,je=l&x;if(p&&(Z=I?p(a,E,I,H):p(a)),Z!==n)return Z;if(!Vn(a))return a;var Ae=$t(a);if(Ae){if(Z=$I(a),!ae)return co(a,Z)}else{var We=Hr(a),st=We==Qe||We==yt;if(os(a))return cE(a,ae);if(We==tn||We==Re||st&&!I){if(Z=he||st?{}:NE(a),!ae)return he?NI(a,QA(Z,a)):TI(a,$1(Z,a))}else{if(!xn[We])return I?a:{};Z=BI(a,We,ae)}}H||(H=new gi);var mt=H.get(a);if(mt)return mt;H.set(a,Z),ox(a)?a.forEach(function(kt){Z.add(Vo(kt,l,p,kt,a,H))}):nx(a)&&a.forEach(function(kt,nn){Z.set(nn,Vo(kt,l,p,nn,a,H))});var _t=je?he?pg:hg:he?ho:kr,Gt=Ae?n:_t(a);return $r(Gt||a,function(kt,nn){Gt&&(nn=kt,kt=a[nn]),af(Z,nn,Vo(kt,l,p,nn,a,H))}),Z}function ZA(a){var l=kr(a);return function(p){return B1(p,a,l)}}function B1(a,l,p){var E=p.length;if(a==null)return!E;for(a=oe(a);E--;){var I=p[E],H=l[I],Z=a[I];if(Z===n&&!(I in a)||!H(Z))return!1}return!0}function U1(a,l,p){if(typeof a!="function")throw new xe(s);return hf(function(){a.apply(n,p)},l)}function sf(a,l,p,E){var I=-1,H=ua,Z=!0,ae=a.length,he=[],je=l.length;if(!ae)return he;p&&(l=On(l,Br(p))),E?(H=Ys,Z=!1):l.length>=o&&(H=Ja,Z=!1,l=new il(l));e:for(;++I<ae;){var Ae=a[I],We=p==null?Ae:p(Ae);if(Ae=E||Ae!==0?Ae:0,Z&&We===We){for(var st=je;st--;)if(l[st]===We)continue e;he.push(Ae)}else H(l,We,E)||he.push(Ae)}return he}var es=mE($i),K1=mE(Xv,!0);function eI(a,l){var p=!0;return es(a,function(E,I,H){return p=!!l(E,I,H),p}),p}function Th(a,l,p){for(var E=-1,I=a.length;++E<I;){var H=a[E],Z=l(H);if(Z!=null&&(ae===n?Z===Z&&!Co(Z):p(Z,ae)))var ae=Z,he=H}return he}function tI(a,l,p,E){var I=a.length;for(p=Wt(p),p<0&&(p=-p>I?0:I+p),E=E===n||E>I?I:Wt(E),E<0&&(E+=I),E=p>E?0:ax(E);p<E;)a[p++]=l;return a}function H1(a,l){var p=[];return es(a,function(E,I,H){l(E,I,H)&&p.push(E)}),p}function jr(a,l,p,E,I){var H=-1,Z=a.length;for(p||(p=KI),I||(I=[]);++H<Z;){var ae=a[H];l>0&&p(ae)?l>1?jr(ae,l-1,p,E,I):hi(I,ae):E||(I[I.length]=ae)}return I}var Yv=vE(),W1=vE(!0);function $i(a,l){return a&&Yv(a,l,kr)}function Xv(a,l){return a&&W1(a,l,kr)}function Nh(a,l){return lo(l,function(p){return va(a[p])})}function sl(a,l){l=ns(l,a);for(var p=0,E=l.length;a!=null&&p<E;)a=a[Ui(l[p++])];return p&&p==E?a:n}function V1(a,l,p){var E=l(a);return $t(a)?E:hi(E,p(a))}function Qr(a){return a==null?a===n?Bt:vn:rl&&rl in oe(a)?MI(a):XI(a)}function Jv(a,l){return a>l}function nI(a,l){return a!=null&&Ue.call(a,l)}function rI(a,l){return a!=null&&l in oe(a)}function oI(a,l,p){return a>=Kr(l,p)&&a<yr(l,p)}function Qv(a,l,p){for(var E=p?Ys:ua,I=a[0].length,H=a.length,Z=H,ae=$(H),he=1/0,je=[];Z--;){var Ae=a[Z];Z&&l&&(Ae=On(Ae,Br(l))),he=Kr(Ae.length,he),ae[Z]=!p&&(l||I>=120&&Ae.length>=120)?new il(Z&&Ae):n}Ae=a[0];var We=-1,st=ae[0];e:for(;++We<I&&je.length<he;){var mt=Ae[We],_t=l?l(mt):mt;if(mt=p||mt!==0?mt:0,!(st?Ja(st,_t):E(je,_t,p))){for(Z=H;--Z;){var Gt=ae[Z];if(!(Gt?Ja(Gt,_t):E(a[Z],_t,p)))continue e}st&&st.push(_t),je.push(mt)}}return je}function iI(a,l,p,E){return $i(a,function(I,H,Z){l(E,p(I),H,Z)}),E}function lf(a,l,p){l=ns(l,a),a=AE(a,l);var E=a==null?a:a[Ui(qo(l))];return E==null?n:Rr(E,a,p)}function G1(a){return Qn(a)&&Qr(a)==Re}function aI(a){return Qn(a)&&Qr(a)==bt}function sI(a){return Qn(a)&&Qr(a)==de}function uf(a,l,p,E,I){return a===l?!0:a==null||l==null||!Qn(a)&&!Qn(l)?a!==a&&l!==l:lI(a,l,p,E,uf,I)}function lI(a,l,p,E,I,H){var Z=$t(a),ae=$t(l),he=Z?Ze:Hr(a),je=ae?Ze:Hr(l);he=he==Re?tn:he,je=je==Re?tn:je;var Ae=he==tn,We=je==tn,st=he==je;if(st&&os(a)){if(!os(l))return!1;Z=!0,Ae=!1}if(st&&!Ae)return H||(H=new gi),Z||wu(a)?PE(a,l,p,E,I,H):DI(a,l,he,p,E,I,H);if(!(p&y)){var mt=Ae&&Ue.call(a,"__wrapped__"),_t=We&&Ue.call(l,"__wrapped__");if(mt||_t){var Gt=mt?a.value():a,kt=_t?l.value():l;return H||(H=new gi),I(Gt,kt,p,E,H)}}return st?(H||(H=new gi),LI(a,l,p,E,I,H)):!1}function uI(a){return Qn(a)&&Hr(a)==vt}function Zv(a,l,p,E){var I=p.length,H=I,Z=!E;if(a==null)return!H;for(a=oe(a);I--;){var ae=p[I];if(Z&&ae[2]?ae[1]!==a[ae[0]]:!(ae[0]in a))return!1}for(;++I<H;){ae=p[I];var he=ae[0],je=a[he],Ae=ae[1];if(Z&&ae[2]){if(je===n&&!(he in a))return!1}else{var We=new gi;if(E)var st=E(je,Ae,he,a,l,We);if(!(st===n?uf(Ae,je,y|_,E,We):st))return!1}}return!0}function q1(a){if(!Vn(a)||WI(a))return!1;var l=va(a)?ko:Nn;return l.test(ul(a))}function cI(a){return Qn(a)&&Qr(a)==dn}function fI(a){return Qn(a)&&Hr(a)==jt}function dI(a){return Qn(a)&&Vh(a.length)&&!!En[Qr(a)]}function Y1(a){return typeof a=="function"?a:a==null?po:typeof a=="object"?$t(a)?Q1(a[0],a[1]):J1(a):gx(a)}function eg(a){if(!df(a))return mA(a);var l=[];for(var p in oe(a))Ue.call(a,p)&&p!="constructor"&&l.push(p);return l}function hI(a){if(!Vn(a))return YI(a);var l=df(a),p=[];for(var E in a)E=="constructor"&&(l||!Ue.call(a,E))||p.push(E);return p}function tg(a,l){return a<l}function X1(a,l){var p=-1,E=fo(a)?$(a.length):[];return es(a,function(I,H,Z){E[++p]=l(I,H,Z)}),E}function J1(a){var l=vg(a);return l.length==1&&l[0][2]?RE(l[0][0],l[0][1]):function(p){return p===a||Zv(p,a,l)}}function Q1(a,l){return yg(a)&&OE(l)?RE(Ui(a),l):function(p){var E=Tg(p,a);return E===n&&E===l?Ng(p,a):uf(l,E,y|_)}}function Oh(a,l,p,E,I){a!==l&&Yv(l,function(H,Z){if(I||(I=new gi),Vn(H))pI(a,l,Z,p,Oh,E,I);else{var ae=E?E(wg(a,Z),H,Z+"",a,l,I):n;ae===n&&(ae=H),Gv(a,Z,ae)}},ho)}function pI(a,l,p,E,I,H,Z){var ae=wg(a,p),he=wg(l,p),je=Z.get(he);if(je){Gv(a,p,je);return}var Ae=H?H(ae,he,p+"",a,l,Z):n,We=Ae===n;if(We){var st=$t(he),mt=!st&&os(he),_t=!st&&!mt&&wu(he);Ae=he,st||mt||_t?$t(ae)?Ae=ae:ar(ae)?Ae=co(ae):mt?(We=!1,Ae=cE(he,!0)):_t?(We=!1,Ae=fE(he,!0)):Ae=[]:pf(he)||cl(he)?(Ae=ae,cl(ae)?Ae=sx(ae):(!Vn(ae)||va(ae))&&(Ae=NE(he))):We=!1}We&&(Z.set(he,Ae),I(Ae,he,E,H,Z),Z.delete(he)),Gv(a,p,Ae)}function Z1(a,l){var p=a.length;if(p)return l+=l<0?p:0,ma(l,p)?a[l]:n}function eE(a,l,p){l.length?l=On(l,function(H){return $t(H)?function(Z){return sl(Z,H.length===1?H[0]:H)}:H}):l=[po];var E=-1;l=On(l,Br(St()));var I=X1(a,function(H,Z,ae){var he=On(l,function(je){return je(H)});return{criteria:he,index:++E,value:H}});return mh(I,function(H,Z){return CI(H,Z,p)})}function mI(a,l){return tE(a,l,function(p,E){return Ng(a,E)})}function tE(a,l,p){for(var E=-1,I=l.length,H={};++E<I;){var Z=l[E],ae=sl(a,Z);p(ae,Z)&&cf(H,ns(Z,a),ae)}return H}function vI(a){return function(l){return sl(l,a)}}function ng(a,l,p,E){var I=E?Xc:Xa,H=-1,Z=l.length,ae=a;for(a===l&&(l=co(l)),p&&(ae=On(a,Br(p)));++H<Z;)for(var he=0,je=l[H],Ae=p?p(je):je;(he=I(ae,Ae,he,E))>-1;)ae!==a&&wh.call(ae,he,1),wh.call(a,he,1);return a}function nE(a,l){for(var p=a?l.length:0,E=p-1;p--;){var I=l[p];if(p==E||I!==H){var H=I;ma(I)?wh.call(a,I,1):ag(a,I)}}return a}function rg(a,l){return a+Sh(L1()*(l-a+1))}function gI(a,l,p,E){for(var I=-1,H=yr(xh((l-a)/(p||1)),0),Z=$(H);H--;)Z[E?H:++I]=a,a+=p;return Z}function og(a,l){var p="";if(!a||l<1||l>ve)return p;do l%2&&(p+=a),l=Sh(l/2),l&&(a+=a);while(l);return p}function Jt(a,l){return Eg(jE(a,l,po),a+"")}function yI(a){return F1(Eu(a))}function bI(a,l){var p=Eu(a);return $h(p,al(l,0,p.length))}function cf(a,l,p,E){if(!Vn(a))return a;l=ns(l,a);for(var I=-1,H=l.length,Z=H-1,ae=a;ae!=null&&++I<H;){var he=Ui(l[I]),je=p;if(he==="__proto__"||he==="constructor"||he==="prototype")return a;if(I!=Z){var Ae=ae[he];je=E?E(Ae,he,ae):n,je===n&&(je=Vn(Ae)?Ae:ma(l[I+1])?[]:{})}af(ae,he,je),ae=ae[he]}return a}var rE=_h?function(a,l){return _h.set(a,l),a}:po,wI=Eh?function(a,l){return Eh(a,"toString",{configurable:!0,enumerable:!1,value:Rg(l),writable:!0})}:po;function EI(a){return $h(Eu(a))}function Go(a,l,p){var E=-1,I=a.length;l<0&&(l=-l>I?0:I+l),p=p>I?I:p,p<0&&(p+=I),I=l>p?0:p-l>>>0,l>>>=0;for(var H=$(I);++E<I;)H[E]=a[E+l];return H}function xI(a,l){var p;return es(a,function(E,I,H){return p=l(E,I,H),!p}),!!p}function Rh(a,l,p){var E=0,I=a==null?E:a.length;if(typeof l=="number"&&l===l&&I<=Ge){for(;E<I;){var H=E+I>>>1,Z=a[H];Z!==null&&!Co(Z)&&(p?Z<=l:Z<l)?E=H+1:I=H}return I}return ig(a,l,po,p)}function ig(a,l,p,E){var I=0,H=a==null?0:a.length;if(H===0)return 0;l=p(l);for(var Z=l!==l,ae=l===null,he=Co(l),je=l===n;I<H;){var Ae=Sh((I+H)/2),We=p(a[Ae]),st=We!==n,mt=We===null,_t=We===We,Gt=Co(We);if(Z)var kt=E||_t;else je?kt=_t&&(E||st):ae?kt=_t&&st&&(E||!mt):he?kt=_t&&st&&!mt&&(E||!Gt):mt||Gt?kt=!1:kt=E?We<=l:We<l;kt?I=Ae+1:H=Ae}return Kr(H,me)}function oE(a,l){for(var p=-1,E=a.length,I=0,H=[];++p<E;){var Z=a[p],ae=l?l(Z):Z;if(!p||!yi(ae,he)){var he=ae;H[I++]=Z===0?0:Z}}return H}function iE(a){return typeof a=="number"?a:Co(a)?Ce:+a}function Po(a){if(typeof a=="string")return a;if($t(a))return On(a,Po)+"";if(Co(a))return M1?M1.call(a):"";var l=a+"";return l=="0"&&1/a==-Ve?"-0":l}function ts(a,l,p){var E=-1,I=ua,H=a.length,Z=!0,ae=[],he=ae;if(p)Z=!1,I=Ys;else if(H>=o){var je=l?null:AI(a);if(je)return Qa(je);Z=!1,I=Ja,he=new il}else he=l?[]:ae;e:for(;++E<H;){var Ae=a[E],We=l?l(Ae):Ae;if(Ae=p||Ae!==0?Ae:0,Z&&We===We){for(var st=he.length;st--;)if(he[st]===We)continue e;l&&he.push(We),ae.push(Ae)}else I(he,We,p)||(he!==ae&&he.push(We),ae.push(Ae))}return ae}function ag(a,l){return l=ns(l,a),a=AE(a,l),a==null||delete a[Ui(qo(l))]}function aE(a,l,p,E){return cf(a,l,p(sl(a,l)),E)}function jh(a,l,p,E){for(var I=a.length,H=E?I:-1;(E?H--:++H<I)&&l(a[H],H,a););return p?Go(a,E?0:H,E?H+1:I):Go(a,E?H+1:0,E?I:H)}function sE(a,l){var p=a;return p instanceof on&&(p=p.value()),Ya(l,function(E,I){return I.func.apply(I.thisArg,hi([E],I.args))},p)}function sg(a,l,p){var E=a.length;if(E<2)return E?ts(a[0]):[];for(var I=-1,H=$(E);++I<E;)for(var Z=a[I],ae=-1;++ae<E;)ae!=I&&(H[I]=sf(H[I]||Z,a[ae],l,p));return ts(jr(H,1),l,p)}function lE(a,l,p){for(var E=-1,I=a.length,H=l.length,Z={};++E<I;){var ae=E<H?l[E]:n;p(Z,a[E],ae)}return Z}function lg(a){return ar(a)?a:[]}function ug(a){return typeof a=="function"?a:po}function ns(a,l){return $t(a)?a:yg(a,l)?[a]:ME(bn(a))}var SI=Jt;function rs(a,l,p){var E=a.length;return p=p===n?E:p,!l&&p>=E?a:Go(a,l,p)}var uE=cA||function(a){return gr.clearTimeout(a)};function cE(a,l){if(l)return a.slice();var p=a.length,E=nl?nl(p):new a.constructor(p);return a.copy(E),E}function cg(a){var l=new a.constructor(a.byteLength);return new ir(l).set(new ir(a)),l}function _I(a,l){var p=l?cg(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.byteLength)}function kI(a){var l=new a.constructor(a.source,Tn.exec(a));return l.lastIndex=a.lastIndex,l}function PI(a){return of?oe(of.call(a)):{}}function fE(a,l){var p=l?cg(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.length)}function dE(a,l){if(a!==l){var p=a!==n,E=a===null,I=a===a,H=Co(a),Z=l!==n,ae=l===null,he=l===l,je=Co(l);if(!ae&&!je&&!H&&a>l||H&&Z&&he&&!ae&&!je||E&&Z&&he||!p&&he||!I)return 1;if(!E&&!H&&!je&&a<l||je&&p&&I&&!E&&!H||ae&&p&&I||!Z&&I||!he)return-1}return 0}function CI(a,l,p){for(var E=-1,I=a.criteria,H=l.criteria,Z=I.length,ae=p.length;++E<Z;){var he=dE(I[E],H[E]);if(he){if(E>=ae)return he;var je=p[E];return he*(je=="desc"?-1:1)}}return a.index-l.index}function hE(a,l,p,E){for(var I=-1,H=a.length,Z=p.length,ae=-1,he=l.length,je=yr(H-Z,0),Ae=$(he+je),We=!E;++ae<he;)Ae[ae]=l[ae];for(;++I<Z;)(We||I<H)&&(Ae[p[I]]=a[I]);for(;je--;)Ae[ae++]=a[I++];return Ae}function pE(a,l,p,E){for(var I=-1,H=a.length,Z=-1,ae=p.length,he=-1,je=l.length,Ae=yr(H-ae,0),We=$(Ae+je),st=!E;++I<Ae;)We[I]=a[I];for(var mt=I;++he<je;)We[mt+he]=l[he];for(;++Z<ae;)(st||I<H)&&(We[mt+p[Z]]=a[I++]);return We}function co(a,l){var p=-1,E=a.length;for(l||(l=$(E));++p<E;)l[p]=a[p];return l}function Bi(a,l,p,E){var I=!p;p||(p={});for(var H=-1,Z=l.length;++H<Z;){var ae=l[H],he=E?E(p[ae],a[ae],ae,p,a):n;he===n&&(he=a[ae]),I?da(p,ae,he):af(p,ae,he)}return p}function TI(a,l){return Bi(a,gg(a),l)}function NI(a,l){return Bi(a,CE(a),l)}function Ah(a,l){return function(p,E){var I=$t(p)?Vc:JA,H=l?l():{};return I(p,a,St(E,2),H)}}function gu(a){return Jt(function(l,p){var E=-1,I=p.length,H=I>1?p[I-1]:n,Z=I>2?p[2]:n;for(H=a.length>3&&typeof H=="function"?(I--,H):n,Z&&Zr(p[0],p[1],Z)&&(H=I<3?n:H,I=1),l=oe(l);++E<I;){var ae=p[E];ae&&a(l,ae,E,H)}return l})}function mE(a,l){return function(p,E){if(p==null)return p;if(!fo(p))return a(p,E);for(var I=p.length,H=l?I:-1,Z=oe(p);(l?H--:++H<I)&&E(Z[H],H,Z)!==!1;);return p}}function vE(a){return function(l,p,E){for(var I=-1,H=oe(l),Z=E(l),ae=Z.length;ae--;){var he=Z[a?ae:++I];if(p(H[he],he,H)===!1)break}return l}}function OI(a,l,p){var E=l&P,I=ff(a);function H(){var Z=this&&this!==gr&&this instanceof H?I:a;return Z.apply(E?p:this,arguments)}return H}function gE(a){return function(l){l=bn(l);var p=vi(l)?v(l):n,E=p?p[0]:l.charAt(0),I=p?rs(p,1).join(""):l.slice(1);return E[a]()+I}}function yu(a){return function(l){return Ya(mx(px(l).replace($c,"")),a,"")}}function ff(a){return function(){var l=arguments;switch(l.length){case 0:return new a;case 1:return new a(l[0]);case 2:return new a(l[0],l[1]);case 3:return new a(l[0],l[1],l[2]);case 4:return new a(l[0],l[1],l[2],l[3]);case 5:return new a(l[0],l[1],l[2],l[3],l[4]);case 6:return new a(l[0],l[1],l[2],l[3],l[4],l[5]);case 7:return new a(l[0],l[1],l[2],l[3],l[4],l[5],l[6])}var p=vu(a.prototype),E=a.apply(p,l);return Vn(E)?E:p}}function RI(a,l,p){var E=ff(a);function I(){for(var H=arguments.length,Z=$(H),ae=H,he=bu(I);ae--;)Z[ae]=arguments[ae];var je=H<3&&Z[0]!==he&&Z[H-1]!==he?[]:Ur(Z,he);if(H-=je.length,H<p)return xE(a,l,Ih,I.placeholder,n,Z,je,n,n,p-H);var Ae=this&&this!==gr&&this instanceof I?E:a;return Rr(Ae,this,Z)}return I}function yE(a){return function(l,p,E){var I=oe(l);if(!fo(l)){var H=St(p,3);l=kr(l),p=function(ae){return H(I[ae],ae,I)}}var Z=a(l,p,E);return Z>-1?I[H?l[Z]:Z]:n}}function bE(a){return pa(function(l){var p=l.length,E=p,I=Wo.prototype.thru;for(a&&l.reverse();E--;){var H=l[E];if(typeof H!="function")throw new xe(s);if(I&&!Z&&zh(H)=="wrapper")var Z=new Wo([],!0)}for(E=Z?E:p;++E<p;){H=l[E];var ae=zh(H),he=ae=="wrapper"?mg(H):n;he&&bg(he[0])&&he[1]==(L|S|K|X)&&!he[4].length&&he[9]==1?Z=Z[zh(he[0])].apply(Z,he[3]):Z=H.length==1&&bg(H)?Z[ae]():Z.thru(H)}return function(){var je=arguments,Ae=je[0];if(Z&&je.length==1&&$t(Ae))return Z.plant(Ae).value();for(var We=0,st=p?l[We].apply(this,je):Ae;++We<p;)st=l[We].call(this,st);return st}})}function Ih(a,l,p,E,I,H,Z,ae,he,je){var Ae=l&L,We=l&P,st=l&k,mt=l&(S|A),_t=l&F,Gt=st?n:ff(a);function kt(){for(var nn=arguments.length,cn=$(nn),To=nn;To--;)cn[To]=arguments[To];if(mt)var eo=bu(kt),No=Bv(cn,eo);if(E&&(cn=hE(cn,E,I,mt)),H&&(cn=pE(cn,H,Z,mt)),nn-=No,mt&&nn<je){var sr=Ur(cn,eo);return xE(a,l,Ih,kt.placeholder,p,cn,sr,ae,he,je-nn)}var bi=We?p:this,ya=st?bi[a]:a;return nn=cn.length,ae?cn=JI(cn,ae):_t&&nn>1&&cn.reverse(),Ae&&he<nn&&(cn.length=he),this&&this!==gr&&this instanceof kt&&(ya=Gt||ff(ya)),ya.apply(bi,cn)}return kt}function wE(a,l){return function(p,E){return iI(p,a,l(E),{})}}function Dh(a,l){return function(p,E){var I;if(p===n&&E===n)return l;if(p!==n&&(I=p),E!==n){if(I===n)return E;typeof p=="string"||typeof E=="string"?(p=Po(p),E=Po(E)):(p=iE(p),E=iE(E)),I=a(p,E)}return I}}function fg(a){return pa(function(l){return l=On(l,Br(St())),Jt(function(p){var E=this;return a(l,function(I){return Rr(I,E,p)})})})}function Lh(a,l){l=l===n?" ":Po(l);var p=l.length;if(p<2)return p?og(l,a):l;var E=og(l,xh(a/h(l)));return vi(l)?rs(v(E),0,a).join(""):E.slice(0,a)}function jI(a,l,p,E){var I=l&P,H=ff(a);function Z(){for(var ae=-1,he=arguments.length,je=-1,Ae=E.length,We=$(Ae+he),st=this&&this!==gr&&this instanceof Z?H:a;++je<Ae;)We[je]=E[je];for(;he--;)We[je++]=arguments[++ae];return Rr(st,I?p:this,We)}return Z}function EE(a){return function(l,p,E){return E&&typeof E!="number"&&Zr(l,p,E)&&(p=E=n),l=ga(l),p===n?(p=l,l=0):p=ga(p),E=E===n?l<p?1:-1:ga(E),gI(l,p,E,a)}}function Mh(a){return function(l,p){return typeof l=="string"&&typeof p=="string"||(l=Yo(l),p=Yo(p)),a(l,p)}}function xE(a,l,p,E,I,H,Z,ae,he,je){var Ae=l&S,We=Ae?Z:n,st=Ae?n:Z,mt=Ae?H:n,_t=Ae?n:H;l|=Ae?K:O,l&=~(Ae?O:K),l&C||(l&=~(P|k));var Gt=[a,l,I,mt,We,_t,st,ae,he,je],kt=p.apply(n,Gt);return bg(a)&&IE(kt,Gt),kt.placeholder=E,DE(kt,a,l)}function dg(a){var l=le[a];return function(p,E){if(p=Yo(p),E=E==null?0:Kr(Wt(E),292),E&&D1(p)){var I=(bn(p)+"e").split("e"),H=l(I[0]+"e"+(+I[1]+E));return I=(bn(H)+"e").split("e"),+(I[0]+"e"+(+I[1]-E))}return l(p)}}var AI=pu&&1/Qa(new pu([,-0]))[1]==Ve?function(a){return new pu(a)}:Ig;function SE(a){return function(l){var p=Hr(l);return p==vt?tl(l):p==jt?Za(l):vh(l,a(l))}}function ha(a,l,p,E,I,H,Z,ae){var he=l&k;if(!he&&typeof a!="function")throw new xe(s);var je=E?E.length:0;if(je||(l&=~(K|O),E=I=n),Z=Z===n?Z:yr(Wt(Z),0),ae=ae===n?ae:Wt(ae),je-=I?I.length:0,l&O){var Ae=E,We=I;E=I=n}var st=he?n:mg(a),mt=[a,l,p,E,I,Ae,We,H,Z,ae];if(st&&qI(mt,st),a=mt[0],l=mt[1],p=mt[2],E=mt[3],I=mt[4],ae=mt[9]=mt[9]===n?he?0:a.length:yr(mt[9]-je,0),!ae&&l&(S|A)&&(l&=~(S|A)),!l||l==P)var _t=OI(a,l,p);else l==S||l==A?_t=RI(a,l,ae):(l==K||l==(P|K))&&!I.length?_t=jI(a,l,p,E):_t=Ih.apply(n,mt);var Gt=st?rE:IE;return DE(Gt(_t,mt),a,l)}function _E(a,l,p,E){return a===n||yi(a,tt[p])&&!Ue.call(E,p)?l:a}function kE(a,l,p,E,I,H){return Vn(a)&&Vn(l)&&(H.set(l,a),Oh(a,l,n,kE,H),H.delete(l)),a}function II(a){return pf(a)?n:a}function PE(a,l,p,E,I,H){var Z=p&y,ae=a.length,he=l.length;if(ae!=he&&!(Z&&he>ae))return!1;var je=H.get(a),Ae=H.get(l);if(je&&Ae)return je==l&&Ae==a;var We=-1,st=!0,mt=p&_?new il:n;for(H.set(a,l),H.set(l,a);++We<ae;){var _t=a[We],Gt=l[We];if(E)var kt=Z?E(Gt,_t,We,l,a,H):E(_t,Gt,We,a,l,H);if(kt!==n){if(kt)continue;st=!1;break}if(mt){if(!pi(l,function(nn,cn){if(!Ja(mt,cn)&&(_t===nn||I(_t,nn,p,E,H)))return mt.push(cn)})){st=!1;break}}else if(!(_t===Gt||I(_t,Gt,p,E,H))){st=!1;break}}return H.delete(a),H.delete(l),st}function DI(a,l,p,E,I,H,Z){switch(p){case Ut:if(a.byteLength!=l.byteLength||a.byteOffset!=l.byteOffset)return!1;a=a.buffer,l=l.buffer;case bt:return!(a.byteLength!=l.byteLength||!H(new ir(a),new ir(l)));case ye:case de:case He:return yi(+a,+l);case ze:return a.name==l.name&&a.message==l.message;case dn:case yn:return a==l+"";case vt:var ae=tl;case jt:var he=E&y;if(ae||(ae=Qa),a.size!=l.size&&!he)return!1;var je=Z.get(a);if(je)return je==l;E|=_,Z.set(a,l);var Ae=PE(ae(a),ae(l),E,I,H,Z);return Z.delete(a),Ae;case gn:if(of)return of.call(a)==of.call(l)}return!1}function LI(a,l,p,E,I,H){var Z=p&y,ae=hg(a),he=ae.length,je=hg(l),Ae=je.length;if(he!=Ae&&!Z)return!1;for(var We=he;We--;){var st=ae[We];if(!(Z?st in l:Ue.call(l,st)))return!1}var mt=H.get(a),_t=H.get(l);if(mt&&_t)return mt==l&&_t==a;var Gt=!0;H.set(a,l),H.set(l,a);for(var kt=Z;++We<he;){st=ae[We];var nn=a[st],cn=l[st];if(E)var To=Z?E(cn,nn,st,l,a,H):E(nn,cn,st,a,l,H);if(!(To===n?nn===cn||I(nn,cn,p,E,H):To)){Gt=!1;break}kt||(kt=st=="constructor")}if(Gt&&!kt){var eo=a.constructor,No=l.constructor;eo!=No&&"constructor"in a&&"constructor"in l&&!(typeof eo=="function"&&eo instanceof eo&&typeof No=="function"&&No instanceof No)&&(Gt=!1)}return H.delete(a),H.delete(l),Gt}function pa(a){return Eg(jE(a,n,BE),a+"")}function hg(a){return V1(a,kr,gg)}function pg(a){return V1(a,ho,CE)}var mg=_h?function(a){return _h.get(a)}:Ig;function zh(a){for(var l=a.name+"",p=mu[l],E=Ue.call(mu,l)?p.length:0;E--;){var I=p[E],H=I.func;if(H==null||H==a)return I.name}return l}function bu(a){var l=Ue.call(B,"placeholder")?B:a;return l.placeholder}function St(){var a=B.iteratee||jg;return a=a===jg?Y1:a,arguments.length?a(arguments[0],arguments[1]):a}function Fh(a,l){var p=a.__data__;return HI(l)?p[typeof l=="string"?"string":"hash"]:p.map}function vg(a){for(var l=kr(a),p=l.length;p--;){var E=l[p],I=a[E];l[p]=[E,I,OE(I)]}return l}function ll(a,l){var p=Wn(a,l);return q1(p)?p:n}function MI(a){var l=Ue.call(a,rl),p=a[rl];try{a[rl]=n;var E=!0}catch{}var I=Lt.call(a);return E&&(l?a[rl]=p:delete a[rl]),I}var gg=Hv?function(a){return a==null?[]:(a=oe(a),lo(Hv(a),function(l){return hu.call(a,l)}))}:Dg,CE=Hv?function(a){for(var l=[];a;)hi(l,gg(a)),a=hr(a);return l}:Dg,Hr=Qr;(Wv&&Hr(new Wv(new ArrayBuffer(1)))!=Ut||tf&&Hr(new tf)!=vt||Vv&&Hr(Vv.resolve())!=$n||pu&&Hr(new pu)!=jt||nf&&Hr(new nf)!=Et)&&(Hr=function(a){var l=Qr(a),p=l==tn?a.constructor:n,E=p?ul(p):"";if(E)switch(E){case bA:return Ut;case wA:return vt;case EA:return $n;case xA:return jt;case SA:return Et}return l});function zI(a,l,p){for(var E=-1,I=p.length;++E<I;){var H=p[E],Z=H.size;switch(H.type){case"drop":a+=Z;break;case"dropRight":l-=Z;break;case"take":l=Kr(l,a+Z);break;case"takeRight":a=yr(a,l-Z);break}}return{start:a,end:l}}function FI(a){var l=a.match(Rt);return l?l[1].split(mn):[]}function TE(a,l,p){l=ns(l,a);for(var E=-1,I=l.length,H=!1;++E<I;){var Z=Ui(l[E]);if(!(H=a!=null&&p(a,Z)))break;a=a[Z]}return H||++E!=I?H:(I=a==null?0:a.length,!!I&&Vh(I)&&ma(Z,I)&&($t(a)||cl(a)))}function $I(a){var l=a.length,p=new a.constructor(l);return l&&typeof a[0]=="string"&&Ue.call(a,"index")&&(p.index=a.index,p.input=a.input),p}function NE(a){return typeof a.constructor=="function"&&!df(a)?vu(hr(a)):{}}function BI(a,l,p){var E=a.constructor;switch(l){case bt:return cg(a);case ye:case de:return new E(+a);case Ut:return _I(a,p);case lt:case V:case D:case W:case re:case ce:case be:case Xe:case ct:return fE(a,p);case vt:return new E;case He:case yn:return new E(a);case dn:return kI(a);case jt:return new E;case gn:return PI(a)}}function UI(a,l){var p=l.length;if(!p)return a;var E=p-1;return l[E]=(p>1?"& ":"")+l[E],l=l.join(p>2?", ":" "),a.replace(Ot,`{
/* [wrapped with `+l+`] */
`)}function KI(a){return $t(a)||cl(a)||!!(I1&&a&&a[I1])}function ma(a,l){var p=typeof a;return l=l??ve,!!l&&(p=="number"||p!="symbol"&&Nr.test(a))&&a>-1&&a%1==0&&a<l}function Zr(a,l,p){if(!Vn(p))return!1;var E=typeof l;return(E=="number"?fo(p)&&ma(l,p.length):E=="string"&&l in p)?yi(p[l],a):!1}function yg(a,l){if($t(a))return!1;var p=typeof a;return p=="number"||p=="symbol"||p=="boolean"||a==null||Co(a)?!0:Le.test(a)||!ht.test(a)||l!=null&&a in oe(l)}function HI(a){var l=typeof a;return l=="string"||l=="number"||l=="symbol"||l=="boolean"?a!=="__proto__":a===null}function bg(a){var l=zh(a),p=B[l];if(typeof p!="function"||!(l in on.prototype))return!1;if(a===p)return!0;var E=mg(p);return!!E&&a===E[0]}function WI(a){return!!xt&&xt in a}var VI=Ye?va:Lg;function df(a){var l=a&&a.constructor,p=typeof l=="function"&&l.prototype||tt;return a===p}function OE(a){return a===a&&!Vn(a)}function RE(a,l){return function(p){return p==null?!1:p[a]===l&&(l!==n||a in oe(p))}}function GI(a){var l=Hh(a,function(E){return p.size===f&&p.clear(),E}),p=l.cache;return l}function qI(a,l){var p=a[1],E=l[1],I=p|E,H=I<(P|k|L),Z=E==L&&p==S||E==L&&p==X&&a[7].length<=l[8]||E==(L|X)&&l[7].length<=l[8]&&p==S;if(!(H||Z))return a;E&P&&(a[2]=l[2],I|=p&P?0:C);var ae=l[3];if(ae){var he=a[3];a[3]=he?hE(he,ae,l[4]):ae,a[4]=he?Ur(a[3],d):l[4]}return ae=l[5],ae&&(he=a[5],a[5]=he?pE(he,ae,l[6]):ae,a[6]=he?Ur(a[5],d):l[6]),ae=l[7],ae&&(a[7]=ae),E&L&&(a[8]=a[8]==null?l[8]:Kr(a[8],l[8])),a[9]==null&&(a[9]=l[9]),a[0]=l[0],a[1]=I,a}function YI(a){var l=[];if(a!=null)for(var p in oe(a))l.push(p);return l}function XI(a){return Lt.call(a)}function jE(a,l,p){return l=yr(l===n?a.length-1:l,0),function(){for(var E=arguments,I=-1,H=yr(E.length-l,0),Z=$(H);++I<H;)Z[I]=E[l+I];I=-1;for(var ae=$(l+1);++I<l;)ae[I]=E[I];return ae[l]=p(Z),Rr(a,this,ae)}}function AE(a,l){return l.length<2?a:sl(a,Go(l,0,-1))}function JI(a,l){for(var p=a.length,E=Kr(l.length,p),I=co(a);E--;){var H=l[E];a[E]=ma(H,p)?I[H]:n}return a}function wg(a,l){if(!(l==="constructor"&&typeof a[l]=="function")&&l!="__proto__")return a[l]}var IE=LE(rE),hf=dA||function(a,l){return gr.setTimeout(a,l)},Eg=LE(wI);function DE(a,l,p){var E=l+"";return Eg(a,UI(E,QI(FI(E),p)))}function LE(a){var l=0,p=0;return function(){var E=vA(),I=te-(E-p);if(p=E,I>0){if(++l>=U)return arguments[0]}else l=0;return a.apply(n,arguments)}}function $h(a,l){var p=-1,E=a.length,I=E-1;for(l=l===n?E:l;++p<l;){var H=rg(p,I),Z=a[H];a[H]=a[p],a[p]=Z}return a.length=l,a}var ME=GI(function(a){var l=[];return a.charCodeAt(0)===46&&l.push(""),a.replace(_e,function(p,E,I,H){l.push(I?H.replace(Cn,"$1"):E||p)}),l});function Ui(a){if(typeof a=="string"||Co(a))return a;var l=a+"";return l=="0"&&1/a==-Ve?"-0":l}function ul(a){if(a!=null){try{return Je.call(a)}catch{}try{return a+""}catch{}}return""}function QI(a,l){return $r(Se,function(p){var E="_."+p[0];l&p[1]&&!ua(a,E)&&a.push(E)}),a.sort()}function zE(a){if(a instanceof on)return a.clone();var l=new Wo(a.__wrapped__,a.__chain__);return l.__actions__=co(a.__actions__),l.__index__=a.__index__,l.__values__=a.__values__,l}function ZI(a,l,p){(p?Zr(a,l,p):l===n)?l=1:l=yr(Wt(l),0);var E=a==null?0:a.length;if(!E||l<1)return[];for(var I=0,H=0,Z=$(xh(E/l));I<E;)Z[H++]=Go(a,I,I+=l);return Z}function eD(a){for(var l=-1,p=a==null?0:a.length,E=0,I=[];++l<p;){var H=a[l];H&&(I[E++]=H)}return I}function tD(){var a=arguments.length;if(!a)return[];for(var l=$(a-1),p=arguments[0],E=a;E--;)l[E-1]=arguments[E];return hi($t(p)?co(p):[p],jr(l,1))}var nD=Jt(function(a,l){return ar(a)?sf(a,jr(l,1,ar,!0)):[]}),rD=Jt(function(a,l){var p=qo(l);return ar(p)&&(p=n),ar(a)?sf(a,jr(l,1,ar,!0),St(p,2)):[]}),oD=Jt(function(a,l){var p=qo(l);return ar(p)&&(p=n),ar(a)?sf(a,jr(l,1,ar,!0),n,p):[]});function iD(a,l,p){var E=a==null?0:a.length;return E?(l=p||l===n?1:Wt(l),Go(a,l<0?0:l,E)):[]}function aD(a,l,p){var E=a==null?0:a.length;return E?(l=p||l===n?1:Wt(l),l=E-l,Go(a,0,l<0?0:l)):[]}function sD(a,l){return a&&a.length?jh(a,St(l,3),!0,!0):[]}function lD(a,l){return a&&a.length?jh(a,St(l,3),!0):[]}function uD(a,l,p,E){var I=a==null?0:a.length;return I?(p&&typeof p!="number"&&Zr(a,l,p)&&(p=0,E=I),tI(a,l,p,E)):[]}function FE(a,l,p){var E=a==null?0:a.length;if(!E)return-1;var I=p==null?0:Wt(p);return I<0&&(I=yr(E+I,0)),Xs(a,St(l,3),I)}function $E(a,l,p){var E=a==null?0:a.length;if(!E)return-1;var I=E-1;return p!==n&&(I=Wt(p),I=p<0?yr(E+I,0):Kr(I,E-1)),Xs(a,St(l,3),I,!0)}function BE(a){var l=a==null?0:a.length;return l?jr(a,1):[]}function cD(a){var l=a==null?0:a.length;return l?jr(a,Ve):[]}function fD(a,l){var p=a==null?0:a.length;return p?(l=l===n?1:Wt(l),jr(a,l)):[]}function dD(a){for(var l=-1,p=a==null?0:a.length,E={};++l<p;){var I=a[l];E[I[0]]=I[1]}return E}function UE(a){return a&&a.length?a[0]:n}function hD(a,l,p){var E=a==null?0:a.length;if(!E)return-1;var I=p==null?0:Wt(p);return I<0&&(I=yr(E+I,0)),Xa(a,l,I)}function pD(a){var l=a==null?0:a.length;return l?Go(a,0,-1):[]}var mD=Jt(function(a){var l=On(a,lg);return l.length&&l[0]===a[0]?Qv(l):[]}),vD=Jt(function(a){var l=qo(a),p=On(a,lg);return l===qo(p)?l=n:p.pop(),p.length&&p[0]===a[0]?Qv(p,St(l,2)):[]}),gD=Jt(function(a){var l=qo(a),p=On(a,lg);return l=typeof l=="function"?l:n,l&&p.pop(),p.length&&p[0]===a[0]?Qv(p,n,l):[]});function yD(a,l){return a==null?"":pA.call(a,l)}function qo(a){var l=a==null?0:a.length;return l?a[l-1]:n}function bD(a,l,p){var E=a==null?0:a.length;if(!E)return-1;var I=E;return p!==n&&(I=Wt(p),I=I<0?yr(E+I,0):Kr(I,E-1)),l===l?bh(a,l,I):Xs(a,Js,I,!0)}function wD(a,l){return a&&a.length?Z1(a,Wt(l)):n}var ED=Jt(KE);function KE(a,l){return a&&a.length&&l&&l.length?ng(a,l):a}function xD(a,l,p){return a&&a.length&&l&&l.length?ng(a,l,St(p,2)):a}function SD(a,l,p){return a&&a.length&&l&&l.length?ng(a,l,n,p):a}var _D=pa(function(a,l){var p=a==null?0:a.length,E=qv(a,l);return nE(a,On(l,function(I){return ma(I,p)?+I:I}).sort(dE)),E});function kD(a,l){var p=[];if(!(a&&a.length))return p;var E=-1,I=[],H=a.length;for(l=St(l,3);++E<H;){var Z=a[E];l(Z,E,a)&&(p.push(Z),I.push(E))}return nE(a,I),p}function xg(a){return a==null?a:yA.call(a)}function PD(a,l,p){var E=a==null?0:a.length;return E?(p&&typeof p!="number"&&Zr(a,l,p)?(l=0,p=E):(l=l==null?0:Wt(l),p=p===n?E:Wt(p)),Go(a,l,p)):[]}function CD(a,l){return Rh(a,l)}function TD(a,l,p){return ig(a,l,St(p,2))}function ND(a,l){var p=a==null?0:a.length;if(p){var E=Rh(a,l);if(E<p&&yi(a[E],l))return E}return-1}function OD(a,l){return Rh(a,l,!0)}function RD(a,l,p){return ig(a,l,St(p,2),!0)}function jD(a,l){var p=a==null?0:a.length;if(p){var E=Rh(a,l,!0)-1;if(yi(a[E],l))return E}return-1}function AD(a){return a&&a.length?oE(a):[]}function ID(a,l){return a&&a.length?oE(a,St(l,2)):[]}function DD(a){var l=a==null?0:a.length;return l?Go(a,1,l):[]}function LD(a,l,p){return a&&a.length?(l=p||l===n?1:Wt(l),Go(a,0,l<0?0:l)):[]}function MD(a,l,p){var E=a==null?0:a.length;return E?(l=p||l===n?1:Wt(l),l=E-l,Go(a,l<0?0:l,E)):[]}function zD(a,l){return a&&a.length?jh(a,St(l,3),!1,!0):[]}function FD(a,l){return a&&a.length?jh(a,St(l,3)):[]}var $D=Jt(function(a){return ts(jr(a,1,ar,!0))}),BD=Jt(function(a){var l=qo(a);return ar(l)&&(l=n),ts(jr(a,1,ar,!0),St(l,2))}),UD=Jt(function(a){var l=qo(a);return l=typeof l=="function"?l:n,ts(jr(a,1,ar,!0),n,l)});function KD(a){return a&&a.length?ts(a):[]}function HD(a,l){return a&&a.length?ts(a,St(l,2)):[]}function WD(a,l){return l=typeof l=="function"?l:n,a&&a.length?ts(a,n,l):[]}function Sg(a){if(!(a&&a.length))return[];var l=0;return a=lo(a,function(p){if(ar(p))return l=yr(p.length,l),!0}),fu(l,function(p){return On(a,Qs(p))})}function HE(a,l){if(!(a&&a.length))return[];var p=Sg(a);return l==null?p:On(p,function(E){return Rr(l,n,E)})}var VD=Jt(function(a,l){return ar(a)?sf(a,l):[]}),GD=Jt(function(a){return sg(lo(a,ar))}),qD=Jt(function(a){var l=qo(a);return ar(l)&&(l=n),sg(lo(a,ar),St(l,2))}),YD=Jt(function(a){var l=qo(a);return l=typeof l=="function"?l:n,sg(lo(a,ar),n,l)}),XD=Jt(Sg);function JD(a,l){return lE(a||[],l||[],af)}function QD(a,l){return lE(a||[],l||[],cf)}var ZD=Jt(function(a){var l=a.length,p=l>1?a[l-1]:n;return p=typeof p=="function"?(a.pop(),p):n,HE(a,p)});function WE(a){var l=B(a);return l.__chain__=!0,l}function eL(a,l){return l(a),a}function Bh(a,l){return l(a)}var tL=pa(function(a){var l=a.length,p=l?a[0]:0,E=this.__wrapped__,I=function(H){return qv(H,a)};return l>1||this.__actions__.length||!(E instanceof on)||!ma(p)?this.thru(I):(E=E.slice(p,+p+(l?1:0)),E.__actions__.push({func:Bh,args:[I],thisArg:n}),new Wo(E,this.__chain__).thru(function(H){return l&&!H.length&&H.push(n),H}))});function nL(){return WE(this)}function rL(){return new Wo(this.value(),this.__chain__)}function oL(){this.__values__===n&&(this.__values__=ix(this.value()));var a=this.__index__>=this.__values__.length,l=a?n:this.__values__[this.__index__++];return{done:a,value:l}}function iL(){return this}function aL(a){for(var l,p=this;p instanceof Ph;){var E=zE(p);E.__index__=0,E.__values__=n,l?I.__wrapped__=E:l=E;var I=E;p=p.__wrapped__}return I.__wrapped__=a,l}function sL(){var a=this.__wrapped__;if(a instanceof on){var l=a;return this.__actions__.length&&(l=new on(this)),l=l.reverse(),l.__actions__.push({func:Bh,args:[xg],thisArg:n}),new Wo(l,this.__chain__)}return this.thru(xg)}function lL(){return sE(this.__wrapped__,this.__actions__)}var uL=Ah(function(a,l,p){Ue.call(a,p)?++a[p]:da(a,p,1)});function cL(a,l,p){var E=$t(a)?qa:eI;return p&&Zr(a,l,p)&&(l=n),E(a,St(l,3))}function fL(a,l){var p=$t(a)?lo:H1;return p(a,St(l,3))}var dL=yE(FE),hL=yE($E);function pL(a,l){return jr(Uh(a,l),1)}function mL(a,l){return jr(Uh(a,l),Ve)}function vL(a,l,p){return p=p===n?1:Wt(p),jr(Uh(a,l),p)}function VE(a,l){var p=$t(a)?$r:es;return p(a,St(l,3))}function GE(a,l){var p=$t(a)?_r:K1;return p(a,St(l,3))}var gL=Ah(function(a,l,p){Ue.call(a,p)?a[p].push(l):da(a,p,[l])});function yL(a,l,p,E){a=fo(a)?a:Eu(a),p=p&&!E?Wt(p):0;var I=a.length;return p<0&&(p=yr(I+p,0)),Gh(a)?p<=I&&a.indexOf(l,p)>-1:!!I&&Xa(a,l,p)>-1}var bL=Jt(function(a,l,p){var E=-1,I=typeof l=="function",H=fo(a)?$(a.length):[];return es(a,function(Z){H[++E]=I?Rr(l,Z,p):lf(Z,l,p)}),H}),wL=Ah(function(a,l,p){da(a,p,l)});function Uh(a,l){var p=$t(a)?On:X1;return p(a,St(l,3))}function EL(a,l,p,E){return a==null?[]:($t(l)||(l=l==null?[]:[l]),p=E?n:p,$t(p)||(p=p==null?[]:[p]),eE(a,l,p))}var xL=Ah(function(a,l,p){a[p?0:1].push(l)},function(){return[[],[]]});function SL(a,l,p){var E=$t(a)?Ya:ph,I=arguments.length<3;return E(a,St(l,4),p,I,es)}function _L(a,l,p){var E=$t(a)?Gc:ph,I=arguments.length<3;return E(a,St(l,4),p,I,K1)}function kL(a,l){var p=$t(a)?lo:H1;return p(a,Wh(St(l,3)))}function PL(a){var l=$t(a)?F1:yI;return l(a)}function CL(a,l,p){(p?Zr(a,l,p):l===n)?l=1:l=Wt(l);var E=$t(a)?YA:bI;return E(a,l)}function TL(a){var l=$t(a)?XA:EI;return l(a)}function NL(a){if(a==null)return 0;if(fo(a))return Gh(a)?h(a):a.length;var l=Hr(a);return l==vt||l==jt?a.size:eg(a).length}function OL(a,l,p){var E=$t(a)?pi:xI;return p&&Zr(a,l,p)&&(l=n),E(a,St(l,3))}var RL=Jt(function(a,l){if(a==null)return[];var p=l.length;return p>1&&Zr(a,l[0],l[1])?l=[]:p>2&&Zr(l[0],l[1],l[2])&&(l=[l[0]]),eE(a,jr(l,1),[])}),Kh=fA||function(){return gr.Date.now()};function jL(a,l){if(typeof l!="function")throw new xe(s);return a=Wt(a),function(){if(--a<1)return l.apply(this,arguments)}}function qE(a,l,p){return l=p?n:l,l=a&&l==null?a.length:l,ha(a,L,n,n,n,n,l)}function YE(a,l){var p;if(typeof l!="function")throw new xe(s);return a=Wt(a),function(){return--a>0&&(p=l.apply(this,arguments)),a<=1&&(l=n),p}}var _g=Jt(function(a,l,p){var E=P;if(p.length){var I=Ur(p,bu(_g));E|=K}return ha(a,E,l,p,I)}),XE=Jt(function(a,l,p){var E=P|k;if(p.length){var I=Ur(p,bu(XE));E|=K}return ha(l,E,a,p,I)});function JE(a,l,p){l=p?n:l;var E=ha(a,S,n,n,n,n,n,l);return E.placeholder=JE.placeholder,E}function QE(a,l,p){l=p?n:l;var E=ha(a,A,n,n,n,n,n,l);return E.placeholder=QE.placeholder,E}function ZE(a,l,p){var E,I,H,Z,ae,he,je=0,Ae=!1,We=!1,st=!0;if(typeof a!="function")throw new xe(s);l=Yo(l)||0,Vn(p)&&(Ae=!!p.leading,We="maxWait"in p,H=We?yr(Yo(p.maxWait)||0,l):H,st="trailing"in p?!!p.trailing:st);function mt(sr){var bi=E,ya=I;return E=I=n,je=sr,Z=a.apply(ya,bi),Z}function _t(sr){return je=sr,ae=hf(nn,l),Ae?mt(sr):Z}function Gt(sr){var bi=sr-he,ya=sr-je,yx=l-bi;return We?Kr(yx,H-ya):yx}function kt(sr){var bi=sr-he,ya=sr-je;return he===n||bi>=l||bi<0||We&&ya>=H}function nn(){var sr=Kh();if(kt(sr))return cn(sr);ae=hf(nn,Gt(sr))}function cn(sr){return ae=n,st&&E?mt(sr):(E=I=n,Z)}function To(){ae!==n&&uE(ae),je=0,E=he=I=ae=n}function eo(){return ae===n?Z:cn(Kh())}function No(){var sr=Kh(),bi=kt(sr);if(E=arguments,I=this,he=sr,bi){if(ae===n)return _t(he);if(We)return uE(ae),ae=hf(nn,l),mt(he)}return ae===n&&(ae=hf(nn,l)),Z}return No.cancel=To,No.flush=eo,No}var AL=Jt(function(a,l){return U1(a,1,l)}),IL=Jt(function(a,l,p){return U1(a,Yo(l)||0,p)});function DL(a){return ha(a,F)}function Hh(a,l){if(typeof a!="function"||l!=null&&typeof l!="function")throw new xe(s);var p=function(){var E=arguments,I=l?l.apply(this,E):E[0],H=p.cache;if(H.has(I))return H.get(I);var Z=a.apply(this,E);return p.cache=H.set(I,Z)||H,Z};return p.cache=new(Hh.Cache||fa),p}Hh.Cache=fa;function Wh(a){if(typeof a!="function")throw new xe(s);return function(){var l=arguments;switch(l.length){case 0:return!a.call(this);case 1:return!a.call(this,l[0]);case 2:return!a.call(this,l[0],l[1]);case 3:return!a.call(this,l[0],l[1],l[2])}return!a.apply(this,l)}}function LL(a){return YE(2,a)}var ML=SI(function(a,l){l=l.length==1&&$t(l[0])?On(l[0],Br(St())):On(jr(l,1),Br(St()));var p=l.length;return Jt(function(E){for(var I=-1,H=Kr(E.length,p);++I<H;)E[I]=l[I].call(this,E[I]);return Rr(a,this,E)})}),kg=Jt(function(a,l){var p=Ur(l,bu(kg));return ha(a,K,n,l,p)}),ex=Jt(function(a,l){var p=Ur(l,bu(ex));return ha(a,O,n,l,p)}),zL=pa(function(a,l){return ha(a,X,n,n,n,l)});function FL(a,l){if(typeof a!="function")throw new xe(s);return l=l===n?l:Wt(l),Jt(a,l)}function $L(a,l){if(typeof a!="function")throw new xe(s);return l=l==null?0:yr(Wt(l),0),Jt(function(p){var E=p[l],I=rs(p,0,l);return E&&hi(I,E),Rr(a,this,I)})}function BL(a,l,p){var E=!0,I=!0;if(typeof a!="function")throw new xe(s);return Vn(p)&&(E="leading"in p?!!p.leading:E,I="trailing"in p?!!p.trailing:I),ZE(a,l,{leading:E,maxWait:l,trailing:I})}function UL(a){return qE(a,1)}function KL(a,l){return kg(ug(l),a)}function HL(){if(!arguments.length)return[];var a=arguments[0];return $t(a)?a:[a]}function WL(a){return Vo(a,x)}function VL(a,l){return l=typeof l=="function"?l:n,Vo(a,x,l)}function GL(a){return Vo(a,m|x)}function qL(a,l){return l=typeof l=="function"?l:n,Vo(a,m|x,l)}function YL(a,l){return l==null||B1(a,l,kr(l))}function yi(a,l){return a===l||a!==a&&l!==l}var XL=Mh(Jv),JL=Mh(function(a,l){return a>=l}),cl=G1(function(){return arguments}())?G1:function(a){return Qn(a)&&Ue.call(a,"callee")&&!hu.call(a,"callee")},$t=$.isArray,QL=Vs?Br(Vs):aI;function fo(a){return a!=null&&Vh(a.length)&&!va(a)}function ar(a){return Qn(a)&&fo(a)}function ZL(a){return a===!0||a===!1||Qn(a)&&Qr(a)==ye}var os=hA||Lg,eM=Gs?Br(Gs):sI;function tM(a){return Qn(a)&&a.nodeType===1&&!pf(a)}function nM(a){if(a==null)return!0;if(fo(a)&&($t(a)||typeof a=="string"||typeof a.splice=="function"||os(a)||wu(a)||cl(a)))return!a.length;var l=Hr(a);if(l==vt||l==jt)return!a.size;if(df(a))return!eg(a).length;for(var p in a)if(Ue.call(a,p))return!1;return!0}function rM(a,l){return uf(a,l)}function oM(a,l,p){p=typeof p=="function"?p:n;var E=p?p(a,l):n;return E===n?uf(a,l,n,p):!!E}function Pg(a){if(!Qn(a))return!1;var l=Qr(a);return l==ze||l==Oe||typeof a.message=="string"&&typeof a.name=="string"&&!pf(a)}function iM(a){return typeof a=="number"&&D1(a)}function va(a){if(!Vn(a))return!1;var l=Qr(a);return l==Qe||l==yt||l==pe||l==or}function tx(a){return typeof a=="number"&&a==Wt(a)}function Vh(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=ve}function Vn(a){var l=typeof a;return a!=null&&(l=="object"||l=="function")}function Qn(a){return a!=null&&typeof a=="object"}var nx=Wc?Br(Wc):uI;function aM(a,l){return a===l||Zv(a,l,vg(l))}function sM(a,l,p){return p=typeof p=="function"?p:n,Zv(a,l,vg(l),p)}function lM(a){return rx(a)&&a!=+a}function uM(a){if(VI(a))throw new Q(i);return q1(a)}function cM(a){return a===null}function fM(a){return a==null}function rx(a){return typeof a=="number"||Qn(a)&&Qr(a)==He}function pf(a){if(!Qn(a)||Qr(a)!=tn)return!1;var l=hr(a);if(l===null)return!0;var p=Ue.call(l,"constructor")&&l.constructor;return typeof p=="function"&&p instanceof p&&Je.call(p)==Vt}var Cg=dh?Br(dh):cI;function dM(a){return tx(a)&&a>=-ve&&a<=ve}var ox=qs?Br(qs):fI;function Gh(a){return typeof a=="string"||!$t(a)&&Qn(a)&&Qr(a)==yn}function Co(a){return typeof a=="symbol"||Qn(a)&&Qr(a)==gn}var wu=lu?Br(lu):dI;function hM(a){return a===n}function pM(a){return Qn(a)&&Hr(a)==Et}function mM(a){return Qn(a)&&Qr(a)==at}var vM=Mh(tg),gM=Mh(function(a,l){return a<=l});function ix(a){if(!a)return[];if(fo(a))return Gh(a)?v(a):co(a);if(ef&&a[ef])return Kv(a[ef]());var l=Hr(a),p=l==vt?tl:l==jt?Qa:Eu;return p(a)}function ga(a){if(!a)return a===0?a:0;if(a=Yo(a),a===Ve||a===-Ve){var l=a<0?-1:1;return l*Fe}return a===a?a:0}function Wt(a){var l=ga(a),p=l%1;return l===l?p?l-p:l:0}function ax(a){return a?al(Wt(a),0,Ke):0}function Yo(a){if(typeof a=="number")return a;if(Co(a))return Ce;if(Vn(a)){var l=typeof a.valueOf=="function"?a.valueOf():a;a=Vn(l)?l+"":l}if(typeof a!="string")return a===0?a:+a;a=gh(a);var p=fr.test(a);return p||Ko.test(a)?ou(a.slice(2),p?2:8):fn.test(a)?Ce:+a}function sx(a){return Bi(a,ho(a))}function yM(a){return a?al(Wt(a),-ve,ve):a===0?a:0}function bn(a){return a==null?"":Po(a)}var bM=gu(function(a,l){if(df(l)||fo(l)){Bi(l,kr(l),a);return}for(var p in l)Ue.call(l,p)&&af(a,p,l[p])}),lx=gu(function(a,l){Bi(l,ho(l),a)}),qh=gu(function(a,l,p,E){Bi(l,ho(l),a,E)}),wM=gu(function(a,l,p,E){Bi(l,kr(l),a,E)}),EM=pa(qv);function xM(a,l){var p=vu(a);return l==null?p:$1(p,l)}var SM=Jt(function(a,l){a=oe(a);var p=-1,E=l.length,I=E>2?l[2]:n;for(I&&Zr(l[0],l[1],I)&&(E=1);++p<E;)for(var H=l[p],Z=ho(H),ae=-1,he=Z.length;++ae<he;){var je=Z[ae],Ae=a[je];(Ae===n||yi(Ae,tt[je])&&!Ue.call(a,je))&&(a[je]=H[je])}return a}),_M=Jt(function(a){return a.push(n,kE),Rr(ux,n,a)});function kM(a,l){return cu(a,St(l,3),$i)}function PM(a,l){return cu(a,St(l,3),Xv)}function CM(a,l){return a==null?a:Yv(a,St(l,3),ho)}function TM(a,l){return a==null?a:W1(a,St(l,3),ho)}function NM(a,l){return a&&$i(a,St(l,3))}function OM(a,l){return a&&Xv(a,St(l,3))}function RM(a){return a==null?[]:Nh(a,kr(a))}function jM(a){return a==null?[]:Nh(a,ho(a))}function Tg(a,l,p){var E=a==null?n:sl(a,l);return E===n?p:E}function AM(a,l){return a!=null&&TE(a,l,nI)}function Ng(a,l){return a!=null&&TE(a,l,rI)}var IM=wE(function(a,l,p){l!=null&&typeof l.toString!="function"&&(l=Lt.call(l)),a[l]=p},Rg(po)),DM=wE(function(a,l,p){l!=null&&typeof l.toString!="function"&&(l=Lt.call(l)),Ue.call(a,l)?a[l].push(p):a[l]=[p]},St),LM=Jt(lf);function kr(a){return fo(a)?z1(a):eg(a)}function ho(a){return fo(a)?z1(a,!0):hI(a)}function MM(a,l){var p={};return l=St(l,3),$i(a,function(E,I,H){da(p,l(E,I,H),E)}),p}function zM(a,l){var p={};return l=St(l,3),$i(a,function(E,I,H){da(p,I,l(E,I,H))}),p}var FM=gu(function(a,l,p){Oh(a,l,p)}),ux=gu(function(a,l,p,E){Oh(a,l,p,E)}),$M=pa(function(a,l){var p={};if(a==null)return p;var E=!1;l=On(l,function(H){return H=ns(H,a),E||(E=H.length>1),H}),Bi(a,pg(a),p),E&&(p=Vo(p,m|g|x,II));for(var I=l.length;I--;)ag(p,l[I]);return p});function BM(a,l){return cx(a,Wh(St(l)))}var UM=pa(function(a,l){return a==null?{}:mI(a,l)});function cx(a,l){if(a==null)return{};var p=On(pg(a),function(E){return[E]});return l=St(l),tE(a,p,function(E,I){return l(E,I[0])})}function KM(a,l,p){l=ns(l,a);var E=-1,I=l.length;for(I||(I=1,a=n);++E<I;){var H=a==null?n:a[Ui(l[E])];H===n&&(E=I,H=p),a=va(H)?H.call(a):H}return a}function HM(a,l,p){return a==null?a:cf(a,l,p)}function WM(a,l,p,E){return E=typeof E=="function"?E:n,a==null?a:cf(a,l,p,E)}var fx=SE(kr),dx=SE(ho);function VM(a,l,p){var E=$t(a),I=E||os(a)||wu(a);if(l=St(l,4),p==null){var H=a&&a.constructor;I?p=E?new H:[]:Vn(a)?p=va(H)?vu(hr(a)):{}:p={}}return(I?$r:$i)(a,function(Z,ae,he){return l(p,Z,ae,he)}),p}function GM(a,l){return a==null?!0:ag(a,l)}function qM(a,l,p){return a==null?a:aE(a,l,ug(p))}function YM(a,l,p,E){return E=typeof E=="function"?E:n,a==null?a:aE(a,l,ug(p),E)}function Eu(a){return a==null?[]:el(a,kr(a))}function XM(a){return a==null?[]:el(a,ho(a))}function JM(a,l,p){return p===n&&(p=l,l=n),p!==n&&(p=Yo(p),p=p===p?p:0),l!==n&&(l=Yo(l),l=l===l?l:0),al(Yo(a),l,p)}function QM(a,l,p){return l=ga(l),p===n?(p=l,l=0):p=ga(p),a=Yo(a),oI(a,l,p)}function ZM(a,l,p){if(p&&typeof p!="boolean"&&Zr(a,l,p)&&(l=p=n),p===n&&(typeof l=="boolean"?(p=l,l=n):typeof a=="boolean"&&(p=a,a=n)),a===n&&l===n?(a=0,l=1):(a=ga(a),l===n?(l=a,a=0):l=ga(l)),a>l){var E=a;a=l,l=E}if(p||a%1||l%1){var I=L1();return Kr(a+I*(l-a+ru("1e-"+((I+"").length-1))),l)}return rg(a,l)}var ez=yu(function(a,l,p){return l=l.toLowerCase(),a+(p?hx(l):l)});function hx(a){return Og(bn(a).toLowerCase())}function px(a){return a=bn(a),a&&a.replace(un,Uv).replace(Mi,"")}function tz(a,l,p){a=bn(a),l=Po(l);var E=a.length;p=p===n?E:al(Wt(p),0,E);var I=p;return p-=l.length,p>=0&&a.slice(p,I)==l}function nz(a){return a=bn(a),a&&fe.test(a)?a.replace(Qt,du):a}function rz(a){return a=bn(a),a&&$e.test(a)?a.replace(Pe,"\\$&"):a}var oz=yu(function(a,l,p){return a+(p?"-":"")+l.toLowerCase()}),iz=yu(function(a,l,p){return a+(p?" ":"")+l.toLowerCase()}),az=gE("toLowerCase");function sz(a,l,p){a=bn(a),l=Wt(l);var E=l?h(a):0;if(!l||E>=l)return a;var I=(l-E)/2;return Lh(Sh(I),p)+a+Lh(xh(I),p)}function lz(a,l,p){a=bn(a),l=Wt(l);var E=l?h(a):0;return l&&E<l?a+Lh(l-E,p):a}function uz(a,l,p){a=bn(a),l=Wt(l);var E=l?h(a):0;return l&&E<l?Lh(l-E,p)+a:a}function cz(a,l,p){return p||l==null?l=0:l&&(l=+l),gA(bn(a).replace(ut,""),l||0)}function fz(a,l,p){return(p?Zr(a,l,p):l===n)?l=1:l=Wt(l),og(bn(a),l)}function dz(){var a=arguments,l=bn(a[0]);return a.length<3?l:l.replace(a[1],a[2])}var hz=yu(function(a,l,p){return a+(p?"_":"")+l.toLowerCase()});function pz(a,l,p){return p&&typeof p!="number"&&Zr(a,l,p)&&(l=p=n),p=p===n?Ke:p>>>0,p?(a=bn(a),a&&(typeof l=="string"||l!=null&&!Cg(l))&&(l=Po(l),!l&&vi(a))?rs(v(a),0,p):a.split(l,p)):[]}var mz=yu(function(a,l,p){return a+(p?" ":"")+Og(l)});function vz(a,l,p){return a=bn(a),p=p==null?0:al(Wt(p),0,a.length),l=Po(l),a.slice(p,p+l.length)==l}function gz(a,l,p){var E=B.templateSettings;p&&Zr(a,l,p)&&(l=n),a=bn(a),l=qh({},l,E,_E);var I=qh({},l.imports,E.imports,_E),H=kr(I),Z=el(I,H),ae,he,je=0,Ae=l.interpolate||Tt,We="__p += '",st=ge((l.escape||Tt).source+"|"+Ae.source+"|"+(Ae===De?Yt:Tt).source+"|"+(l.evaluate||Tt).source+"|$","g"),mt="//# sourceURL="+(Ue.call(l,"sourceURL")?(l.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Hs+"]")+`
`;a.replace(st,function(kt,nn,cn,To,eo,No){return cn||(cn=To),We+=a.slice(je,No).replace(Pt,mi),nn&&(ae=!0,We+=`' +
__e(`+nn+`) +
'`),eo&&(he=!0,We+=`';
`+eo+`;
__p += '`),cn&&(We+=`' +
((__t = (`+cn+`)) == null ? '' : __t) +
'`),je=No+kt.length,kt}),We+=`';
`;var _t=Ue.call(l,"variable")&&l.variable;if(!_t)We=`with (obj) {
`+We+`
}
`;else if(Dt.test(_t))throw new Q(u);We=(he?We.replace(rt,""):We).replace(Ne,"$1").replace(At,"$1;"),We="function("+(_t||"obj")+`) {
`+(_t?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ae?", __e = _.escape":"")+(he?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+We+`return __p
}`;var Gt=vx(function(){return ne(H,mt+"return "+We).apply(n,Z)});if(Gt.source=We,Pg(Gt))throw Gt;return Gt}function yz(a){return bn(a).toLowerCase()}function bz(a){return bn(a).toUpperCase()}function wz(a,l,p){if(a=bn(a),a&&(p||l===n))return gh(a);if(!a||!(l=Po(l)))return a;var E=v(a),I=v(l),H=Qc(E,I),Z=yh(E,I)+1;return rs(E,H,Z).join("")}function Ez(a,l,p){if(a=bn(a),a&&(p||l===n))return a.slice(0,b(a)+1);if(!a||!(l=Po(l)))return a;var E=v(a),I=yh(E,v(l))+1;return rs(E,0,I).join("")}function xz(a,l,p){if(a=bn(a),a&&(p||l===n))return a.replace(ut,"");if(!a||!(l=Po(l)))return a;var E=v(a),I=Qc(E,v(l));return rs(E,I).join("")}function Sz(a,l){var p=N,E=q;if(Vn(l)){var I="separator"in l?l.separator:I;p="length"in l?Wt(l.length):p,E="omission"in l?Po(l.omission):E}a=bn(a);var H=a.length;if(vi(a)){var Z=v(a);H=Z.length}if(p>=H)return a;var ae=p-h(E);if(ae<1)return E;var he=Z?rs(Z,0,ae).join(""):a.slice(0,ae);if(I===n)return he+E;if(Z&&(ae+=he.length-ae),Cg(I)){if(a.slice(ae).search(I)){var je,Ae=he;for(I.global||(I=ge(I.source,bn(Tn.exec(I))+"g")),I.lastIndex=0;je=I.exec(Ae);)var We=je.index;he=he.slice(0,We===n?ae:We)}}else if(a.indexOf(Po(I),ae)!=ae){var st=he.lastIndexOf(I);st>-1&&(he=he.slice(0,st))}return he+E}function _z(a){return a=bn(a),a&&ie.test(a)?a.replace(It,T):a}var kz=yu(function(a,l,p){return a+(p?" ":"")+l.toUpperCase()}),Og=gE("toUpperCase");function mx(a,l,p){return a=bn(a),l=p?n:l,l===n?uo(a)?Y(a):uu(a):a.match(l)||[]}var vx=Jt(function(a,l){try{return Rr(a,n,l)}catch(p){return Pg(p)?p:new Q(p)}}),Pz=pa(function(a,l){return $r(l,function(p){p=Ui(p),da(a,p,_g(a[p],a))}),a});function Cz(a){var l=a==null?0:a.length,p=St();return a=l?On(a,function(E){if(typeof E[1]!="function")throw new xe(s);return[p(E[0]),E[1]]}):[],Jt(function(E){for(var I=-1;++I<l;){var H=a[I];if(Rr(H[0],this,E))return Rr(H[1],this,E)}})}function Tz(a){return ZA(Vo(a,m))}function Rg(a){return function(){return a}}function Nz(a,l){return a==null||a!==a?l:a}var Oz=bE(),Rz=bE(!0);function po(a){return a}function jg(a){return Y1(typeof a=="function"?a:Vo(a,m))}function jz(a){return J1(Vo(a,m))}function Az(a,l){return Q1(a,Vo(l,m))}var Iz=Jt(function(a,l){return function(p){return lf(p,a,l)}}),Dz=Jt(function(a,l){return function(p){return lf(a,p,l)}});function Ag(a,l,p){var E=kr(l),I=Nh(l,E);p==null&&!(Vn(l)&&(I.length||!E.length))&&(p=l,l=a,a=this,I=Nh(l,kr(l)));var H=!(Vn(p)&&"chain"in p)||!!p.chain,Z=va(a);return $r(I,function(ae){var he=l[ae];a[ae]=he,Z&&(a.prototype[ae]=function(){var je=this.__chain__;if(H||je){var Ae=a(this.__wrapped__),We=Ae.__actions__=co(this.__actions__);return We.push({func:he,args:arguments,thisArg:a}),Ae.__chain__=je,Ae}return he.apply(a,hi([this.value()],arguments))})}),a}function Lz(){return gr._===this&&(gr._=Ht),this}function Ig(){}function Mz(a){return a=Wt(a),Jt(function(l){return Z1(l,a)})}var zz=fg(On),Fz=fg(qa),$z=fg(pi);function gx(a){return yg(a)?Qs(Ui(a)):vI(a)}function Bz(a){return function(l){return a==null?n:sl(a,l)}}var Uz=EE(),Kz=EE(!0);function Dg(){return[]}function Lg(){return!1}function Hz(){return{}}function Wz(){return""}function Vz(){return!0}function Gz(a,l){if(a=Wt(a),a<1||a>ve)return[];var p=Ke,E=Kr(a,Ke);l=St(l),a-=Ke;for(var I=fu(E,l);++p<a;)l(p);return I}function qz(a){return $t(a)?On(a,Ui):Co(a)?[a]:co(ME(bn(a)))}function Yz(a){var l=++ot;return bn(a)+l}var Xz=Dh(function(a,l){return a+l},0),Jz=dg("ceil"),Qz=Dh(function(a,l){return a/l},1),Zz=dg("floor");function eF(a){return a&&a.length?Th(a,po,Jv):n}function tF(a,l){return a&&a.length?Th(a,St(l,2),Jv):n}function nF(a){return hh(a,po)}function rF(a,l){return hh(a,St(l,2))}function oF(a){return a&&a.length?Th(a,po,tg):n}function iF(a,l){return a&&a.length?Th(a,St(l,2),tg):n}var aF=Dh(function(a,l){return a*l},1),sF=dg("round"),lF=Dh(function(a,l){return a-l},0);function uF(a){return a&&a.length?Jc(a,po):0}function cF(a,l){return a&&a.length?Jc(a,St(l,2)):0}return B.after=jL,B.ary=qE,B.assign=bM,B.assignIn=lx,B.assignInWith=qh,B.assignWith=wM,B.at=EM,B.before=YE,B.bind=_g,B.bindAll=Pz,B.bindKey=XE,B.castArray=HL,B.chain=WE,B.chunk=ZI,B.compact=eD,B.concat=tD,B.cond=Cz,B.conforms=Tz,B.constant=Rg,B.countBy=uL,B.create=xM,B.curry=JE,B.curryRight=QE,B.debounce=ZE,B.defaults=SM,B.defaultsDeep=_M,B.defer=AL,B.delay=IL,B.difference=nD,B.differenceBy=rD,B.differenceWith=oD,B.drop=iD,B.dropRight=aD,B.dropRightWhile=sD,B.dropWhile=lD,B.fill=uD,B.filter=fL,B.flatMap=pL,B.flatMapDeep=mL,B.flatMapDepth=vL,B.flatten=BE,B.flattenDeep=cD,B.flattenDepth=fD,B.flip=DL,B.flow=Oz,B.flowRight=Rz,B.fromPairs=dD,B.functions=RM,B.functionsIn=jM,B.groupBy=gL,B.initial=pD,B.intersection=mD,B.intersectionBy=vD,B.intersectionWith=gD,B.invert=IM,B.invertBy=DM,B.invokeMap=bL,B.iteratee=jg,B.keyBy=wL,B.keys=kr,B.keysIn=ho,B.map=Uh,B.mapKeys=MM,B.mapValues=zM,B.matches=jz,B.matchesProperty=Az,B.memoize=Hh,B.merge=FM,B.mergeWith=ux,B.method=Iz,B.methodOf=Dz,B.mixin=Ag,B.negate=Wh,B.nthArg=Mz,B.omit=$M,B.omitBy=BM,B.once=LL,B.orderBy=EL,B.over=zz,B.overArgs=ML,B.overEvery=Fz,B.overSome=$z,B.partial=kg,B.partialRight=ex,B.partition=xL,B.pick=UM,B.pickBy=cx,B.property=gx,B.propertyOf=Bz,B.pull=ED,B.pullAll=KE,B.pullAllBy=xD,B.pullAllWith=SD,B.pullAt=_D,B.range=Uz,B.rangeRight=Kz,B.rearg=zL,B.reject=kL,B.remove=kD,B.rest=FL,B.reverse=xg,B.sampleSize=CL,B.set=HM,B.setWith=WM,B.shuffle=TL,B.slice=PD,B.sortBy=RL,B.sortedUniq=AD,B.sortedUniqBy=ID,B.split=pz,B.spread=$L,B.tail=DD,B.take=LD,B.takeRight=MD,B.takeRightWhile=zD,B.takeWhile=FD,B.tap=eL,B.throttle=BL,B.thru=Bh,B.toArray=ix,B.toPairs=fx,B.toPairsIn=dx,B.toPath=qz,B.toPlainObject=sx,B.transform=VM,B.unary=UL,B.union=$D,B.unionBy=BD,B.unionWith=UD,B.uniq=KD,B.uniqBy=HD,B.uniqWith=WD,B.unset=GM,B.unzip=Sg,B.unzipWith=HE,B.update=qM,B.updateWith=YM,B.values=Eu,B.valuesIn=XM,B.without=VD,B.words=mx,B.wrap=KL,B.xor=GD,B.xorBy=qD,B.xorWith=YD,B.zip=XD,B.zipObject=JD,B.zipObjectDeep=QD,B.zipWith=ZD,B.entries=fx,B.entriesIn=dx,B.extend=lx,B.extendWith=qh,Ag(B,B),B.add=Xz,B.attempt=vx,B.camelCase=ez,B.capitalize=hx,B.ceil=Jz,B.clamp=JM,B.clone=WL,B.cloneDeep=GL,B.cloneDeepWith=qL,B.cloneWith=VL,B.conformsTo=YL,B.deburr=px,B.defaultTo=Nz,B.divide=Qz,B.endsWith=tz,B.eq=yi,B.escape=nz,B.escapeRegExp=rz,B.every=cL,B.find=dL,B.findIndex=FE,B.findKey=kM,B.findLast=hL,B.findLastIndex=$E,B.findLastKey=PM,B.floor=Zz,B.forEach=VE,B.forEachRight=GE,B.forIn=CM,B.forInRight=TM,B.forOwn=NM,B.forOwnRight=OM,B.get=Tg,B.gt=XL,B.gte=JL,B.has=AM,B.hasIn=Ng,B.head=UE,B.identity=po,B.includes=yL,B.indexOf=hD,B.inRange=QM,B.invoke=LM,B.isArguments=cl,B.isArray=$t,B.isArrayBuffer=QL,B.isArrayLike=fo,B.isArrayLikeObject=ar,B.isBoolean=ZL,B.isBuffer=os,B.isDate=eM,B.isElement=tM,B.isEmpty=nM,B.isEqual=rM,B.isEqualWith=oM,B.isError=Pg,B.isFinite=iM,B.isFunction=va,B.isInteger=tx,B.isLength=Vh,B.isMap=nx,B.isMatch=aM,B.isMatchWith=sM,B.isNaN=lM,B.isNative=uM,B.isNil=fM,B.isNull=cM,B.isNumber=rx,B.isObject=Vn,B.isObjectLike=Qn,B.isPlainObject=pf,B.isRegExp=Cg,B.isSafeInteger=dM,B.isSet=ox,B.isString=Gh,B.isSymbol=Co,B.isTypedArray=wu,B.isUndefined=hM,B.isWeakMap=pM,B.isWeakSet=mM,B.join=yD,B.kebabCase=oz,B.last=qo,B.lastIndexOf=bD,B.lowerCase=iz,B.lowerFirst=az,B.lt=vM,B.lte=gM,B.max=eF,B.maxBy=tF,B.mean=nF,B.meanBy=rF,B.min=oF,B.minBy=iF,B.stubArray=Dg,B.stubFalse=Lg,B.stubObject=Hz,B.stubString=Wz,B.stubTrue=Vz,B.multiply=aF,B.nth=wD,B.noConflict=Lz,B.noop=Ig,B.now=Kh,B.pad=sz,B.padEnd=lz,B.padStart=uz,B.parseInt=cz,B.random=ZM,B.reduce=SL,B.reduceRight=_L,B.repeat=fz,B.replace=dz,B.result=KM,B.round=sF,B.runInContext=M,B.sample=PL,B.size=NL,B.snakeCase=hz,B.some=OL,B.sortedIndex=CD,B.sortedIndexBy=TD,B.sortedIndexOf=ND,B.sortedLastIndex=OD,B.sortedLastIndexBy=RD,B.sortedLastIndexOf=jD,B.startCase=mz,B.startsWith=vz,B.subtract=lF,B.sum=uF,B.sumBy=cF,B.template=gz,B.times=Gz,B.toFinite=ga,B.toInteger=Wt,B.toLength=ax,B.toLower=yz,B.toNumber=Yo,B.toSafeInteger=yM,B.toString=bn,B.toUpper=bz,B.trim=wz,B.trimEnd=Ez,B.trimStart=xz,B.truncate=Sz,B.unescape=_z,B.uniqueId=Yz,B.upperCase=kz,B.upperFirst=Og,B.each=VE,B.eachRight=GE,B.first=UE,Ag(B,function(){var a={};return $i(B,function(l,p){Ue.call(B.prototype,p)||(a[p]=l)}),a}(),{chain:!1}),B.VERSION=r,$r(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){B[a].placeholder=B}),$r(["drop","take"],function(a,l){on.prototype[a]=function(p){p=p===n?1:yr(Wt(p),0);var E=this.__filtered__&&!l?new on(this):this.clone();return E.__filtered__?E.__takeCount__=Kr(p,E.__takeCount__):E.__views__.push({size:Kr(p,Ke),type:a+(E.__dir__<0?"Right":"")}),E},on.prototype[a+"Right"]=function(p){return this.reverse()[a](p).reverse()}}),$r(["filter","map","takeWhile"],function(a,l){var p=l+1,E=p==ue||p==Be;on.prototype[a]=function(I){var H=this.clone();return H.__iteratees__.push({iteratee:St(I,3),type:p}),H.__filtered__=H.__filtered__||E,H}}),$r(["head","last"],function(a,l){var p="take"+(l?"Right":"");on.prototype[a]=function(){return this[p](1).value()[0]}}),$r(["initial","tail"],function(a,l){var p="drop"+(l?"":"Right");on.prototype[a]=function(){return this.__filtered__?new on(this):this[p](1)}}),on.prototype.compact=function(){return this.filter(po)},on.prototype.find=function(a){return this.filter(a).head()},on.prototype.findLast=function(a){return this.reverse().find(a)},on.prototype.invokeMap=Jt(function(a,l){return typeof a=="function"?new on(this):this.map(function(p){return lf(p,a,l)})}),on.prototype.reject=function(a){return this.filter(Wh(St(a)))},on.prototype.slice=function(a,l){a=Wt(a);var p=this;return p.__filtered__&&(a>0||l<0)?new on(p):(a<0?p=p.takeRight(-a):a&&(p=p.drop(a)),l!==n&&(l=Wt(l),p=l<0?p.dropRight(-l):p.take(l-a)),p)},on.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},on.prototype.toArray=function(){return this.take(Ke)},$i(on.prototype,function(a,l){var p=/^(?:filter|find|map|reject)|While$/.test(l),E=/^(?:head|last)$/.test(l),I=B[E?"take"+(l=="last"?"Right":""):l],H=E||/^find/.test(l);I&&(B.prototype[l]=function(){var Z=this.__wrapped__,ae=E?[1]:arguments,he=Z instanceof on,je=ae[0],Ae=he||$t(Z),We=function(nn){var cn=I.apply(B,hi([nn],ae));return E&&st?cn[0]:cn};Ae&&p&&typeof je=="function"&&je.length!=1&&(he=Ae=!1);var st=this.__chain__,mt=!!this.__actions__.length,_t=H&&!st,Gt=he&&!mt;if(!H&&Ae){Z=Gt?Z:new on(this);var kt=a.apply(Z,ae);return kt.__actions__.push({func:Bh,args:[We],thisArg:n}),new Wo(kt,st)}return _t&&Gt?a.apply(this,ae):(kt=this.thru(We),_t?E?kt.value()[0]:kt.value():kt)})}),$r(["pop","push","shift","sort","splice","unshift"],function(a){var l=Te[a],p=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",E=/^(?:pop|shift)$/.test(a);B.prototype[a]=function(){var I=arguments;if(E&&!this.__chain__){var H=this.value();return l.apply($t(H)?H:[],I)}return this[p](function(Z){return l.apply($t(Z)?Z:[],I)})}}),$i(on.prototype,function(a,l){var p=B[l];if(p){var E=p.name+"";Ue.call(mu,E)||(mu[E]=[]),mu[E].push({name:l,func:p})}}),mu[Ih(n,k).name]=[{name:"wrapper",func:n}],on.prototype.clone=_A,on.prototype.reverse=kA,on.prototype.value=PA,B.prototype.at=tL,B.prototype.chain=nL,B.prototype.commit=rL,B.prototype.next=oL,B.prototype.plant=aL,B.prototype.reverse=sL,B.prototype.toJSON=B.prototype.valueOf=B.prototype.value=lL,B.prototype.first=B.prototype.head,ef&&(B.prototype[ef]=iL),B},se=ee();di?((di.exports=se)._=se,Hc._=se):gr._=se}).call(bl)})(Km,Km.exports);var ka=Km.exports;const wk={descriptor:{11:"Bájos",12:"Vonzó",13:"Kopasz",14:"Szakállas",15:"Nagydarab",16:"Csontos",21:"Tömzsi",22:"Faragott",23:"Duci",24:"Tiszta",25:"Hátborzongató",26:"Idős",31:"Piszkos",32:"Bundás",33:"Elbűvölő",34:"Hatalmas",35:"Nyúlánk",36:"Izmos",41:"Túlsúlyos",42:"Sápadt",43:"Kis termetű",44:"Ijesztő",45:"Sunyi",46:"Alacsony",51:"Vékony",52:"Nyálkás",53:"Tüskés",54:"Büdös",55:"Stílusos",56:"Napégette",61:"Magas",62:"Tetovált",63:"Csápos",64:"Pici",65:"Csúnya",66:"Teltkarcsú"},personality:{11:"Bosszantó",12:"Öntelt",13:"Kínos",14:"Parancsolgató",15:"Ügyetlen",16:"Magabiztos",21:"Bátor",22:"Követelőző",23:"Zavarban",24:"Lelkes",25:"Ördögi",26:"Izgatott",31:"Félelmet nem ismerő",32:"Nyugtalan",33:"Barátságos",34:"Mogorva",35:"Ítélkező",36:"Kedves",41:"Lusta",42:"Mániákus",43:"Gonosz",44:"Rendetlen",45:"Gyilkos",46:"Ideges",51:"Zajos",52:"Optimista",53:"Csendes",54:"Hangos",55:"Durva",56:"Szomorú",61:"Szarkasztikus",62:"Önző",63:"Félénk",64:"Bolondos",65:"Egyszerű észjárású",66:"Makacs"}},FH=[{name:"Test",skills:[{name:"Pusztakezes harc"},{name:"Közelharc",specs:[{name:"Zúzófegyver"},{name:"Szálfegyver"},{name:"Vágófegyver"}]},{name:"Atlétika",specs:[{name:"Mászás"},{name:"Emelés"},{name:"Futás"},{name:"Úszás"}]}]},{name:"Ügyesség",skills:[{name:"Kitérés"},{name:"Tűzfegyverek",noParent:!0,specs:[{name:"Pisztoly"},{name:"Puska"}]},{name:"Lőfegyverek",noParent:!0,specs:[{name:"Íj",noParent:!0},{name:"Számszeríj"}]},{name:"Nehézfegyver",noParent:!0},{name:"Akrobatika"},{name:"Lopózás"},{name:"Kézügyesség",specs:[{name:"Zsebmetszés",noParent:!0},{name:"Szabadulás"}]},{name:"Pilóta",noParent:!0,specs:[{name:"Repülők"},{name:"Helikopterek"},{name:"Sugárhajtású"}]},{name:"Járművezetés",noParent:!0,specs:[{name:"Földi"},{name:"Vízi"},{name:"Lánctalpas",noParent:!0}]},{name:"Hátirakéta",noParent:!0},{name:"Motorvezetés",noParent:!0},{name:"Robot és erőpáncél vezetés",noParent:!0},{name:"Lovaglás"}]},{name:"Elme",skills:[{name:"Akaraterő"},{name:"Keresés"},{name:"Kommunikációs eszközök",noParent:!0,specs:[{name:"Kódfejtés",noParent:!0},{name:"Rádió"},{name:"Megfigyelő rendszerek"}]},{name:"Háziasság",specs:[{name:"Főzés"},{name:"Tánc",noParent:!0},{name:"Horgászás"},{name:"Valamely hangszer",noParent:!0},{name:"Varrás"},{name:"Éneklés"}]},{name:"Elektronika",noParent:!0,specs:[{name:"Alap elektronika"},{name:"Mikroelektronika",noParent:!0}]},{name:"Kémkedés",specs:[{name:"Rejtett dolgok észlelése"},{name:"Álruha",noParent:!0},{name:"Hamisítás",noParent:!0},{name:"Hírszerzés"}]},{name:"Túlélés",specs:[{name:"Nyomkövetés"}]},{name:"Szerelés",noParent:!0,specs:[{name:"Légi jármű"},{name:"Robot, erőpáncél"},{name:"Földi és vízi jármű"},{name:"Zárak"},{name:"Fegyverek"}]},{name:"Orvoslás",noParent:!0,specs:[{name:"Bűnügyi szakértő",noParent:!0},{name:"Elsősegély"},{name:"Holisztikus gyógyászat"},{name:"Szakorvos (egy szak)",noParent:!0},{name:"Kibernetika"}]},{name:"Katonai",noParent:!0,specs:[{name:"Robbantás"},{name:"Taktika"}]},{name:"Járműves rendszerek",noParent:!0,specs:[{name:"Navigáció"},{name:"Szenzorok"},{name:"Fegyverrendszerek"}]},{name:"Számítógépek",noParent:!0,specs:[{name:"Hekkelés",noParent:!0},{name:"Programozás"}]},{name:"Tudományos műveltség",specs:[{name:"Egyes tudományok: mindegyik külön specializáció"},{name:"Valamely nyelv",noParent:!0},{name:"Írás / olvasás",noParent:!0},{name:"Démonok, szörnyek"}]},{name:"Szakma",specs:[{name:"Egyes szakmák: mindegyik külön specializáció",noParent:!0}]},{name:"Diplomácia / etikett"}]},{name:"Karizma",skills:[{name:"Meggyőzés",specs:[{name:"Megfélemlítés"}]},{name:"Emberismeret"},{name:"Seftelés"},{name:"Parancsnoklás"},{name:"Állatok"}]},{name:"Pszi",showAsSkill:!0},{name:"Mágia",showAsSkill:!0}],$H=[{name:"Blokk",value:["Ügyesség","Pusztakezes harc"],highlighted:!0},{name:"Hárítás",value:["Ügyesség","Közelharc"],highlighted:!0},{name:"Kiterés",value:["Ügyesség","Kitérés"],highlighted:!0},{name:"Pszi ellenállás",value:{special:"pszi"}},{name:"Mágikus erő",value:{special:"magic"}},{name:"Pszi pont",value:{special:"psipoints"}},{name:"Mana pont",value:{special:"manapoints"}},{name:"Test pont",value:{special:"test"}},{name:"Mozgás",value:10},{name:"Mega páncél",value:0}],Ao={attributes:FH,calculated:$H};function Iv(e){e&&wn.characters.bulkUpdate(e.map(t=>({key:t.id,changes:{...t}})))}function C1(e){const t=[...e].sort((n,r)=>{var o,i;return(((o=r.initiative)==null?void 0:o.reduced)||0)-(((i=n.initiative)==null?void 0:i.reduced)||0)});t.forEach((n,r)=>{n.order=r}),Iv(t)}function Hm(e,t){t.forEach(n=>{(e===void 0||n.id===e)&&n.roll&&(n.initiative=jv(Dj(n.roll))),e===void 0&&!n.roll&&(n.initiative=void 0)}),C1(t)}function Nb(e,t,n){n.forEach(r=>{r.id===e&&(r.initiative={sum:t,reduced:t,rolls:["no"]})}),C1(n)}function kn(e,t){return e.find(n=>n.name===t)}function gl(e,t,n,r){var s,u,c;let o=((s=kn(e,t))==null?void 0:s.value)||0,i=0;return n&&(i+=((u=kn(e,n))==null?void 0:u.value)||0),r&&(i+=((c=kn(e,r))==null?void 0:c.value)||0),o?o+i:null}function Pi(e,t,n,r){const o=gl(e,t,n,r);return o?`${t} ${rc(o)}`:""}function rc(e){e<0&&(e=0);const t=Math.floor(e/3),n=e%3;return`${t}d${n===0?"":"+"+n}`}function Lj(){const e=wk.descriptor[bk()],t=wk.personality[bk()].toLowerCase();return`${e} ${t}`}function Mj(e,t){var o,i,s,u,c,f,d,m,g,x,y,_,P,k;if(e.length===0)return;const{name:n,value:r}=t;if(Array.isArray(r))return{name:n,value:Math.max(0,r.map(C=>{var S;return((S=kn(e,C))==null?void 0:S.value)||0}).reduce((C,S)=>C+S,0)+(((o=kn(e,n))==null?void 0:o.value)||0)),highlighted:t.highlighted};if(ka.isNumber(r)){const C=Math.max(0,r+(((i=kn(e,n))==null?void 0:i.value)||0));return C?{name:n,value:C,highlighted:t.highlighted}:void 0}if(ka.isObject(r)&&r.special==="test"){const C=Ao.attributes.find(O=>O.name==="Test"),S=(s=C==null?void 0:C.skills)==null?void 0:s.reduce((O,L)=>{var X,F;return(((X=kn(e,O.name))==null?void 0:X.value)||0)>(((F=kn(e,L.name))==null?void 0:F.value)||0)?O:L}),A=(((u=kn(e,"Test"))==null?void 0:u.value)||0)+(((c=kn(e,S.name))==null?void 0:c.value)||0),K=Math.floor(A/3)*4+A%3+20+(((f=kn(e,"Test pont"))==null?void 0:f.value)||0);return{name:n,value:K,highlighted:t.highlighted}}if(ka.isObject(r)&&r.special==="pszi"){const C=(((d=kn(e,"Elme"))==null?void 0:d.value)||0)+(((m=kn(e,"Akaraterő"))==null?void 0:m.value)||0),S=((g=kn(e,"Pszi"))==null?void 0:g.value)||0,A=((x=kn(e,"Pszi ellenállás"))==null?void 0:x.value)||0,K=Math.floor((Math.floor(C/3)+Math.floor(S/3))/2)+A;return{name:n,value:"4d"+(K?"+"+K:"")+" (vs 20)",highlighted:t.highlighted}}if(kn(e,"Mágia")&&r.special==="magic"){const C=((y=kn(e,"Mágia"))==null?void 0:y.value)||0,S=((_=kn(e,"Mágikus erő"))==null?void 0:_.value)||0,A=Math.floor(C/3)+S;return{name:n,value:"6d"+(A?"+"+A:"")+" (vs 24)",highlighted:t.highlighted}}if(ka.isObject(r)&&r.special==="manapoints"){const C=((P=kn(e,"Mana pont"))==null?void 0:P.value)||0;return C?{name:n,value:C}:void 0}if(ka.isObject(r)&&r.special==="psipoints"){const C=((k=kn(e,"Pszi pont"))==null?void 0:k.value)||0;return C?{name:n,value:C}:void 0}}const Ek=[{percent:10,value:"H. Sebesült"},{percent:20,value:"Magateh."},{percent:40,value:"Súlyos seb."},{percent:60,value:"Sebesült"},{percent:100,value:"Kábult"}];function BH(e,t){if(e===void 0||t>=e)return"";if(t<=0)return"Halott";for(let n=0;n<Ek.length;n++){const r=Ek[n];if(t<Math.round(e*r.percent/100))return r.value}}function UH(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T1(e,t){return e=".*"+e.toLowerCase().split("").map(r=>`${UH(r)}.*`).join(""),new RegExp(e).test(t.toLowerCase())}function zj(e){if(e==="Touch")return"Érintés";if(e==="Self")return"Önmaga";if(e.indexOf("ft")>-1){const t=parseInt(e.replace("ft",""));if(!isNaN(t))return Math.round(t*.3048)+"m"+(e.indexOf("area")>-1?" körben":"")}return e}function Fj(e){if(e.indexOf("melees PLE")>-1){const t=parseInt(e.replace("melees PLE",""));if(!isNaN(t))return`${t*3} KPSZ (${t*15}s)`}return e=e.replace("PLE","PSZ"),e}const $j=({selectedCharacterId:e,setSelectedCharacter:t,open:n,setOpen:r,showCopies:o=!1})=>{const[i,s]=R.useState(""),[u,c]=R.useState(1),{openModal:f,closeModal:d,SimpleDialog:m}=Av(),[g,x]=R.useState(new Set(["archived"])),[y,_]=R.useState([]),[P,k]=R.useState(["archived"]),[C,S]=R.useState(!1),[A,K]=R.useState([]);R.useEffect(()=>{n&&(_(y.filter(U=>U!=="archived")),k(["archived"]),S(!1),K([]))},[n]);const O=_T(()=>wn.npcs.orderBy("updated").filter(U=>{const te=i===""||T1(i,U.name);let ue=!0;y.length&&(ue=y.every(Be=>(U.tags||[]).includes(Be)));let ke=!0;return P.length&&(ke=!P.some(Be=>(U.tags||[]).includes(Be))),te&&ue&&ke}).toArray(),[i,y,P]);R.useEffect(()=>{if(!O)return;const U=new Set(["archived",...O.map(te=>te.tags).flat().filter(te=>te)]);x(U),y.forEach(te=>{U.has(te)||_(y.filter(ue=>ue!==te))})},[O]);function L(U){return new Date(U).toLocaleString("hu-HU")}function X(){s(""),c(1),r(!1)}function F(U){const te=[];U&&A.length>0&&O.forEach(ue=>{var ke;A.includes(ue.id)&&!((ke=ue.tags)!=null&&ke.includes(U))&&te.push({key:ue.id,changes:{tags:[...ue.tags||[],U]}})}),te.length>0&&wn.npcs.bulkUpdate(te),S(!1)}function N(U){const te=[];U&&A.length>0&&O.forEach(ue=>{var ke;A.includes(ue.id)&&((ke=ue.tags)!=null&&ke.includes(U))&&te.push({key:ue.id,changes:{tags:(ue.tags||[]).filter(Be=>Be!==U)}})}),te.length>0&&wn.npcs.bulkUpdate(te)}function q(U){if(U==="Archív"&&(U="archived"),C){if(A.length===0)return;A.every(ue=>{var ke;return(ke=O.find(Be=>Be.id===ue).tags)==null?void 0:ke.includes(U)})?N(U):F(U),S(!1)}else U==="archived"?y.includes("archived")?(_(y.filter(te=>te!=="archived")),k([...P,"archived"])):(_([...y,"archived"]),k(P.filter(te=>te!=="archived"))):y.includes(U)?(_(y.filter(te=>te!==U)),k([...P,U])):P.includes(U)?k(P.filter(te=>te!==U)):_([...y,U])}return w.jsxs(w.Fragment,{children:[w.jsxs(cr,{show:n,onHide:X,dialogClassName:"modal-90w",children:[w.jsx(cr.Header,{closeButton:!0,children:w.jsx(cr.Title,{children:"Njk lista"})}),w.jsx(cr.Body,{children:w.jsxs(w.Fragment,{children:[w.jsxs(Rn,{children:[w.jsx(Nt,{xs:3,children:w.jsxs(Xr,{size:"sm",className:"mb-2",children:[w.jsx(Kn.Control,{value:i,onChange:U=>s(U.target.value),placeholder:"Keresés",size:"sm"}),w.jsx(wt,{size:"sm",onClick:()=>s(""),variant:"outline-secondary",children:w.jsx("i",{className:"bi bi-x-lg"})})]})}),o&&w.jsx(Nt,{xs:{span:1,offset:8},children:w.jsxs(Xr,{size:"sm",children:[w.jsx(Xr.Text,{children:"Mennyit?"}),w.jsx(Kn.Control,{value:u,onChange:U=>c(isNaN(parseInt(U.target.value))?1:parseInt(U.target.value)),className:"text-center",title:"Darabszám"})]})})]}),w.jsx(Rn,{children:w.jsx(Nt,{className:"d-flex gap-1 mb-2",children:w.jsxs(w.Fragment,{children:[[...g].map(U=>w.jsx(wt,{size:"sm",className:"me-1 cursor-pointer py-0",variant:y.includes(U)?"primary":P.includes(U)?"danger":"secondary",onClick:()=>q(U),children:U==="archived"?"Archiv":U},U)),[...P].filter(U=>![...g].includes(U)).map(U=>w.jsx(wt,{size:"sm",className:"me-1 cursor-pointer py-0",variant:"danger",onClick:()=>q(U),children:U==="archived"?"Archiv":U},U)),C&&w.jsx(wt,{size:"sm",className:"me-1 cursor-pointer py-0",onClick:()=>f({title:"Új címke",input:"Címke",onClose:F}),children:w.jsx("i",{className:"bi bi-plus-lg"})})]})})}),(O==null?void 0:O.length)===0&&w.jsx("h4",{className:"text-center",children:"Nincs találat"}),w.jsx(Pr,{children:O==null?void 0:O.map(U=>{var te;return w.jsx(Pr.Item,{className:U.id===e?"list-group-item-info":"",onClick:()=>{C?K(A.includes(U.id)?A.filter(ue=>ue!==U.id):[...A,U.id]):(t(U,parseInt(u)),X())},children:w.jsxs(Rn,{children:[C&&w.jsx(Nt,{xs:1,children:w.jsx("input",{type:"checkbox",checked:A.includes(U.id),readOnly:!0})}),w.jsx(Nt,{children:U.name}),w.jsx(Nt,{children:(te=U.tags)==null?void 0:te.map(ue=>w.jsx(UT,{className:"me-1",bg:"secondary",children:ue==="archived"?"Archiv":ue},ue))}),w.jsx(Nt,{className:"text-end",xs:5,children:L(U.updated)}),!o&&w.jsx(Nt,{xs:2,className:"d-flex gap-1 justify-content-end",children:w.jsx(wt,{variant:"danger",onClick:ue=>{ue.preventDefault(),f({title:"Végleges törlés!",body:`Biztosan törlöd: ${U.name}?`,okButton:"Törlés",cancelButton:"Mégse",onClose:ke=>{ke&&wn.npcs.delete(U.id),d()}})},size:"sm",children:w.jsx("i",{className:"bi bi-trash"})})})]})},U.id)})})]})}),w.jsx(cr.Footer,{children:w.jsxs(Rn,{className:"d-flex gap-1 flex-fill flex-nowrap",children:[w.jsx(Nt,{className:"flex-fill",children:!o&&w.jsx(Kn.Check,{id:"multiSelect",label:"Kijelölés",onChange:()=>{S(!C),K([])},checked:C})}),w.jsx(Nt,{children:w.jsx(wt,{variant:"secondary",onClick:X,className:"float-start",children:"Bezár"})})]})})]}),w.jsx(m,{})]})};function KH({setEditedCharacter:e,characters:t,newRound:n,setSelectedCharacterId:r}){const[o,i]=R.useState(!1),{openModal:s,closeModal:u,SimpleDialog:c}=Av();function f(m,g){var x;for(let y=0;y<g;y++){const _=((x=m.attrs.find(K=>K.name==="Ügyesség"))==null?void 0:x.value)||6,P={name:m.name,roll:MH(_),type:"npc",initiative:jv(_),notes:m.notes,tags:[],order:1e5,charNotes:"",counters:[]},k=Mj(m.attrs,{name:"Test pont",value:{special:"test"}});k&&P.counters.push({name:k.name,value:k.value,max:k.value});const C=m.attrs.find(K=>K.name==="Mega páncél");C&&P.counters.push({name:C.name,value:C.value});const S=m.attrs.find(K=>K.name==="Mana pont");S&&P.counters.push({name:S.name,value:S.value});const A=m.attrs.find(K=>K.name==="Pszi pont");A&&P.counters.push({name:A.name,value:A.value}),wn.characters.put(P).then(K=>r(K))}}function d(m=1){n(m)}return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"scrollable-menu buttons d-flex flex-column",children:[w.jsx(wt,{size:"sm",variant:"secondary",onClick:()=>Hm(void 0,t),children:"Kezd. dobás"}),w.jsx(wt,{size:"sm",variant:"secondary",onClick:()=>C1(t),children:"Sorrendbe"}),w.jsxs(Hw,{size:"sm",children:[w.jsx(wt,{variant:"secondary",onClick:()=>d(),children:"Új kör"}),w.jsx(wt,{variant:"outline-secondary",onClick:()=>d(-1),style:{flex:0},children:"-1"})]}),w.jsx("hr",{}),w.jsx(wt,{size:"sm",variant:"secondary",onClick:()=>e({name:"",roll:""}),children:"Új karakter"}),w.jsx(wt,{size:"sm",variant:"secondary",onClick:()=>i(!0),children:"NJK listából"}),w.jsx(wt,{size:"sm",variant:"info",onClick:()=>{s({open:!0,title:"Törlés",body:"Törlösz minden njk-t és a játékosok kezdeményezését?",cancelButton:"Mégse",onClose:m=>{m&&(n(),wn.characters.bulkDelete(t.filter(g=>g.dontDelete===void 0&&g.type==="npc"||g.dontDelete===!1).map(g=>g.id)),wn.characters.toCollection().modify({initiative:void 0}),Hm(void 0,t)),u()}})},children:"Új harc"})]}),w.jsx($j,{setSelectedCharacter:f,open:o,setOpen:i,showCopies:!0}),w.jsx(c,{})]})}const Pu=[{label:"Több cselekedet",defaultLength:1,notes:"Többet cselekszik a körben."},{label:"Kábult",defaultLength:2,notes:"-1d mindenre ebben és köv körben."},{label:"Sebesült",defaultLength:void 0,notes:"-1d mindenre."},{label:"Súlyos seb.",defaultLength:void 0,notes:"-2d mindenre."},{label:"Magatehetetlen",defaultLength:void 0,notes:"-3d mindenre."},{label:"Halálosan seb.",defaultLength:void 0,notes:"Haldoklik"},{label:"-1d",defaultLength:void 0,notes:"-1d mindenre."},{label:"-2d",defaultLength:void 0,notes:"-2d mindenre."},{label:"-3d",defaultLength:void 0,notes:"-3d mindenre."}];function HH({characters:e,selectedCharacter:t}){var s,u;const[n,r]=R.useState({label:"",defaultLength:"",notes:""});function o(c){var m;if(c.preventDefault(),!n.label||(n.notes.endsWith(".")||(n.notes+="."),(m=t.tags)!=null&&m.some(g=>g.label===n.label)))return;let f;try{f=parseInt(n.defaultLength)}catch{f=void 0}const d=[...t.tags??[],{label:n.label,length:isNaN(f)?void 0:f,notes:n.notes||""}];wn.characters.update(t.id,{tags:d}),r({label:"",defaultLength:"",notes:""})}function i(c,f){var x,y,_;c.preventDefault();const d=(x=t.tags)==null?void 0:x.find(P=>P.label===f.label);let m,g=!1;!d&&c.button===0&&(m=[...t.tags??[],{label:f.label,length:f.defaultLength,notes:f.notes}],g=!0),d&&c.button===0&&(d.length!==void 0?d.length++:d.length=1,m=t.tags,g=!0),d&&c.button===2&&(d.length>1?(d.length--,m=t.tags):m=((y=t.tags)==null?void 0:y.filter(P=>P.label!==f.label))??[],g=!0),d&&c.button===1&&(m=((_=t.tags)==null?void 0:_.filter(P=>P.label!==f.label))??[],g=!0),g&&Iv(e.map(P=>P.id===t.id?{...P,tags:m}:P))}return w.jsxs(w.Fragment,{children:[w.jsx(Rn,{children:w.jsx(Nt,{className:"pt-2",children:w.jsxs("div",{className:"d-flex gap-2 flex-wrap",children:[Pu==null?void 0:Pu.map(c=>{var f;return w.jsx(wt,{size:"sm",variant:(f=t.tags)!=null&&f.some(d=>d.label===c.label)?"primary":"outline-secondary",onMouseDown:d=>i(d,c),children:c.label},c.label)}),(s=t.tags)==null?void 0:s.filter(c=>!(Pu!=null&&Pu.some(f=>f.label===c.label))).map(c=>{var f;return w.jsx(wt,{size:"sm",variant:(f=t.tags)!=null&&f.some(d=>d.label===c.label)?"primary":"outline-secondary",onMouseDown:d=>i(d,c),children:c.label},c.label)})]})})}),w.jsx(Rn,{children:w.jsx(Nt,{children:w.jsx(Kn,{onSubmit:o,children:w.jsxs(Xr,{className:"mt-2",children:[w.jsx(Xr.Text,{children:"Címke"}),w.jsx(wt,{size:"sm",variant:"outline-secondary",title:"Véletlen leíró",onClick:()=>r({...n,label:Lj()}),children:w.jsx("i",{className:"bi bi-shuffle"})}),w.jsx(Kn.Control,{value:n.label,onChange:c=>r({...n,label:c.target.value}),placeholder:"Név"}),w.jsx(Kn.Control,{value:n.defaultLength,onChange:c=>r({...n,defaultLength:c.target.value}),placeholder:"Hossz"}),w.jsx(Kn.Control,{value:n.notes,onChange:c=>r({...n,notes:c.target.value}),placeholder:"Jegyzet"}),w.jsx(Xr.Text,{children:w.jsx(wt,{size:"sm",className:"py-0 px-1 text-nowrap",variant:"secondary",type:"submit",children:"Ok"})})]})})})}),(u=t.tags)==null?void 0:u.map(c=>w.jsx(Rn,{children:w.jsxs(Nt,{className:"pt-2",children:[c.label,": ",c.notes," ",c.length&&w.jsxs("span",{children:["Még",w.jsx(Kn.Control,{className:"d-inline mx-1",style:{width:"3em"},value:c.length,onChange:f=>{const d=isNaN(parseInt(f.target.value))?1:parseInt(f.target.value),m={...c,length:d};wn.characters.update(t.id,{tags:t.tags.map(g=>g.label===c.label?m:g)})}}),"körig."]})]})},c.label))]})}const wl={1:[{name:"Blinding Flash",range:"10 ft.",duration:"Instant",PPE:"1",effect:"-5 strike, -10 par/dodge",page:"168",book:"Rifts"},{name:"Cloud of Smoke",range:"90 ft",duration:"4 melees PLE",PPE:"2",effect:"-5 strike, parry, dodge",page:"168",book:"Rifts"},{name:"Death Trance",range:"self",duration:"10 melees PLE",PPE:"1",effect:"Illusion of death",page:"168",book:"Rifts"},{name:"Globe of Daylight",range:"30 ft",duration:"12 melees PLE",PPE:"2",effect:"Sphere of Daylight",page:"168",book:"Rifts"},{name:"See Aura",range:"100 ft",duration:"1 melee",PPE:"6",effect:"Sense an object's aura",page:"168",book:"Rifts"},{name:"See the Invisible",range:"200ft",duration:"4 melees PLE",PPE:"4",effect:"See invisible objects",page:"168",book:"Rifts"},{name:"Sense Evil",range:"90 ft",duration:"8 melees PLE",PPE:"2",effect:"Sense Supernatural Evil",page:"168",book:"Rifts"},{name:"Sense Magic",range:"120 ft",duration:"8 melees PLE",PPE:"4",effect:"Sense the presence of Magic",page:"168-169",book:"Rifts"},{name:"Thunderclap",range:"Target",duration:"Instant",PPE:"4",effect:"+5 INT, +1 Strike, parry, dodge",page:"169",book:"Rifts"},{name:"Lantern Light",range:"10 ft",duration:"30 minutes PLE",PPE:"1",effect:"Magical ball of low level light",page:"130",book:"FoM"}],2:[{name:"Befuddle",range:"100ft",duration:"8 melees PLE",PPE:"6",effect:"Confuses Target",page:"169",book:"Rifts"},{name:"Chameleon",range:"Touch",duration:"18 melees PLE",PPE:"6",effect:"Change Target's color to hide",page:"169",book:"Rifts"},{name:"Climb",range:"40ft",duration:"20 melees PLE",PPE:"3",effect:"Enables Target to Climb up Stuff",page:"169",book:"Rifts"},{name:"Concealment",range:"40ft",duration:"20 melees PLE",PPE:"6",effect:"Conceal small objects",page:"169",book:"Rifts"},{name:"Detect Concealment",range:"30ft",duration:"Instant",PPE:"6",effect:"Negates Concealment Spell",page:"169",book:"Rifts"},{name:"Extinguish Fire",range:"20ft area",duration:"4 melees PLE",PPE:"4",effect:"Extinguishes Fire in a 20ft radius",page:"169",book:"Rifts"},{name:"Fear",range:"20ft area",duration:"4 melees PLE",PPE:"5",effect:"Gives target a Horror factor of 16",page:"169",book:"Rifts"},{name:"Heavy Breathing",range:"60ft",duration:"5 melees PLE",PPE:"5",effect:"60% chance of firghtening target",page:"169-170",book:"Rifts"},{name:"Levitation",range:"60ft",duration:"12 melees PLE",PPE:"5",effect:"Only move up and down",page:"170",book:"Rifts"},{name:"Mystic Alarm",range:"12ft",duration:"1 year PLE",PPE:"5",effect:"Alerts Spell caster of diturbance",page:"170",book:"Rifts"},{name:"Turn Dead",range:"60ft",duration:"Instant",PPE:"6",effect:"repels 1D6 animated dead PLE",page:"170",book:"Rifts"},{name:"Aura of Power",range:"Touch",duration:"1 minute PLE",PPE:"4",effect:"Gives target a more powerful aura",page:"130",book:"FoM"},{name:"Cleanse",range:"10ft",duration:"Instant",PPE:"6",effect:"Removes dirt from targets surface",page:"130-131",book:"FoM"},{name:"Cloak of Darkness",range:"5ft area",duration:"16 melees PLE",PPE:"6",effect:"Hides Spell Caster",page:"131",book:"FoM"},{name:"Manipulate Objects",range:"50ft",duration:"8 melees PLE",PPE:"2",effect:"Used as an invisible 3rd hand",page:"131",book:"FoM"},{name:"Shatter",range:"20ft",duration:"Instant",PPE:"5",effect:"Shatters non-organic brittle substances",page:"131",book:"FoM"},{name:"Throwing Stones",range:"200ft",duration:"2 melees",PPE:"5",effect:"1D6+1 MD PLE",page:"131",book:"FoM"}],3:[{name:"Armor of Ithan",range:"Touch",duration:"4 melees PLE",PPE:"10",effect:"+10 MDC Armor PLE",page:"170",book:"Rifts"},{name:"Breathe Without Air",range:"Self",duration:"12 melees PLE",PPE:"12",effect:"Target breathes in vacuum or water",page:"170",book:"Rifts"},{name:"Energy Bolt",range:"150ft",duration:"Instantly",PPE:"5",effect:"4D6 SDC Damage",page:"170",book:"Rifts"},{name:"Fingers of Wind",range:"90ft",duration:"3 melees PLE",PPE:"5",effect:"Uses wind to manipulate small items",page:"170",book:"Rifts"},{name:"Float in Air",range:"Self",duration:"10 melees PLE",PPE:"5",effect:"Allows Target to float on air",page:"170",book:"Rifts"},{name:"Fuel Flame",range:"100ft",duration:"Instant",PPE:"5",effect:"Doubles size of existing fire",page:"170",book:"Rifts"},{name:"Ignite Fire",range:"40ft",duration:"Instant",PPE:"6",effect:"Causes Spontaneous Combustion",page:"171",book:"Rifts"},{name:"Impervious to Fire",range:"Self",duration:"20 melees PLE",PPE:"5",effect:"Renders Target impervious to fire",page:"171",book:"Rifts"},{name:"Impervious to Poison",range:"Self",duration:"20 melees PLE",PPE:"5",effect:"Renders target impervious to poisons",page:"171",book:"Rifts"},{name:"Invisibility: Simple",range:"Self",duration:"12 melees PLE",PPE:"6",effect:"basic level of invisibility",page:"171",book:"Rifts"},{name:"Negate Poison/Toxin",range:"Touch",duration:"Instant",PPE:"5",effect:"destroys poison, toxins inside target",page:"171",book:"Rifts"},{name:"Paralysis: Lesser",range:"60ft",duration:"4 melees PLE",PPE:"5",effect:"Imobilizes part of target",page:"171",book:"Rifts"},{name:"Resist Fire",range:"Touch",duration:"20 melees PLE",PPE:"6",effect:"Resists the damage effects of fire",page:"171",book:"Rifts"},{name:"Telekinesis",range:"60ft",duration:"4 melees PLE",PPE:"8",effect:"Telekinetic Powers",page:"171-172",book:"Rifts"},{name:"Create Wood",range:"10ft",duration:"Permanent",PPE:"10/20",effect:"Creates wood for Burning/Building",page:"132",book:"FoM"},{name:"Life Source",range:"Self",duration:"Instant",PPE:"2",effect:"Converts Casters SDC/HPs into PPE",page:"132",book:"FoM"},{name:"Light Healing",range:"Touch",duration:"Instant",PPE:"6",effect:"Speeds the targets healing process",page:"132",book:"FoM"},{name:"Light Target",range:"10ft",duration:"8 melees PLE",PPE:"6",effect:"Makes Target stand out in crowd",page:"132",book:"FoM"},{name:"Magic Shield",range:"Touch",duration:"8 melees PLE",PPE:"6",effect:"+60 MDC, +1 Parry",page:"132",book:"FoM"},{name:"Mystic Fulcrum",range:"Touch",duration:"10 minutes PLE",PPE:"5",effect:"Lift heavy weights with magic lever",page:"132",book:"FoM"},{name:"Orb of Cold",range:"200ft",duration:"1 melee",PPE:"6",effect:"1D4 minutes numbness to target",page:"132",book:"FoM"},{name:"Wave of Frost",range:"200ft",duration:"4 melees PLE",PPE:"6",effect:"Creates Frost to damage vegetation",page:"132-133",book:"FoM"}],4:[{name:"Astral Projection",range:"Self",duration:"5 minutes PLE",PPE:"10",effect:"sends the caster's soul to the astral plane",page:"172",book:"Rifts"},{name:"Blind",range:"10ft",duration:"4 melees PLE",PPE:"6",effect:"-5 strike, -10 par/dodge, blinded",page:"172",book:"Rifts"},{name:"Carpet of Adhesion",range:"30ft PLE",duration:"10 melees PLE",PPE:"10",effect:"Victim is stuck to the carpet",page:"172",book:"Rifts"},{name:"Charismatic Aura",range:"60ft area",duration:"6 melees PLE",PPE:"10",effect:"+8 to PB temporarily",page:"172",book:"Rifts"},{name:"Cure Minor Disorders",range:"10ft",duration:"Instant",PPE:"10",effect:"cures minor ailments such as headaches",page:"172",book:"Rifts"},{name:"Energy Field",range:"60ft",duration:"4 melees PLE",PPE:"10",effect:"+ 60MDC, Armour Rating 4",page:"172",book:"Rifts"},{name:"Fool's Gold",range:"5ft",duration:"20 melees PLE",PPE:"10",effect:"Makes target appear to be gold",page:"172",book:"Rifts"},{name:"Fire Bolt",range:"100ft PLE",duration:"Instant",PPE:"7",effect:"4D6 MDC damage",page:"173",book:"Rifts"},{name:"Ley Line Transmission",range:"Ley line length",duration:"Instant",PPE:"30",effect:"Send a verbal or audio message via ley line",page:"173",book:"Rifts"},{name:"Magic Net",range:"60ft",duration:"2 melees PLE",PPE:"7",effect:"Snares 1-6 human sized targets",page:"173",book:"Rifts"},{name:"Multiple Image",range:"Self",duration:"4 melees PLE",PPE:"7",effect:"Creates Multiple Images of Mage",page:"173",book:"Rifts"},{name:"Repel Animals",range:"30ft",duration:"Instant",PPE:"7",effect:"Animals leave the area around the mage",page:"173",book:"Rifts"},{name:"Seal",range:"100ft",duration:"8 melees PLE",PPE:"7",effect:"Can't open inanimate object",page:"173",book:"Rifts"},{name:"Shadow Meld",range:"Self",duration:"8 melees PLE",PPE:"10",effect:"Hide inside a shadowed area",page:"173-174",book:"Rifts"},{name:"Swim as a Fish",range:"Self",duration:"20 melees PLE",PPE:"6",effect:"Swim at 96% proficiency",page:"174",book:"Rifts"},{name:"Trance",range:"Touch",duration:"20 melees PLE",PPE:"10",effect:"Places target into zombie trance",page:"174",book:"Rifts"},{name:"Chromatic Protection",range:"Self",duration:"4 melees PLE",PPE:"10",effect:"Blinds enemies attacking effected target",page:"133",book:"FoM"},{name:"Deflect",range:"Self",duration:"1 melee PLE",PPE:"10",effect:"Deflects projectiles, +4 parry",page:"133",book:"FoM"},{name:"Electric Arc",range:"30ft PLE",duration:"1 melee",PPE:"8",effect:"2D6 MDC Damage, +2 Strike",page:"133",book:"FoM"},{name:"Fire Blast",range:"50 ft",duration:"Instant",PPE:"8",effect:"3D6 MDC Damage",page:"133",book:"FoM"},{name:"Fist of Fury",range:"Self",duration:"1 melee PLE",PPE:"10",effect:"1D6 Damage, Normal Punch",page:"133-134",book:"FoM"},{name:"Reflection",range:"20ft",duration:"8 melees PLE",PPE:"7",effect:"Creates a reflecting in mirrors",page:"134",book:"FoM"},{name:"Ricochet Strike",range:"Weapon",duration:"1 melee",PPE:"12",effect:"Throwing weapons bounce off 1-3 targets",page:"134",book:"FoM"},{name:"Watchguard",range:"6ft PLE",duration:"1 hour PLE",PPE:"10",effect:"Warns caster of hostile persons in area",page:"134",book:"FoM"},{name:"Weight of Duty",range:"200ft",duration:"4 melees PLE",PPE:"10",effect:"Suffers major penalties from depression",page:"134",book:"FoM"}],5:[{name:"Calling",range:"2 mile PLE",duration:"20 melees PLE",PPE:"8",effect:'Telepathic "come here" message',page:"174",book:"Rifts"},{name:"Circle of Flame",range:"10ft radius",duration:"8 melees PLE",PPE:"10",effect:"6D6 SDC Circle of Flame around caster",page:"174",book:"Rifts"},{name:"Domination",range:"4ft",duration:"15 minutes PLE",PPE:"10",effect:"Imposes Will over target",page:"174",book:"Rifts"},{name:"Energy Disruption",range:"60ft",duration:"12 melees PLE",PPE:"12",effect:"Temporarily cuts off electric current",page:"174",book:"Rifts"},{name:"Escape",range:"Touch",duration:"Instant",PPE:"8",effect:"Allows caster to escape from simple bonds",page:"175",book:"Rifts"},{name:"Eyes of Thoth",range:"Touch",duration:"10 minutes PLE",PPE:"8",effect:"Caster can read & understand any language",page:"175",book:"Rifts"},{name:"Fly",range:"Touch",duration:"24 melees PLE",PPE:"15",effect:"Can make any object fly, no metal/plastic",page:"175",book:"Rifts"},{name:"Heal Wounds",range:"3ft",duration:"Instant",PPE:"10",effect:"+3D6 SDC, +1D6 HPS",page:"175",book:"Rifts"},{name:"Horrific Illusion",range:"30ft",duration:"8 melees PLE",PPE:"10",effect:"Creates a Horror Factor 14 illusion",page:"175",book:"Rifts"},{name:"Sleep",range:"1 ft",duration:"10 minutes PLE",PPE:"10",effect:"Turns food substances into sleeping potions",page:"175",book:"Rifts"},{name:"Superhuman Strength",range:"Touch",duration:"2 melees PLE",PPE:"10",effect:"PS to 30, PE to 24, +30 SDC",page:"175",book:"Rifts"},{name:"Superhuman Speed",range:"Touch",duration:"4 melees PLE",PPE:"10",effect:"Speed to 44, +2 Parry, + 6 Dodge",page:"175",book:"Rifts"},{name:"Swim As Fish (super)",range:"Self",duration:"40 melees PLE",PPE:"12",effect:"Swim Skill at 98%, No fatigue or distance",page:"175",book:"Rifts"},{name:"Aura of Death",range:"Self",duration:"2 melees PLE",PPE:"12",effect:"Hides the casters' life aura",page:"134-135",book:"FoM"},{name:"Armor Bizzare",range:"Self",duration:"4 melees PLE",PPE:"15",effect:"+15 MDC PLE, Horror Factor of 9",page:"135",book:"FoM"},{name:"Death Curse",range:"100 miles PLE",duration:"Permanent",PPE:"NA",effect:"Caster Uses last of Life force to cast curse",page:"135-136",book:"FoM"},{name:"Distant Voice",range:"2000ft PLE",duration:"20 melees PLE",PPE:"10",effect:"Talk to visible target at great distances",page:"136",book:"FoM"},{name:"Featherlight",range:"10ft",duration:"10 minutes PLE",PPE:"10",effect:"Reduce inanimate objects weight to feather",page:"136",book:"FoM"},{name:"Horror",range:"Touch",duration:"20 melees PLE",PPE:"10",effect:"Same as Fear spell, effects an object",page:"136",book:"FoM"},{name:"House of Glass",range:"100ft",duration:"4 melees PLE",PPE:"12",effect:"Unleashes damage taken back upon attacker",page:"136-137",book:"FoM"},{name:"Implosion Neutralizer",range:"50ft",duration:"Depends",PPE:"12",effect:"Reduces small explosives damage by 1/2",page:"137",book:"FoM"},{name:"Influence the Beast",range:"30ft",duration:"4 melees PLE",PPE:"12",effect:"Mind control small amimals",page:"137",book:"FoM"},{name:"Instill Knowledge",range:"Touch",duration:"30 minutes PLE",PPE:"15",effect:"Caster gives target 1 known skill at -1 level",page:"137",book:"FoM"},{name:"Lifeblast",range:"30ft PLE",duration:"Depends",PPE:"15",effect:"Life power has many uses(see book)",page:"137-138",book:"FoM"},{name:"Mend the Broken",range:"Touch",duration:"Instant/Perman.",PPE:"10+",effect:"Repairs inanimate objects",page:"138",book:"FoM"},{name:"Mental Blast",range:"100ft",duration:"Instant",PPE:"15",effect:"5D6 HPs or 5D6 MDC",page:"138",book:"FoM"},{name:"Superhuman Endurance",range:"Self",duration:"2 hours",PPE:"12",effect:"No Fatigue Minuses",page:"138",book:"FoM"},{name:"Sustain",range:"Self",duration:"24 hours PLE",PPE:"12",effect:"Allows target to deny sustenance for days",page:"138",book:"FoM"}],6:[{name:"Apparition",range:"30ft",duration:"4 melees PLE",PPE:"20",effect:"Creates realistic illusionary creature",page:"176",book:"Rifts"},{name:"Call Lightning",range:"300ft",duration:"Instant",PPE:"15",effect:"1D6 MDC (PLE) Lightning Bolt",page:"176",book:"Rifts"},{name:"Compulsion",range:"60ft",duration:"24 hours",PPE:"20",effect:"Implants a hidden desire inside targets mind",page:"176",book:"Rifts"},{name:"Cure Illness",range:"Touch",duration:"Instant",PPE:"15",effect:"Cures minor diseases such as flu & fever",page:"176",book:"Rifts"},{name:"Fire Ball",range:"90ft",duration:"Instant",PPE:"10",effect:"1D4 MDC (PLE) Fire Ball",page:"176",book:"Rifts"},{name:"Impervious to Energy",range:"Self",duration:"8 melees PLE",PPE:"20",effect:"Renders target impervious to energy (fire incl.)",page:"176",book:"Rifts"},{name:"Magic Pigeon",range:"Global",duration:"2 months PLE",PPE:"20",effect:"Creates mystic messenger pigeon",page:"176",book:"Rifts"},{name:"Mask of Deceit",range:"Self",duration:"10 minutes PLE",PPE:"15",effect:"Changes caster's facial appearance",page:"176-177",book:"Rifts"},{name:"Memory Bank",range:"Touch",duration:"3 months PLE",PPE:"12",effect:"Implant small block of info into targets mind",page:"177",book:"Rifts"},{name:"Reduce Self",range:"Self",duration:"10 melees PLE",PPE:"20",effect:"Shrinks caster to 6 inches tall",page:"177",book:"Rifts"},{name:"Teleport: Lesser",range:"5 miles PLE",duration:"2 melees",PPE:"15",effect:"Transport non-living substances(50lbs max)",page:"177",book:"Rifts"},{name:"Time Slip",range:"Self",duration:"1/2 melee",PPE:"20",effect:"Caster moves forward in time 7 seconds",page:"177",book:"Rifts"},{name:"Tongues",range:"Touch",duration:"12 melees PLE",PPE:"12",effect:"Target can speak any language at 98%",page:"177",book:"Rifts"},{name:"Words of Truth",range:"5ft",duration:"4 melees PLE",PPE:"15",effect:"Target is compelled to tell the truth",page:"177",book:"Rifts"},{name:"Barrage",range:"100ft",duration:"1/2 melee",PPE:"15",effect:"Target is hammered by 3, 2 MDC strikes",page:"138-139",book:"FoM"},{name:"Create Water",range:"10ft",duration:"Permanent",PPE:"15",effect:"Caster can create 1/2 gallon of water PLE",page:"139",book:"FoM"},{name:"Crushing Fist",range:"Self",duration:"4 melees PLE",PPE:"12",effect:"Punch does 2D6 MDC",page:"139",book:"FoM"},{name:"Energize Spell",range:"Touch",duration:"NA",PPE:"12",effect:"Extends duration of casted spell",page:"139",book:"FoM"},{name:"Fire Blossom",range:"Touch",duration:"1 month PLE",PPE:"20",effect:"Small, hand held flame, used to light other obj.",page:"139",book:"FoM"},{name:"Fortify Against Disease",range:"Touch",duration:"2 hours PLE",PPE:"15",effect:"Strengthens target's body against disease",page:"139",book:"FoM"},{name:"Frequency Jamming",range:"100ft PLE",duration:"2 melees PLE",PPE:"15",effect:"Interferes with radio communications",page:"139",book:"FoM"},{name:"Frostblade",range:"3ft",duration:"4 melees PLE",PPE:"15",effect:"Changes metal objects to 4D6 MDC weapons",page:"139-140",book:"FoM"},{name:"Ice",range:"50ft PLE",duration:"5 minutes PLE",PPE:"15",effect:"Caster transforms magic to ice",page:"140",book:"FoM"},{name:"Illusion Booster",range:"Area",duration:"2x original Illusion",PPE:"15",effect:"Doubles Duration time of Apparition or Illusion",page:"140",book:"FoM"},{name:"Illusory Wall",range:"1000ft",duration:"30 minutes PLE",PPE:"15",effect:"Creates an illusionary wall",page:"140",book:"FoM"},{name:"Power Bolt",range:"1600ft",duration:"Instant",PPE:"20",effect:"5D6 +2 PLE Damage",page:"140",book:"FoM"},{name:"Targeted Deflection",range:"500ft",duration:"1 melee PLE",PPE:"15",effect:"Deflects Energy Attacks",page:"140-141",book:"FoM"},{name:"Sheltering Force",range:"Self",duration:"1 hour PLE",PPE:"20",effect:"Magical tent that can accommodate 1-6 people",page:"141",book:"FoM"}],7:[{name:"Constrain Being",range:"30ft",duration:"8 melees PLE",PPE:"20",effect:"Forces target to obey limited commends",page:"177",book:"Rifts"},{name:"Agony",range:"5ft PLE",duration:"4 melees",PPE:"20",effect:"Target suffers pain minuses (No Damage taken)",page:"177",book:"Rifts"},{name:"Animate & Control Dead",range:"400ft",duration:"5 minutes PLE",PPE:"20",effect:"Animates the remains of recently dead",page:"178",book:"Rifts"},{name:"Dispel Magic Barriers",range:"100ft",duration:"Instant",PPE:"20",effect:"Negates any magic barrier",page:"178",book:"Rifts"},{name:"Fly as the Eagle",range:"Self",duration:"20 minutes PLE",PPE:"25",effect:"Target flies up to a speed of 50 mph",page:"178",book:"Rifts"},{name:"Globe of Silence",range:"90ft",duration:"6 melees PLE",PPE:"20",effect:"Creates a globe where no sound can escape",page:"178",book:"Rifts"},{name:"Invisibility (Super)",range:"Touch",duration:"12 melees PLE",PPE:"20",effect:"Target becomes completely invisible",page:"178",book:"Rifts"},{name:"Life Drain",range:"30ft",duration:"2 melees PLE",PPE:"25",effect:"Weakens target's stats by 1/2",page:"178",book:"Rifts"},{name:"Metamorphosis: Animal",range:"Self",duration:"20 minutes PLE",PPE:"25",effect:"Target shifts into an animal of equal size(max)",page:"179",book:"Rifts"},{name:"Purification",range:"Touch",duration:"Instant",PPE:"20",effect:"Purifies water and food",page:"179",book:"Rifts"},{name:"Wind Rush",range:"120ft",duration:"1 melee",PPE:"20",effect:"Launches a 60mph wind gush at a target",page:"179",book:"Rifts"},{name:"Ballistic Fire",range:"1000ft",duration:"Instant",PPE:"25",effect:"1D6 MDC per Missile, 1 missile PLE",page:"141",book:"FoM"},{name:"Fire Gout",range:"30ft PLE",duration:"Instant",PPE:"20",effect:"Flame thrower blast that does 6D6 MDC +1 PLE",page:"141-142",book:"FoM"},{name:"Heal Self",range:"Self",duration:"Instant",PPE:"20",effect:"+3D6 SDC, +1D6 HPs, Closes open wounds",page:"142",book:"FoM"},{name:"Lightblade",range:"Area",duration:"4 melees PLE",PPE:"20",effect:"1D4x10 MDC +1 PLE, +1 strike",page:"142",book:"FoM"},{name:"Mental Shock",range:"200ft",duration:"Depends",PPE:"30",effect:"Short term amnesia effects target",page:"142",book:"FoM"},{name:"Negate Mechanics",range:"1 Mech.",duration:"1 melee",PPE:"20",effect:"Temp. disables one part of a machine",page:"142",book:"FoM"},{name:"Sonic Blast",range:"20ft",duration:"Instant",PPE:"25",effect:"4D6 MDC Damage, Releases a Sonic Boom",page:"142",book:"FoM"},{name:"Spinning Blades",range:"Varies",duration:"1 melee PLE",PPE:"20",effect:"Flings small bladed weapon for 1D6 MDC dam.",page:"142-143",book:"FoM"},{name:"Sub-Particle Acceleration",range:"100ft PLE",duration:"Instant",PPE:"20",effect:"Particle Beam blast does 1D6+1MDC",page:"143",book:"FoM"}],8:[{name:"Commune with Spirits",range:"Self",duration:"20 melees PLE",PPE:"25",effect:"Caster can communicate with spirits",page:"180",book:"Rifts"},{name:"Exorcism",range:"30ft",duration:"6 months",PPE:"30",effect:"Destroys possession of a target by a demon",page:"180",book:"Rifts"},{name:"Eyes of the Wolf",range:"Touch",duration:"20 melees PLE",PPE:"25",effect:"Nightvision-60ft, See the invisible-75%.....",page:"180",book:"Rifts"},{name:"Hallucination",range:"Touch",duration:"12 melees PLE",PPE:"30",effect:"One target experiences a hallucination",page:"180",book:"Rifts"},{name:"Locate",range:"15 miles PLE",duration:"Instant",PPE:"30",effect:"General location of a target at 41%, 89% ritual",page:"180",book:"Rifts"},{name:"Luck Curse",range:"Touch",duration:"24 hrs. PLE",PPE:"40",effect:"Reduces a targets combat bonuses to 0",page:"180",book:"Rifts"},{name:"Metamorphosis: Human",range:"Touch",duration:"20 minutes PLE",PPE:"40",effect:"Change into a Human form of equal size",page:"180-181",book:"Rifts"},{name:"Minor Curse",range:"Touch",duration:"24 hrs. PLE",PPE:"35",effect:"Inflicts a minor curse on a target",page:"181",book:"Rifts"},{name:"Negate Magic",range:"60ft",duration:"Instant",PPE:"30",effect:"Negate most common magic, save vs magic 12",page:"181",book:"Rifts"},{name:"Oracle",range:"Self",duration:"4 melees",PPE:"30",effect:"Magical Clarvioence",page:"181",book:"Rifts"},{name:"Sickness",range:"20ft",duration:"12 hrs. PLE",PPE:"50",effect:"Gives target symptoms of a specific disease",page:"181",book:"Rifts"},{name:"Spoil",range:"Touch",duration:"Instant",PPE:"30",effect:"Spoils food and water",page:"181",book:"Rifts"},{name:"Stone to Flesh",range:"12ft",duration:"Instant/Perm",PPE:"30",effect:"Reverses effects of being turned to stone",page:"181",book:"Rifts"},{name:"Wisps of Confusion",range:"90ft",duration:"5 melees PLE",PPE:"40",effect:"Causes 1-8 people/creatures to become confused",page:"182",book:"Rifts"},{name:"Fire Globe",range:"200ft",duration:"1D4 Minutes",PPE:"40",effect:"Tossed at a target. Does 5D6 MDC",page:"143",book:"FoM"},{name:"Force Bonds",range:"Touch",duration:"30 minutes PLE",PPE:"25",effect:"Transforms SDC bonds into 100 MDC bonds",page:"143",book:"FoM"},{name:"Greater Healing",range:"Touch",duration:"Instant",PPE:"30",effect:"+2D4x10 SDC and 6D6 HPs or 1D4 MDC",page:"143",book:"FoM"},{name:"Invincible Armor",range:"Touch",duration:"12 melees PLE",PPE:"30",effect:"+25MDC PLE, regenerates dam at 1D6 per rd.",page:"144",book:"FoM"},{name:"Lifeward",range:"Touch",duration:"4 melees PLE",PPE:"40",effect:"Turns MDC damage into SDC damage taken",page:"144",book:"FoM"},{name:"Lightning Arc",range:"100ft PLE",duration:"1 melee PLE",PPE:"30",effect:"4D6 dam +2 MDC PLE",page:"144",book:"FoM"},{name:"Magical Adrenal Rush",range:"Touch",duration:"1 melee PLE",PPE:"45",effect:"Raises a lot of Combat stats for a limited time",page:"144",book:"FoM"},{name:"Power Weapon",range:"Touch",duration:"2 melees PLE",PPE:"35",effect:"Turns an SDC melee weapon into an MDC one",page:"144",book:"FoM"},{name:"Shockwave",range:"10ft PLE",duration:"Instant",PPE:"35",effect:"1D4 MDC PLE + Knockdown damage",page:"144-145",book:"FoM"},{name:"Sorcerous Fury",range:"Self",duration:"4 melees PLE",PPE:"70",effect:"2D4x10 MDC damage",page:"145",book:"FoM"},{name:"Wall of Wind",range:"100ft",duration:"20 melees PLE",PPE:"40",effect:"Wall of wind encircles the mage, doing 2D4 MD",page:"145",book:"FoM"},{name:"World Bizarre",range:"200ft",duration:"1 melee PLE",PPE:"40",effect:"Creates a horrifying illusion around an area",page:"145",book:"FoM"},{name:"Winged Flight",range:"Touch",duration:"20 minutes PLE",PPE:"35",effect:"5xPS = Max flying speed",page:"146",book:"FoM"}],9:[{name:"Curse: Phobia",range:"20ft",duration:"24 hrs. PLE",PPE:"40",effect:"Implants target with a phobia (see insanity tables)",page:"182",book:"Rifts"},{name:"Familiar Link",range:"Touch",duration:"Indefinite",PPE:"55",effect:"Cater can mentally link with an animal (level 3)",page:"182",book:"Rifts"},{name:"Metamorphosis: Insect",range:"Self",duration:"20 minutes PLE",PPE:"60",effect:"Caster can shift into an insect form",page:"182",book:"Rifts"},{name:"Mute",range:"30ft",duration:"20 melees PLE",PPE:"50",effect:"Temporarily incapacitates target's ability to talk",page:"182",book:"Rifts"},{name:"Protection Circle: Simple",range:"Circle Radius",duration:"24 hours",PPE:"45",effect:"Used to ward off lesser supernatural beings",page:"182-183",book:"Rifts"},{name:"Summon/Control Canines",range:"Varies",duration:"5 hours PLE",PPE:"50",effect:"Call 1D4 canines (+1PLE) to caster",page:"183",book:"Rifts"},{name:"Speed of the Snail",range:"60ft",duration:"2 melees PLE",PPE:"50",effect:"Reduces targets speed, actions, par, dodge by 2/3",page:"183",book:"Rifts"},{name:"Transferal",range:"10ft",duration:"1 hr. PLE",PPE:"50",effect:"Caster can transfer it's essence to another being",page:"183",book:"Rifts"},{name:"Water to Wine",range:"12ft",duration:"Instant/Perm.",PPE:"40",effect:"Transform water into fine wine",page:"183",book:"Rifts"},{name:"Aura of Doom",range:"200ft",duration:"8 melees PLE",PPE:"40",effect:"Target is overwhelmed with feelings of doom",page:"146",book:"FoM"},{name:"Beat Insurmountable Odds",range:"Touch",duration:"1 action",PPE:"70",effect:"Caster to beat 1 specific action (see book)",page:"146-147",book:"FoM"},{name:"Create Steel",range:"10ft",duration:"Permanent",PPE:"68",effect:"Molds used metal scraps into usable steel",page:"147",book:"FoM"},{name:"D-Step",range:"3ft",duration:"1 melee PLE",PPE:"50",effect:"Allows target to step out of existence",page:"147",book:"FoM"},{name:"Desiccate the Supernatural",range:"50ft",duration:"Instant",PPE:"50",effect:"3D6x10 MDC to supernatural beings",page:"147-148",book:"FoM"},{name:"Dragon Fire",range:"100ft",duration:"1 melee PLE",PPE:"40",effect:"1D4x10 MDC (2 shots per melee)",page:"148",book:"FoM"},{name:"Illusion Manipulation",range:"500ft PLE",duration:"30 minutes PLE",PPE:"25/60",effect:"Allows other illusion spells to react realistically",page:"148",book:"FoM"},{name:"Phantom Mount",range:"40ft",duration:"10 minutes PLE",PPE:"45",effect:"Creates a translucent warhorse (book has stats)",page:"148",book:"FoM"},{name:"Purge Self",range:"self",duration:"Instant",PPE:"70",effect:"Rids body of disease, bio-wizard symbioses, +",page:"148",book:"FoM"},{name:"Realm of Chaos",range:"100ft",duration:"4 melees PLE",PPE:"70",effect:"Sends all withing range to Realm of Chaos",page:"148-149",book:"FoM"},{name:"Tame Beast",range:"10ft",duration:"1D4 hrs. of train.",PPE:"60",effect:"Bonds 1 animal PLE to the caster",page:"149",book:"FoM"},{name:"Wall of Defense",range:"100ft",duration:"1 melee PLE",PPE:"55",effect:"Holds back any incomming attacks",page:"149",book:"FoM"}],10:[{name:"Basnishment",range:"100ft",duration:"2 weeks PLE",PPE:"65",effect:"Forces 1 lesser Supernatural to leave area PLE",page:"183",book:"Rifts"},{name:"Control/Enslave Entity",range:"30ft",duration:"48 hrs. PLE",PPE:"80",effect:"Control 2 entities PLE",page:"183",book:"Rifts"},{name:"Metamorphosis: Superior",range:"Self",duration:"20 minutes PLE",PPE:"100",effect:"Transform into any living creature form of = size",page:"183-184",book:"Rifts"},{name:"Mystic Portal",range:"20ft",duration:"4 melees PLE",PPE:"60",effect:"Allows caster to teleport and pas through solids",page:"184",book:"Rifts"},{name:"Sum/Control Rodents",range:"600ft",duration:"5 hrs. PLE",PPE:"70",effect:"summon 30 rodents PLE",page:"184",book:"Rifts"},{name:"Summon Shadow Beast",range:"Immediate",duration:"Mission Comp.",PPE:"140",effect:"Summons a Shadow Beast (see book for stats)",page:"184",book:"Rifts"},{name:"Wards",range:"Varies",duration:"Varies",PPE:"60",effect:"Spells used to protect an object or person",page:"184-185",book:"Rifts"},{name:"Armorbane",range:"300ft",duration:"Instant",PPE:"100",effect:"Anti-Armor magic impairs MDC by 10%",page:"149",book:"FoM"},{name:"Deathward",range:"30ft",duration:"Instant",PPE:"70",effect:"2D6 +1D6 PLE, HPs or MDC",page:"149-150",book:"FoM"},{name:"Enemy Mind",range:"100ft",duration:"4 melees PLE",PPE:"100",effect:"Mind control spell that turns enemies into allies",page:"150",book:"FoM"},{name:"Giant",range:"Touch",duration:"1 melee PLE",PPE:"80",effect:"caster is +10ft to height (see book)",page:"150",book:"FoM"},{name:"Illusory Forest",range:"500ft",duration:"30 minutes PLE",PPE:"45/90",effect:"Allows the caster to create an illusionary forest",page:"150-151",book:"FoM"},{name:"Magic Warrior",range:"100ft",duration:"2 melees PLE",PPE:"60",effect:"Creates a magic warrior (See book for stats)",page:"151",book:"FoM"},{name:"Meteor",range:"200ft PLE",duration:"Instant",PPE:"75",effect:"+4 strike, 1D6x10 MDC + 2MDC PLE",page:"151",book:"FoM"},{name:"Plane Skip",range:"Self",duration:"Instant",PPE:"65",effect:"an uncontrolled dimensional jump",page:"151",book:"FoM"},{name:"Purge Other",range:"Touch",duration:"Instant",PPE:"100",effect:"performs cleansing purge on 1 outside target",page:"151",book:"FoM"},{name:"Reality Flux",range:"Touch",duration:"1 melee PLE",PPE:"75",effect:"Changes 1 weapon from MDC to SDC damage",page:"151-152",book:"FoM"},{name:"Restore Limb",range:"Touch",duration:"Germinate",PPE:"80",effect:"Restores a severed limb",page:"152",book:"FoM"},{name:"Speed Weapon",range:"Touch",duration:"1 melee PLE",PPE:"100",effect:"2x actions when using enchanted weapon",page:"152",book:"FoM"},{name:"Super-Healing",range:"1 other char.",duration:"Instant",PPE:"70",effect:"Restores 4D6 MDC to MDC creatures",page:"152",book:"FoM"},{name:"Wall of Not",range:"100ft",duration:"20 melees PLE",PPE:"70",effect:"Makes a 15ft (PLE) wall invisible",page:"152",book:"FoM"},{name:"Warped Space",range:"150ft",duration:"1 melee",PPE:"90",effect:"1/2 actions and combat bonus, -75% speed",page:"152",book:"FoM"}],11:[{name:"Anti-Magic Cloud",range:"100ft PLE",duration:"20 melees PLE",PPE:"140",effect:"Cloud negates all magic",page:"185",book:"Rifts"},{name:"Create Mummy",range:"Touch",duration:"Until destroyed",PPE:"160",effect:"Ritual magic that creates a mummy (see book)",page:"185",book:"Rifts"},{name:"Create Magic Scroll",range:"Touch",duration:"As per scroll",PPE:"100",effect:"Places PPE and 1 magic spell onto a sheet of paper",page:"185",book:"Rifts"},{name:"Remove Curse",range:"10ft",duration:"Instant",PPE:"140",effect:"Removes a curse from target, +5 save vs. magic",page:"185",book:"Rifts"},{name:"Summon Fog",range:"10 miles PLE",duration:"1 hr. PLE",PPE:"140",effect:"Generates a thick fog. +20% to prowl",page:"185",book:"Rifts"},{name:"Astral Hole",range:"Self",duration:"1 melee PLE",PPE:"120",effect:"A small portal that follows the caster (see book)",page:"152-153",book:"FoM"},{name:"Bottomless Pit",range:"50ft",duration:"8 melees PLE",PPE:"100",effect:"Sends target into a black limbo for duration",page:"153",book:"FoM"},{name:"Curse of the World Bizzare",range:"50ft",duration:"1D4 days PLE",PPE:"100",effect:"Target's world appears to be like the World Bizzare",page:"153",book:"FoM"},{name:"Disharmonize",range:"100ft",duration:"20 melees PLE",PPE:"150",effect:"Confuses a group of targets, -1/2 actions, 0 INT",page:"153",book:"FoM"},{name:"Energy Sphere",range:"100ft",duration:"2 days PLE",PPE:"120",effect:"Blue sphere that acts as a PPE container",page:"153-154",book:"FoM"},{name:"Firequake",range:"500ft",duration:"Varies",PPE:"160",effect:"Creates an earthquake and fire effect, 5D6 MDC",page:"154",book:"FoM"},{name:"Id Alter Ego",range:"Self",duration:"12 melees PLE",PPE:"130",effect:"Creates an exact duplicate of target/reverse align.",page:"154",book:"FoM"},{name:"Illusory Terrain",range:"500ft",duration:"30 minutes PLE",PPE:"55/120",effect:"Create any Illusionary landscape, effects 3000ft PLE",page:"154",book:"FoM"},{name:"Mindshatter",range:"Touch",duration:"24 hrs. +",PPE:"130",effect:"Spell places target into trance like state",page:"154-155",book:"FoM"},{name:"Re-Open Gateway",range:"10ft",duration:"1 melee PLE",PPE:"180",effect:"Re-Opens an existing dimensional portal",page:"155",book:"FoM"},{name:"See in Magic Darkness",range:"Self",duration:"4 melees PLE",PPE:"125",effect:"Target sees clearly in any form of darkness",page:"155",book:"FoM"}],12:[{name:"Amulet",range:"Holder",duration:"Infinite",PPE:"290 +",effect:"Depends on the spell infused in Amulet",page:"186",book:"Rifts"},{name:"Calm Storms",range:"1 Mile PLE",duration:"1 hr. PLE",PPE:"200",effect:"Reduce the effects of a natural storm",page:"186-187",book:"Rifts"},{name:"Create Zombie",range:"Touch",duration:"Destroyed",PPE:"250",effect:"Creates a functioning zombie/undead",page:"187",book:"Rifts"},{name:"Metamorphosis: Mist",range:"Self",duration:"20 minutes PLE",PPE:"250",effect:"Caster turns to mist",page:"187",book:"Rifts"},{name:"Summon/Control Entity",range:"NA",duration:"24 hr.s PLE",PPE:"250",effect:"Controls an alien entity from another dimension",page:"187",book:"Rifts"},{name:"Summon/Control Rain",range:"1 mile PLE",duration:"1 hr PLE",PPE:"200",effect:"Creates a rain storm that effects 1 mile radius PLE",page:"187",book:"Rifts"},{name:"Time Hole",range:"Self",duration:"Weeks",PPE:"210",effect:"Sends the caster to a small dimension of his own",page:"187-188",book:"Rifts"},{name:"Ensorcel",range:"Touch",duration:"20 minutes PLE",PPE:"400",effect:"Only the caster can control a targets mind",page:"155",book:"FoM"},{name:"Heavy Air",range:"300ft PLE",duration:"10 minutes PLE",PPE:"200",effect:"fatigue 2x normal rate, -4 INT, -20% skills",page:"155",book:"FoM"},{name:"Ironwood",range:"Touch",duration:"Permanent",PPE:"50 +",effect:"Transforms SDC wood to MDC",page:"155",book:"FoM"},{name:"Null Sphere",range:"10ft PLE",duration:"20 melees PLE",PPE:"220",effect:"nulls forces inside the sphere, 100 MDC PLE",page:"155-156",book:"FoM"},{name:"Soultwist",range:"100ft",duration:"Instant",PPE:"170",effect:"6D6 MDC/HPs damage, damages emotions",page:"156",book:"FoM"},{name:"Wall of the Weird",range:"200ft",duration:"20 melee PLE",PPE:"180",effect:"40MDC armor PLE, 4D6 MDC damage",page:"156",book:"FoM"}],13:[{name:"Create Golem",range:"Touch",duration:"Destroyed",PPE:"700-1000",effect:"Creates magic Golem. (see book for stats)",page:"188",book:"Rifts"},{name:"Protection Circle:Super",range:"Radius",duration:"24 hrs",PPE:"250",effect:"Keeps all supernatural beings away from target",page:"188",book:"Rifts"},{name:"Summon/Control Storm",range:"10 miles",duration:"1 hr. PLE",PPE:"300",effect:"Creates massive rain and lighting storm",page:"188-189",book:"Rifts"},{name:"Summon Lesser Being",range:"NA",duration:"24 hrs. PLE",PPE:"425",effect:"Summons a supernatural being (lesser)",page:"189",book:"Rifts"},{name:"Sanctum",range:"30x30ft",duration:"Infinite",PPE:"390",effect:"Enchants a 30x30 area, protecting mage",page:"189",book:"Rifts"},{name:"Talisman",range:"varies",duration:"Destroyed",PPE:"500",effect:"Object casts 1 spell 3 times. Store 50 PPE",page:"189",book:"Rifts"},{name:"Collapse",range:"100ft+10 PLE",duration:"1D4+1 melees",PPE:"70-400",effect:"Spell destroys buildings and structures",page:"156-157",book:"FoM"},{name:"Restore Life",range:"Touch",duration:"Permanent",PPE:"275",effect:"Resurrects recently dead(4hrs PLE) back to life",page:"157",book:"FoM"},{name:"Shadow Wall",range:"100ft PLE",duration:"20 melees PLE",PPE:"400",effect:"Pitch black wall of energy (see book)",page:"157",book:"FoM"},{name:"Swap Places",range:"50ft PLE",duration:"4 melees PLE",PPE:"300",effect:"Swap places with another target",page:"157-158",book:"FoM"}],14:[{name:"Close Rift",range:"100 ft",duration:"Instant",PPE:"200",effect:"Closes an Open rift. -2 from permanent PPE base",page:"189",book:"Rifts"},{name:"Id Barrier",range:"200ft +100 PLE",duration:"12 melees PLE",PPE:"600",effect:"Barrier generates a HF of 14",page:"189-190",book:"Rifts"},{name:"Impenetrable Wall of Force",range:"100ft",duration:"5 melees PLE",PPE:"600",effect:"No magic, weapon, or person can break through",page:"190",book:"Rifts"},{name:"Restoration",range:"Touch",duration:"Instant/Perm",PPE:"650",effect:"Healing spell that restored everything to target",page:"190",book:"Rifts"},{name:"Annihilate",range:"500 ft PLE",duration:"Instant",PPE:"600",effect:"2D4x100 MDC to primary target, 4D6x10 MD to others",page:"158",book:"FoM"},{name:"Sum/Con Sea Serpents",range:"6,000 ft",duration:"12 hrs. PPE",PPE:"350",effect:"Summons 1D4 PLE Sea Serpents",page:"158",book:"FoM"}],15:[{name:"Dimensional Portal",range:"3ft",duration:"2 melees PPE",PPE:"1,000",effect:"Opens a 2-way protal to another dimension",page:"190",book:"Rifts"},{name:"Teleport:super",range:"300 miles PLE",duration:"Instant",PPE:"600",effect:"Teleports target 300 miles away PLE",page:"190",book:"Rifts"},{name:"Transformation",range:"Touch",duration:"3 days PLE",PPE:"2,000",effect:"Transforms mortal target into demonic monster",page:"190",book:"Rifts"},{name:"Circle of Travel",range:"800 miles PLE",duration:"Infinite",PPE:"300",effect:"Creates a circle that takes target 1 place to another",page:"158-159",book:"FoM"},{name:"Enchant Weapon: Minor",range:"Touch",duration:"1 month PLE",PPE:"400-1,000",effect:"Lesser rune magic enchantment of melee weapons",page:"159",book:"FoM"},{name:"Summon Ally",range:"1,000 Miles",duration:"Instant",PPE:"600",effect:"Summons 1 ally of the caster. 20 minute ritual needed",page:"159",book:"FoM"},{name:"Void",range:"200 ft",duration:"1 week PLE",PPE:"700",effect:"Target is trapped in dark pocket dimension",page:"159",book:"FoM"}]},WH=[{name:"Blinding Flash",huName:"Vakító Villanás",huEffect:"-5 támadás, -10 hárítás/kitérés"},{name:"Cloud of Smoke",huName:"Füstfelhő",huEffect:"-5 támadás, hárítás, kitérés"},{name:"Death Trance",huName:"Halálköd",huEffect:"A halál illúziója"},{name:"Globe of Daylight",huName:"Napfénygömb",huEffect:"Napfény gömb"},{name:"See Aura",huName:"Auralátás",huEffect:"Tárgy aurájának érzékelése"},{name:"See the Invisible",huName:"Láthatatlan Látása",huEffect:"Láthatatlan tárgyak látása"},{name:"Sense Evil",huName:"Gonosz Érzékelése",huEffect:"Természetfeletti gonosz érzékelése"},{name:"Sense Magic",huName:"Mágia Érzékelése",huEffect:"Mágia jelenlétének érzékelése"},{name:"Thunderclap",huName:"Mennydörgés",huEffect:"+5 INT, +1 Támadás, hárítás, kitérés"},{name:"Lantern Light",huName:"Lámpafény",huEffect:"Alacsony szintű mágikus fénygömb"},{name:"Chameleon",huName:"Kaméleon",huEffect:"Megváltoztatja a célpont színét elrejtőzéshez"},{name:"Climb",huName:"Mászás",huEffect:"Lehetővé teszi a célpontnak, hogy felmásszon dolgokra"},{name:"Concealment",huName:"Elrejtés",huEffect:"Kis tárgyak elrejtése"},{name:"Detect Concealment",huName:"Rejtett Dolgok Érzékelése",huEffect:"Semlegesíti az Elrejtés varázslatot"},{name:"Befuddle",huName:"Összezavarás",huEffect:"Összezavarja a célpontot"},{name:"Fear",huName:"Félelem",huEffect:"16-os Rémület faktort ad a célpontnak"},{name:"Extinguish Fire",huName:"Tűzoltás",huEffect:"Eloltja a tüzet 20 láb sugarú körben"},{name:"Heavy Breathing",huName:"Nehéz Légzés",huEffect:"60% esély a célpont megijesztésére"},{name:"Levitation",huName:"Lebegés",huEffect:"Csak fel és le mozgás"},{name:"Mystic Alarm",huName:"Misztikus Riasztás",huEffect:"Figyelmezteti a varázslót a zavarásról"},{name:"Turn Dead",huName:"Holtak Elűzése",huEffect:"Elűz 1D6 élőhalottat PSZ"},{name:"Aura of Power",huName:"Erő Aurája",huEffect:"Erősebb aurát ad a célpontnak"},{name:"Cleanse",huName:"Tisztítás",huEffect:"Eltávolítja a szennyeződést a célpont felületéről"},{name:"Cloak of Darkness",huName:"Sötétség Leple",huEffect:"Elrejti a varázslót"},{name:"Manipulate Objects",huName:"Tárgyak Irányítása",huEffect:"Láthatatlan harmadik kézként használható"},{name:"Shatter",huName:"Szétzúzás",huEffect:"Szétzúzza a nem szerves törékeny anyagokat"},{name:"Throwing Stones",huName:"Kődobálás",huEffect:"1D6+1 MD PSZ"},{name:"Armor of Ithan",huName:"Ithan Páncélja",huEffect:"+10 MDC Páncél PSZ"},{name:"Breathe Without Air",huName:"Levegő Nélküli Légzés",huEffect:"A célpont vákuumban vagy vízben lélegzik"},{name:"Energy Bolt",huName:"Energianyaláb",huEffect:"4D6 SDC Sebzés"},{name:"Fingers of Wind",huName:"Szélujjak",huEffect:"Szelet használ kis tárgyak manipulálására"},{name:"Float in Air",huName:"Légi Lebegés",huEffect:"Lehetővé teszi a célpontnak a levegőben lebegést"},{name:"Fuel Flame",huName:"Lángélesztés",huEffect:"Megduplázza a meglévő tűz méretét"},{name:"Ignite Fire",huName:"Tűzgyújtás",huEffect:"Spontán égést okoz"},{name:"Impervious to Fire",huName:"Tűzállóság",huEffect:"A célpontot ellenállóvá teszi a tűzzel szemben"},{name:"Impervious to Poison",huName:"Méregállóság",huEffect:"A célpontot ellenállóvá teszi a mérgekkel szemben"},{name:"Invisibility: Simple",huName:"Egyszerű Láthatatlanság",huEffect:"Alapszintű láthatatlanság"},{name:"Negate Poison/Toxin",huName:"Méreg/Toxin Semlegesítése",huEffect:"Elpusztítja a mérget, toxinokat a célpont belsejében"},{name:"Paralysis: Lesser",huName:"Kisebb Bénítás",huEffect:"A célpont egy részét mozgásképtelenné teszi"},{name:"Resist Fire",huName:"Tűzellenállás",huEffect:"Ellenáll a tűz okozta károknak"},{name:"Telekinesis",huName:"Telekinézis",huEffect:"Telekinetikus erők"},{name:"Create Wood",huName:"Faalkotás",huEffect:"Fát teremt égetéshez/építéshez"},{name:"Life Source",huName:"Életforrás",huEffect:"A varázsló SDC/HP-jét PPE-vé alakítja"},{name:"Light Healing",huName:"Könnyű Gyógyítás",huEffect:"Felgyorsítja a célpont gyógyulási folyamatát"},{name:"Light Target",huName:"Célpont Megvilágítása",huEffect:"Kitűnővé teszi a célpontot a tömegben"},{name:"Magic Shield",huName:"Mágikus Pajzs",huEffect:"+60 MDC, +1 Hárítás"},{name:"Mystic Fulcrum",huName:"Misztikus Emelő",huEffect:"Nehéz súlyok emelése mágikus karral"},{name:"Orb of Cold",huName:"Hideg Gömb",huEffect:"1D4 perc zsibbadtság a célpontnak"},{name:"Wave of Frost",huName:"Fagyos Hullám",huEffect:"Fagyot hoz létre a növényzet károsítására"},{name:"Astral Projection",huName:"Asztrális Kivetítés",huEffect:"A varázsló lelkét az asztrális síkra küldi"},{name:"Blind",huName:"Vakítás",huEffect:"-5 támadás, -10 hárítás/kitérés, megvakítva"},{name:"Carpet of Adhesion",huName:"Ragadós Szőnyeg",huEffect:"Az áldozat a szőnyeghez ragad"},{name:"Charismatic Aura",huName:"Karizmatikus Aura",huEffect:"+8 a KA-hoz ideiglenesen"},{name:"Cure Minor Disorders",huName:"Kisebb Rendellenességek Gyógyítása",huEffect:"Gyógyítja a kisebb panaszokat, például fejfájást"},{name:"Energy Field",huName:"Energiamező",huEffect:"+ 60MDC, Páncélérték 4"},{name:"Fool's Gold",huName:"Bolondok Aranya",huEffect:"A célpontot aranynak tünteti fel"},{name:"Fire Bolt",huName:"Tűznyíl",huEffect:"4D6 MDC sebzés"},{name:"Ley Line Transmission",huName:"Ley Vonal Átvitel",huEffect:"Szóbeli vagy hang üzenet küldése ley vonalon keresztül"},{name:"Magic Net",huName:"Mágikus Háló",huEffect:"1-6 emberméretű célpontot fog el"},{name:"Multiple Image",huName:"Többszörös Kép",huEffect:"A mágus több képét hozza létre"},{name:"Repel Animals",huName:"Állatok Elűzése",huEffect:"Az állatok elhagyják a mágus körüli területet"},{name:"Seal",huName:"Lezárás",huEffect:"Nem lehet kinyitni az élettelen tárgyat"},{name:"Shadow Meld",huName:"Árnyékba Olvadás",huEffect:"Elrejtőzés egy árnyékos területen"},{name:"Swim as a Fish",huName:"Úszás, Mint egy Hal",huEffect:"Úszás 96%-os jártassággal"},{name:"Trance",huName:"Transz",huEffect:"A célpontot zombi transzba helyezi"},{name:"Chromatic Protection",huName:"Színes Védelem",huEffect:"Megvakítja az érintett célpontot támadó ellenségeket"},{name:"Deflect",huName:"Elhárítás",huEffect:"Elhárítja a lövedékeket, +4 hárítás"},{name:"Electric Arc",huName:"Elektromos Ív",huEffect:"2D6 MDC Sebzés, +2 Támadás"},{name:"Fire Blast",huName:"Tűzrobbanás",huEffect:"3D6 MDC Sebzés"},{name:"Fist of Fury",huName:"Düh Ökle",huEffect:"1D6 Sebzés, Normál Ütés"},{name:"Reflection",huName:"Tükröződés",huEffect:"Tükröződést hoz létre tükrökben"},{name:"Ricochet Strike",huName:"Pattanó Csapás",huEffect:"Dobófegyverek 1-3 célpontról pattannak le"},{name:"Watchguard",huName:"Őrszem",huEffect:"Figyelmezteti a varázslót az ellenséges személyekről a területen"},{name:"Weight of Duty",huName:"Kötelesség Súlya",huEffect:"Jelentős büntetéseket szenved el depresszió miatt"},{name:"Calling",huName:"Hívás",huEffect:'Telepatikus "gyere ide" üzenet'},{name:"Circle of Flame",huName:"Tűzkör",huEffect:"6D6 SDC Tűzkör a varázsló körül"},{name:"Domination",huName:"Uralás",huEffect:"Akaratot kényszerít a célpontra"},{name:"Energy Disruption",huName:"Energiamegszakítás",huEffect:"Ideiglenesen megszakítja az elektromos áramot"},{name:"Escape",huName:"Szökés",huEffect:"Lehetővé teszi a varázslónak, hogy egyszerű kötelékekből kiszabaduljon"},{name:"Eyes of Thoth",huName:"Thoth Szemei",huEffect:"A varázsló bármilyen nyelvet olvashat és érthet"},{name:"Fly",huName:"Repülés",huEffect:"Bármilyen tárgyat repülésre késztethet, fém/műanyag kivételével"},{name:"Heal Wounds",huName:"Sebgyógyítás",huEffect:"+3D6 SDC, +1D6 ÉP"},{name:"Horrific Illusion",huName:"Borzalmas Illúzió",huEffect:"14-es Rémületfaktorú illúziót hoz létre"},{name:"Sleep",huName:"Alvás",huEffect:"Élelmiszereket altatószerré változtat"},{name:"Superhuman Strength",huName:"Emberfeletti Erő",huEffect:"FE 30-ra, FÁ 24-re, +30 SDC"},{name:"Superhuman Speed",huName:"Emberfeletti Sebesség",huEffect:"Sebesség 44-re, +2 Hárítás, +6 Kitérés"},{name:"Swim As Fish (super)",huName:"Úszás Mint Hal (szuper)",huEffect:"Úszás Képesség 98%, Nincs fáradtság vagy távolság korlát"},{name:"Aura of Death",huName:"Halál Aurája",huEffect:"Elrejti a varázsló élet auráját"},{name:"Armor Bizzare",huName:"Bizarr Páncél",huEffect:"+15 MDC PSZ, 9-es Rémületfaktor"},{name:"Death Curse",huName:"Halálátok",huEffect:"A varázsló az utolsó életerejét használja az átok kivetésére"},{name:"Distant Voice",huName:"Távoli Hang",huEffect:"Beszélgetés látható célponttal nagy távolságból"},{name:"Featherlight",huName:"Tollkönnyű",huEffect:"Élettelen tárgyak súlyát tollkönnyűvé csökkenti"},{name:"Horror",huName:"Borzalom",huEffect:"Ugyanaz, mint a Félelem varázslat, de tárgyra hat"},{name:"House of Glass",huName:"Üvegház",huEffect:"A kapott sebzést visszaveti a támadóra"},{name:"Implosion Neutralizer",huName:"Implózió Semlegesítő",huEffect:"Kis robbanások sebzését felezi"},{name:"Influence the Beast",huName:"Állat Befolyásolása",huEffect:"Kis állatok elméjének irányítása"},{name:"Instill Knowledge",huName:"Tudás Átadása",huEffect:"A varázsló 1 ismert képességet ad át a célpontnak -1 szinten"},{name:"Lifeblast",huName:"Életrobbanás",huEffect:"Az életerő sokféleképpen használható (lásd könyv)"},{name:"Mend the Broken",huName:"Törött Javítása",huEffect:"Élettelen tárgyak javítása"},{name:"Mental Blast",huName:"Elmeroham",huEffect:"5D6 ÉP vagy 5D6 MDC sebzés"},{name:"Superhuman Endurance",huName:"Emberfeletti Kitartás",huEffect:"Nincs fáradtság miatti levonás"},{name:"Sustain",huName:"Fenntartás",huEffect:"A célpont napokig megtagadhatja a táplálkozást"},{name:"Apparition",huName:"Kísértetjelenés",huEffect:"Élethű illuzórikus lényt hoz létre"},{name:"Call Lightning",huName:"Villámhívás",huEffect:"1D6 MDC (PSZ) Villámcsapás"},{name:"Compulsion",huName:"Kényszer",huEffect:"Rejtett vágyat ültet a célpont elméjébe"},{name:"Cure Illness",huName:"Betegség Gyógyítása",huEffect:"Kisebb betegségeket gyógyít, mint influenza és láz"},{name:"Fire Ball",huName:"Tűzgolyó",huEffect:"1D4 MDC (PSZ) Tűzgolyó"},{name:"Impervious to Energy",huName:"Energiaállóság",huEffect:"A célpontot ellenállóvá teszi az energiával szemben (tűz is)"},{name:"Magic Pigeon",huName:"Mágikus Galamb",huEffect:"Misztikus üzenetvivő galambot hoz létre"},{name:"Mask of Deceit",huName:"Csalás Álarca",huEffect:"Megváltoztatja a varázsló arcvonásait"},{name:"Memory Bank",huName:"Emlékezettár",huEffect:"Kis információblokkot ültet a célpont elméjébe"},{name:"Reduce Self",huName:"Önzsugorítás",huEffect:"A varázslót 15 cm magasra zsugorítja"},{name:"Teleport: Lesser",huName:"Kisebb Teleportálás",huEffect:"Élettelen anyagok teleportálása (max. 23 kg)"},{name:"Time Slip",huName:"Időugrás",huEffect:"A varázsló 7 másodpercet ugrik előre az időben"},{name:"Tongues",huName:"Nyelvek",huEffect:"A célpont bármilyen nyelven beszélhet 98%-os jártassággal"},{name:"Words of Truth",huName:"Igazság Szavai",huEffect:"A célpont kénytelen igazat mondani"},{name:"Barrage",huName:"Össztűz",huEffect:"A célpontot 3 db 2 MDC-s csapás éri"},{name:"Create Water",huName:"Vízteremtés",huEffect:"A varázsló 2 liter vizet tud teremteni PSZ"},{name:"Crushing Fist",huName:"Zúzó Ököl",huEffect:"Az ütés 2D6 MDC sebzést okoz"},{name:"Energize Spell",huName:"Varázslat Feltöltése",huEffect:"Meghosszabbítja a kivetett varázslat időtartamát"},{name:"Fire Blossom",huName:"Tűzvirág",huEffect:"Kis, kézben tartható láng, más tárgyak meggyújtására használható"},{name:"Fortify Against Disease",huName:"Betegség Elleni Erősítés",huEffect:"Megerősíti a célpont testét a betegségekkel szemben"},{name:"Frequency Jamming",huName:"Frekvencia Zavarás",huEffect:"Zavarja a rádiókommunikációt"},{name:"Frostblade",huName:"Fagypengehey",huEffect:"Fém tárgyakat 4D6 MDC fegyverekké változtat"},{name:"Ice",huName:"Jég",huEffect:"A varázsló a mágiát jéggé alakítja"},{name:"Illusion Booster",huName:"Illúzió Erősítő",huEffect:"Megduplázza a Kísértetjelenés vagy Illúzió időtartamát"},{name:"Illusory Wall",huName:"Illuzórikus Fal",huEffect:"Illuzórikus falat hoz létre"},{name:"Power Bolt",huName:"Erőnyaláb",huEffect:"5D6 +2 PSZ Sebzés"},{name:"Targeted Deflection",huName:"Célzott Elhárítás",huEffect:"Elhárítja az energiatámadásokat"},{name:"Sheltering Force",huName:"Oltalmazó Erő",huEffect:"Mágikus sátor, ami 1-6 embert befogadhat"},{name:"Constrain Being",huName:"Lény Korlátozása",huEffect:"A célpontot korlátozott parancsok betartására kényszeríti"},{name:"Agony",huName:"Kínszenvedés",huEffect:"A célpont fájdalomtól szenved (Sebzés nélkül)"},{name:"Animate & Control Dead",huName:"Holtak Életre Keltése és Irányítása",huEffect:"A közelmúltban elhunytak maradványait kelti életre"},{name:"Dispel Magic Barriers",huName:"Mágikus Akadályok Eloszlatása",huEffect:"Bármilyen mágikus akadályt semlegesít"},{name:"Fly as the Eagle",huName:"Sasként Repülés",huEffect:"A célpont 80 km/h sebességgel repülhet"},{name:"Globe of Silence",huName:"Csendgömb",huEffect:"Olyan gömböt hoz létre, amiből nem szökhet ki hang"},{name:"Invisibility (Super)",huName:"Szuper Láthatatlanság",huEffect:"A célpont teljesen láthatatlanná válik"},{name:"Life Drain",huName:"Életerő Elszívás",huEffect:"A célpont tulajdonságait felére csökkenti"},{name:"Metamorphosis: Animal",huName:"Átalakulás: Állat",huEffect:"A célpont egyenlő méretű állattá alakul (maximum)"},{name:"Purification",huName:"Tisztítás",huEffect:"Megtisztítja a vizet és ételt"},{name:"Wind Rush",huName:"Szélroham",huEffect:"96 km/h sebességű széllökést indít a célpont felé"},{name:"Ballistic Fire",huName:"Ballisztikus Tűz",huEffect:"1D6 MDC rakétánként, 1 rakéta PSZ"},{name:"Fire Gout",huName:"Tűzokádás",huEffect:"Lángszórósugár, ami 6D6 MDC +1 PSZ sebzést okoz"},{name:"Heal Self",huName:"Öngyógyítás",huEffect:"+3D6 SDC, +1D6 ÉP, Nyílt sebeket zár"},{name:"Mental Shock",huName:"Mentális Sokk",huEffect:"Rövid távú amnéziát okoz a célpontnak"},{name:"Negate Mechanics",huName:"Mechanika Semlegesítése",huEffect:"Ideiglenesen kikapcsol egy gép egy részét"},{name:"Lightblade",huName:"Fénypenge",huEffect:"1D4x10 MDC +1 PSZ, +1 támadás"},{name:"Sonic Blast",huName:"Hanghullám Robbanás",huEffect:"4D6 MDC Sebzés, Hangrobbanást bocsát ki"},{name:"Spinning Blades",huName:"Forgó Pengék",huEffect:"Kis pengés fegyvert dob 1D6 MDC sebzésért"},{name:"Sub-Particle Acceleration",huName:"Részecske Gyorsítás",huEffect:"Részecskesugár 1D6+1 MDC sebzést okoz"},{name:"Commune with Spirits",huName:"Szellemekkel Kommunikálás",huEffect:"A varázsló kommunikálhat szellemekkel"},{name:"Exorcism",huName:"Ördögűzés",huEffect:"Elpusztítja a démon által megszállt célpontot"},{name:"Eyes of the Wolf",huName:"Farkas Szemei",huEffect:"Éjjellátás-18m, Láthatatlan látása-75%"},{name:"Hallucination",huName:"Hallucináció",huEffect:"Egy célpont hallucinációt tapasztal"},{name:"Locate",huName:"Felkutatás",huEffect:"Célpont általános helye 41%, 89% rituáléval"},{name:"Luck Curse",huName:"Szerencse Átok",huEffect:"A célpont harci bónuszait 0-ra csökkenti"},{name:"Metamorphosis: Human",huName:"Átalakulás: Ember",huEffect:"Emberi alakká változás egyenlő méretben"},{name:"Minor Curse",huName:"Kisebb Átok",huEffect:"Kisebb átkot szór a célpontra"},{name:"Negate Magic",huName:"Mágia Semlegesítése",huEffect:"Legtöbb általános mágiát semlegesít, mentő 12 ellen"},{name:"Oracle",huName:"Jóslat",huEffect:"Mágikus tisztánlátás"},{name:"Sickness",huName:"Betegség",huEffect:"A célpontnak egy adott betegség tüneteit okozza"},{name:"Spoil",huName:"Romlás",huEffect:"Ételt és vizet megront"},{name:"Stone to Flesh",huName:"Kőből Hús",huEffect:"Visszafordítja a kővé változtatás hatásait"},{name:"Wisps of Confusion",huName:"Zavar Szellői",huEffect:"1-8 embert/lényt összezavar"},{name:"Fire Globe",huName:"Tűzgömb",huEffect:"Célpontra dobható. 5D6 MDC sebzést okoz"},{name:"Force Bonds",huName:"Erőkötelékek",huEffect:"SDC kötelékeket 100 MDC kötelékké alakít"},{name:"Greater Healing",huName:"Nagyobb Gyógyítás",huEffect:"+2D4x10 SDC és 6D6 ÉP vagy 1D4 MDC"},{name:"Invincible Armor",huName:"Legyőzhetetlen Páncél",huEffect:"+25MDC PSZ, 1D6/kör sebzésregenerálás"},{name:"Lifeward",huName:"Életvédelem",huEffect:"MDC sebzést SDC sebzéssé alakítja"},{name:"Lightning Arc",huName:"Villámív",huEffect:"4D6 sebzés +2 MDC PSZ"},{name:"Magical Adrenal Rush",huName:"Mágikus Adrenalinlökés",huEffect:"Számos harci értéket emel korlátozott időre"},{name:"Power Weapon",huName:"Erőfegyver",huEffect:"SDC közelharci fegyvert MDC fegyverré alakít"},{name:"Shockwave",huName:"Lökéshullám",huEffect:"1D4 MDC PSZ + Földre döntő sebzés"},{name:"Sorcerous Fury",huName:"Varázslói Düh",huEffect:"2D4x10 MDC sebzés"},{name:"Wall of Wind",huName:"Szélfal",huEffect:"Szélfalat hoz létre a mágus körül, 2D4 MD sebzést okoz"},{name:"World Bizarre",huName:"Bizarr Világ",huEffect:"Borzalmas illúziót hoz létre egy terület körül"},{name:"Winged Flight",huName:"Szárnyas Repülés",huEffect:"5xFE = Max repülési sebesség"},{name:"Curse: Phobia",huName:"Átok: Fóbia",huEffect:"Fóbiát ültet a célpontba (lásd őrület táblázatok)"},{name:"Familiar Link",huName:"Familiáris Kapcsolat",huEffect:"A varázsló mentálisan összekapcsolódhat egy állattal (3. szint)"},{name:"Metamorphosis: Insect",huName:"Átalakulás: Rovar",huEffect:"A varázsló rovar alakot ölthet"},{name:"Protection Circle: Simple",huName:"Egyszerű Védőkör",huEffect:"Alacsonyabb rendű természetfeletti lények elhárítására használható"},{name:"Mute",huName:"Némítás",huEffect:"Ideiglenesen megbénítja a célpont beszédképességét"},{name:"Speed of the Snail",huName:"Csiga Sebessége",huEffect:"A célpont sebességét, cselekedeteit, hárítását, kitérését 2/3-dal csökkenti"},{name:"Summon/Control Canines",huName:"Kutyafélék Idézése/Irányítása",huEffect:"1D4 kutyafélét hív (+1 PSZ) a varázslóhoz"},{name:"Transferal",huName:"Átvitel",huEffect:"A varázsló átviheti lényegét egy másik lénybe"},{name:"Water to Wine",huName:"Víz Borrá Változtatása",huEffect:"A vizet finom borrá alakítja"},{name:"Aura of Doom",huName:"Végzet Aurája",huEffect:"A célpontot elárasztják a végzet érzései"},{name:"Beat Insurmountable Odds",huName:"Legyőzhetetlen Esélyek Legyőzése",huEffect:"A varázsló 1 konkrét cselekvést teljesít (lásd könyv)"},{name:"Create Steel",huName:"Acélteremtés",huEffect:"Használt fémhulladékból használható acélt formáz"},{name:"D-Step",huName:"D-Lépés",huEffect:"A célpont kiléphet a létezésből"},{name:"Desiccate the Supernatural",huName:"Természetfeletti Kiszárítása",huEffect:"3D6x10 MDC sebzés természetfeletti lényeknek"},{name:"Dragon Fire",huName:"Sárkánytűz",huEffect:"1D4x10 MDC (2 lövés körönként)"},{name:"Illusion Manipulation",huName:"Illúzió Manipuláció",huEffect:"Más illúzió varázslatok valósághű reagálását teszi lehetővé"},{name:"Phantom Mount",huName:"Fantom Paripa",huEffect:"Áttetsző harci lovat teremt (statisztikák a könyvben)"},{name:"Purge Self",huName:"Öntisztítás",huEffect:"Megszabadítja a testet betegségektől, bio-varázsló szimbiózistól, stb."},{name:"Realm of Chaos",huName:"Káosz Birodalma",huEffect:"Mindenkit a hatókörben a Káosz Birodalmába küld"},{name:"Tame Beast",huName:"Állat Megszelídítése",huEffect:"1 állatot PSZ a varázslóhoz köt"},{name:"Wall of Defense",huName:"Védelmi Fal",huEffect:"Visszatartja a bejövő támadásokat"},{name:"Banishment",huName:"Száműzés",huEffect:"1 alacsonyabb rendű Természetfelettit távozásra kényszerít PSZ"},{name:"Control/Enslave Entity",huName:"Entitás Irányítása/Leigázása",huEffect:"2 entitást irányít PSZ"},{name:"Metamorphosis: Superior",huName:"Átalakulás: Felsőbbrendű",huEffect:"Bármilyen élőlény formájává alakul egyenlő méretben"},{name:"Mystic Portal",huName:"Misztikus Portál",huEffect:"A varázsló teleportálhat és áthaladhat szilárd anyagokon"},{name:"Summon/Control Rodents",huName:"Rágcsálók Idézése/Irányítása",huEffect:"30 rágcsálót idéz PSZ"},{name:"Summon Shadow Beast",huName:"Árnyékbestia Idézése",huEffect:"Árnyékbestiát idéz (statisztikák a könyvben)"},{name:"Wards",huName:"Védőjelek",huEffect:"Tárgy vagy személy védelmére használt varázslatok"},{name:"Armorbane",huName:"Páncélrontás",huEffect:"Anti-Páncél mágia, 10%-kal csökkenti az MDC-t"},{name:"Deathward",huName:"Halálvédelem",huEffect:"2D6 +1D6 PSZ, ÉP vagy MDC"},{name:"Enemy Mind",huName:"Ellenség Elméje",huEffect:"Elmeirányító varázslat, ami az ellenségeket szövetségessé teszi"},{name:"Giant",huName:"Óriás",huEffect:"A varázsló magassága +3m (lásd könyv)"},{name:"Illusory Forest",huName:"Illuzórikus Erdő",huEffect:"A varázsló illuzórikus erdőt hozhat létre"},{name:"Magic Warrior",huName:"Mágikus Harcos",huEffect:"Mágikus harcost hoz létre (statisztikák a könyvben)"},{name:"Meteor",huName:"Meteor",huEffect:"+4 támadás, 1D6x10 MDC + 2MDC PSZ"},{name:"Plane Skip",huName:"Síkugrás",huEffect:"Ellenőrizetlen dimenzióugrás"},{name:"Purge Other",huName:"Más Megtisztítása",huEffect:"Tisztító megtisztítást végez 1 külső célponton"},{name:"Reality Flux",huName:"Valóság Fluxus",huEffect:"1 fegyvert MDC-ről SDC sebzésűre változtat"},{name:"Restore Limb",huName:"Végtaghelyreállítás",huEffect:"Helyreállít egy levágott végtagot"},{name:"Speed Weapon",huName:"Gyors Fegyver",huEffect:"2x cselekvés az elvarázsolt fegyver használatakor"},{name:"Super-Healing",huName:"Szuper-Gyógyítás",huEffect:"4D6 MDC-t állít helyre MDC lényeknél"},{name:"Wall of Not",huName:"Nemlét Fala",huEffect:"Egy 4,5m-es (PSZ) falat láthatatlanná tesz"},{name:"Warped Space",huName:"Eltorzult Tér",huEffect:"1/2 cselekvés és harci bónusz, -75% sebesség"},{name:"Anti-Magic Cloud",huName:"Antimagikus Felhő",huEffect:"A felhő minden mágiát semlegesít"},{name:"Create Mummy",huName:"Múmia Teremtése",huEffect:"Rituális mágia, ami múmiát hoz létre (lásd könyv)"},{name:"Create Magic Scroll",huName:"Mágikus Tekercs Készítése",huEffect:"PPE-t és 1 varázslatot helyez egy papírlapra"},{name:"Remove Curse",huName:"Átok Eltávolítása",huEffect:"Eltávolítja az átkot a célpontról, +5 mentő mágia ellen"},{name:"Summon Fog",huName:"Köd Idézése",huEffect:"Sűrű ködöt generál. +20% lopakodáshoz"},{name:"Astral Hole",huName:"Asztrális Lyuk",huEffect:"Kis portál, ami követi a varázslót (lásd könyv)"},{name:"Bottomless Pit",huName:"Feneketlen Gödör",huEffect:"A célpontot fekete limbóba küldi az időtartamra"},{name:"Curse of the World Bizarre",huName:"Bizarr Világ Átka",huEffect:"A célpont világa olyannak tűnik, mint a Bizarr Világ"},{name:"Disharmonize",huName:"Diszharmónia",huEffect:"Összezavarja a célpontok csoportját, -1/2 cselekvés, 0 INT"},{name:"Energy Sphere",huName:"Energiagömb",huEffect:"Kék gömb, ami PPE tárolóként működik"},{name:"Firequake",huName:"Tűzrengés",huEffect:"Földrengést és tűzhatást hoz létre, 5D6 MDC"},{name:"Id Alter Ego",huName:"Id Alteregó",huEffect:"A célpont pontos másolatát hozza létre/fordított jellemmel"},{name:"Illusory Terrain",huName:"Illuzórikus Terep",huEffect:"Bármilyen illuzórikus tájat létrehoz, 900m PSZ-ként"},{name:"Mindshatter",huName:"Elmetörés",huEffect:"A varázslat transzszerű állapotba helyezi a célpontot"},{name:"Re-Open Gateway",huName:"Átjáró Újranyitása",huEffect:"Újranyit egy létező dimenziós portált"},{name:"See in Magic Darkness",huName:"Látás Mágikus Sötétségben",huEffect:"A célpont tisztán lát bármilyen sötétségben"},{name:"Amulet",huName:"Amulett",huEffect:"Az amulett által tartalmazott varázslattól függ"},{name:"Calm Storms",huName:"Viharok Lecsendesítése",huEffect:"Csökkenti egy természetes vihar hatásait"},{name:"Create Zombie",huName:"Zombi Teremtése",huEffect:"Működő zombit/élőhalottat hoz létre"},{name:"Metamorphosis: Mist",huName:"Átalakulás: Köd",huEffect:"A varázsló köddé változik"},{name:"Summon/Control Entity",huName:"Entitás Idézése/Irányítása",huEffect:"Idegen entitást irányít egy másik dimenzióból"},{name:"Summon/Control Rain",huName:"Eső Idézése/Irányítása",huEffect:"Esővihart hoz létre, ami 1,6 km sugarú területre hat PSZ"},{name:"Time Hole",huName:"Időlyuk",huEffect:"A varázslót saját kis dimenziójába küldi"},{name:"Ensorcel",huName:"Elbűvölés",huEffect:"Csak a varázsló irányíthatja a célpont elméjét"},{name:"Heavy Air",huName:"Nehéz Levegő",huEffect:"Fáradás 2x normál ütemben, -4 INT, -20% képességek"},{name:"Ironwood",huName:"Vasfa",huEffect:"SDC fát MDC-vé alakít"},{name:"Soultwist",huName:"Lélekcsavarás",huEffect:"6D6 MDC/ÉP sebzés, érzelmi kárt okoz"},{name:"Wall of the Weird",huName:"Bizarr Fal",huEffect:"40MDC páncél PSZ, 4D6 MDC sebzés"},{name:"Null Sphere",huName:"Null Gömb",huEffect:"Semlegesíti az erőket a gömbön belül, 100 MDC PSZ"},{name:"Create Golem",huName:"Gólem Teremtése",huEffect:"Mágikus gólemet hoz létre. (statisztikák a könyvben)"},{name:"Protection Circle: Super",huName:"Szuper Védőkör",huEffect:"Minden természetfeletti lényt távol tart a célponttól"},{name:"Summon/Control Storm",huName:"Vihar Idézése/Irányítása",huEffect:"Hatalmas eső- és villámlásvihart hoz létre"},{name:"Summon Lesser Being",huName:"Alacsonyabb Rendű Lény Idézése",huEffect:"Természetfeletti lényt idéz (alacsonyabb rendű)"},{name:"Sanctum",huName:"Szentély",huEffect:"9x9 méteres területet varázsol el, védve a mágust"},{name:"Talisman",huName:"Talizmán",huEffect:"Tárgy, ami 1 varázslatot 3-szor vet ki. 50 PPE tárolására képes"},{name:"Collapse",huName:"Összeomlás",huEffect:"A varázslat épületeket és szerkezeteket pusztít el"},{name:"Restore Life",huName:"Élet Visszaállítása",huEffect:"Feltámasztja a nemrég (4 óra PSZ) elhunytakat"},{name:"Shadow Wall",huName:"Árnyékfal",huEffect:"Koromfekete energiafal (lásd könyv)"},{name:"Swap Places",huName:"Helycsere",huEffect:"Helyet cserél egy másik célponttal"},{name:"Close Rift",huName:"Rés Bezárása",huEffect:"Bezár egy Nyitott rést. -2 az állandó PPE alapból"},{name:"Id Barrier",huName:"Id Akadály",huEffect:"Az akadály 14-es Rémületfaktort generál"},{name:"Impenetrable Wall of Force",huName:"Áthatolhatatlan Erőfal",huEffect:"Sem mágia, sem fegyver, sem személy nem törhet át rajta"},{name:"Restoration",huName:"Helyreállítás",huEffect:"Gyógyító varázslat, ami mindent helyreállít a célponton"},{name:"Annihilate",huName:"Megsemmisítés",huEffect:"2D4x100 MDC az elsődleges célpontnak, 4D6x10 MD a többinek"},{name:"Summon/Control Sea Serpents",huName:"Tengeri Kígyók Idézése/Irányítása",huEffect:"1D4 PSZ Tengeri Kígyót idéz"},{name:"Dimensional Portal",huName:"Dimenzionális Portál",huEffect:"Kétirányú átjárót nyit egy másik dimenzióba"},{name:"Teleport: Super",huName:"Szuper Teleportálás",huEffect:"A célpontot 480 km távolságra teleportálja PSZ"},{name:"Transformation",huName:"Átalakulás",huEffect:"Halandó célpontot démoni szörnnyé alakít"},{name:"Circle of Travel",huName:"Utazókör",huEffect:"Olyan kört hoz létre, ami a célpontot egyik helyről a másikra viszi"},{name:"Enchant Weapon: Minor",huName:"Kisebb Fegyverbűvölés",huEffect:"Kisebb rúnamágiás közelharci fegyver bűvölés"},{name:"Summon Ally",huName:"Szövetséges Idézése",huEffect:"A varázsló 1 szövetségesét idézi. 20 perces rituálé szükséges"},{name:"Void",huName:"Űr",huEffect:"A célpont sötét zsebdimenzióba kerül csapdába"},{name:"",huName:"undefined",huEffect:"undefined"}],VH=[{name:"Bio-Regeneration (Self)",cost:6},{name:"Deaden Pain",cost:4},{name:"Detect Psionics",cost:6},{name:"Exorcism",cost:10},{name:"Healing Touch",cost:6},{name:"Increased Healing",cost:10},{name:"Induce Sleep",cost:4},{name:"Meditation (H)",cost:0},{name:"Psychic Diagnosis",cost:4},{name:"Psychic Purification",cost:8},{name:"Psychic Surgery",cost:14},{name:"Resist Fatigue (H)",cost:4},{name:"Restore P.P.E.",cost:"4+"},{name:"Stop Bleeding",cost:4},{name:"Supress Fear",cost:8}],GH=[{name:"Alter Aura",cost:2},{name:"Deaden Senses",cost:4},{name:"Death Trance",cost:1},{name:"Ectoplasm",cost:"varies"},{name:"Ectoplasmic Disguise",cost:12},{name:"Impervious To Cold",cost:2},{name:"Impervious To Fire",cost:4},{name:"Impervious To Poison",cost:4},{name:"Levitation",cost:"varies"},{name:"Meditation (P)",cost:0},{name:"Mind Block (P)",cost:4},{name:"Nightvision",cost:4},{name:"Resist Fatigue (P)",cost:4},{name:"Resist Hunger",cost:2},{name:"Resist Thirst",cost:6},{name:"Summon Inner Strength",cost:4},{name:"Telekinesis",cost:"varies"},{name:"Telekinetic Leap",cost:8},{name:"Telekinetic Lift",cost:6},{name:"Telekinetic Punch",cost:6},{name:"Telekinetic Push",cost:4}],qH=[{name:"Astral Projection",cost:8},{name:"Clairvoyance",cost:4},{name:"Commune With Spirits",cost:6},{name:"Empathy",cost:4},{name:"Intuitive Combat",cost:10},{name:"Machine Ghost",cost:12},{name:"Mask I.S.P. & Psionics",cost:7},{name:"Mask P.P.E.",cost:4},{name:"Meditation (S)",cost:0},{name:"Mind Block (S)",cost:4},{name:"Object Read",cost:"6 or +4"},{name:"Prescence Sense",cost:4},{name:"Read Dimensional Portal",cost:6},{name:"Remote Viewing",cost:10},{name:"See Aura",cost:6},{name:"See The Invisible",cost:4},{name:"Sense Dimensional Anomaly",cost:4},{name:"Sense Evil",cost:2},{name:"Sense Magic",cost:3},{name:"Sense Time",cost:2},{name:"Sixth Sense",cost:2},{name:"Speed Reading",cost:2},{name:"Telepathy",cost:4},{name:"Total Recall",cost:2}],YH=[{name:"Bio-Manipulation",cost:10},{name:"Bio-Regeneration (Super)",cost:20},{name:"Electrokinesis",cost:"varies"},{name:"Empathic Transmission",cost:6},{name:"Group Mind Block",cost:22},{name:"Group Trance",cost:15},{name:"Hydrokinesis",cost:"varies"},{name:"Hypnotic Suggestion",cost:6},{name:"Mentally Possess Others",cost:30},{name:"Mind Block Auto-Defense",cost:"special"},{name:"Mind Bolt",cost:"varies"},{name:"Mind Bond",cost:10},{name:"Mind Wipe",cost:"special"},{name:"P.P.E. Shield",cost:10},{name:"Psi-Shield",cost:30},{name:"Psi-Sword",cost:30},{name:"Psionic Invisibility",cost:10},{name:"Psychic Body-Field",cost:30},{name:"Psychic Omni-Sight",cost:15},{name:"Psychosomatic Disease",cost:30},{name:"Pyrokinesis",cost:"varies"},{name:"Radiate Horror Factor",cost:8},{name:"Telekinesis (Super)",cost:"10+"},{name:"Telekinetic Accelration Attack",cost:"10 or 20"},{name:"Telekinetic Force Field",cost:30},{name:"Telemechanics",cost:10},{name:"Telemechanic Mental Operation",cost:12},{name:"Telemechanic Paralysis",cost:20},{name:"Telemechanic Possession",cost:50}],El={HEALING:VH,PHYSICAL:GH,SENSITIVE:qH,SUPER:YH};function xk({children:e,separator:t=", "}){return console.log("rendering SeparatedList",e.length),e.map((n,r)=>w.jsxs(R.Fragment,{children:[n,r<e.length-1?t:""]},r))}function Bj({attrs:e=[],charName:t,charNotes:n="",formatted:r=!1,rollDice:o,spells:i=[],psis:s=[]}){function u(){const y=ka.cloneDeep(Ao);y.attributes.forEach(k=>{var C;(C=k.skills)==null||C.forEach(S=>{var A,K;S.specs=(A=S.specs)==null?void 0:A.filter(O=>kn(e,O.name)),((K=S.specs)==null?void 0:K.length)===0&&delete S.specs})}),y.attributes.forEach(k=>{var C;k.skills=(C=k.skills)==null?void 0:C.filter(S=>{var A;return kn(e,S.name)||((A=S.specs)==null?void 0:A.length)})}),y.attributes=y.attributes.filter(k=>{var C;return kn(e,k.name)||((C=k.skills)==null?void 0:C.length)});const _=y.attributes.map(k=>Pi(e,k.name)),P=[];return y.attributes.forEach(k=>{var C;(C=k.skills)==null||C.forEach(S=>{var K;let A=Pi(e,S.name,k.name);if(S.specs){const O=[];(K=S.specs)==null||K.forEach(L=>{O.push(Pi(e,L.name,S.name,k.name))}),A+=" ("+O.join(", ")+")"}P.push(A)})}),w.jsxs(w.Fragment,{children:[w.jsx("b",{children:_.join(", ")}),", ",P.join(", ")]})}const c=Ao.calculated.map(y=>Mj(e,y)).filter(y=>y),f=[];Ao.attributes.filter(y=>y.showAsSkill).forEach(y=>{kn(e,y.name)&&f.push(Pi(e,y.name))});function d(y,_){return w.jsxs(vl,{...y,children:[w.jsxs(vl.Header,{as:"h3",children:[_.name," (",_.PPE,")"]}),w.jsxs(vl.Body,{children:[w.jsx("b",{children:"Szint:"})," ",_.level,w.jsx("br",{}),w.jsx("b",{children:"Hatótáv:"})," ",zj(_.range),w.jsx("br",{}),w.jsx("b",{children:"Időtartam:"})," ",Fj(_.duration),w.jsx("br",{}),w.jsx("b",{children:"Hatás:"})," ",_.huEffect,w.jsx("br",{}),w.jsx("b",{children:"Effect:"})," ",_.effect]})]})}function m(y,_){return w.jsxs(vl,{...y,children:[w.jsxs(vl.Header,{as:"h3",children:[_.name," (",_.cost,")"]}),w.jsxs(vl.Body,{children:[w.jsx("b",{children:"Típus:"})," ",_.type]})]})}const g=Object.keys(wl).flatMap(y=>wl[y].map(_=>{if(i.includes(_.name))return{..._,level:y}}).filter(_=>_)),x=Object.keys(El).flatMap(y=>El[y].map(_=>{if(s.includes(_.name))return{..._,type:y}}).filter(_=>_));return w.jsxs("div",{id:"char-display",children:[r?w.jsxs(w.Fragment,{children:[t&&w.jsx("div",{children:w.jsx("b",{children:t})}),w.jsx(Rn,{className:"mb-2",children:Ao.attributes.filter(y=>!y.showAsSkill).filter(y=>kn(e,y.name)).map(y=>{var _;return w.jsxs(Nt,{children:[w.jsx("div",{className:"text-nowrap cursor-pointer",onClick:()=>o&&o(gl(e,y.name),y.name+": "+rc(gl(e,y.name))),children:Pi(e,y.name)}),w.jsx("div",{children:(_=y.skills)==null?void 0:_.map(P=>{var k;return w.jsxs("div",{className:"ms-2 text-nowrap cursor-pointer",onClick:()=>o&&o(gl(e,P.name,y.name),P.name+": "+rc(gl(e,P.name,y.name))),children:[Pi(e,P.name,y.name),w.jsx("div",{children:(k=P.specs)==null?void 0:k.filter(C=>kn(e,C.name)).map(C=>w.jsx("div",{className:"ms-2 text-nowrap cursor-pointer",onClick:S=>{S.stopPropagation(),o&&o(gl(e,C.name,y.name),C.name+": "+rc(gl(e,C.name,y.name)))},children:Pi(e,C.name,y.name)},C.name))})]},P.name)})})]},y.name)})}),f.length>0&&w.jsx("div",{children:f.join(", ")}),c.map((y,_)=>w.jsxs("span",{className:`me-1 ${y.highlighted?"tc-selected":""}`,children:[y.name,": ",y.value,c.length-1!==_&&", "]},_)),n.length>0&&w.jsxs(w.Fragment,{children:[w.jsx("br",{className:"mb-2"}),n.split(`
`).map((y,_)=>w.jsxs(An.Fragment,{children:[y,w.jsx("br",{})]},_))]})]}):w.jsxs(w.Fragment,{children:[t&&w.jsx("span",{className:"d-none",children:w.jsx("b",{children:t})}),w.jsx("div",{className:"d-none",children:u()}),c.map((y,_)=>w.jsxs("span",{className:`me-1 ${y.highlighted?"tc-selected":""}`,children:[y.name,": ",y.value,c.length-1!==_&&", "]},_)),n.length>0&&w.jsxs(w.Fragment,{children:[w.jsx("br",{className:"mb-2 d-none"}),w.jsx("div",{className:"mb-2 d-none",children:n.split(`
`).map((y,_)=>w.jsxs(An.Fragment,{children:[y,w.jsx("br",{})]},_))})]})]}),x.length>0&&w.jsxs("div",{className:"d-flex flex-wrap",children:[w.jsx("b",{children:"Pszi: "}),w.jsx(xk,{children:x.map(y=>w.jsx(S_,{placement:"top",overlay:_=>m(_,y),children:w.jsxs("span",{className:"text-nowrap cursor-pointer",children:[y.name," (",y.cost,")"]})},y.name))})]}),g.length>0&&w.jsxs("div",{className:"d-flex flex-wrap",children:[w.jsx("b",{children:"Varázslatok: "}),w.jsx(xk,{children:g.map(y=>{const _=WH.find(P=>P.name===y.name)||{huName:"",huEffect:""};return w.jsx(S_,{placement:"top",overlay:P=>d(P,{...y,..._}),children:w.jsxs("span",{className:"text-nowrap cursor-pointer",children:[_.huName," (",y.PPE,")"]})},y.name)})})]})]})}function Ob(){return Ob=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ob.apply(this,arguments)}function XH(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}var JH=R.useLayoutEffect,QH=function(t){var n=R.useRef(t);return JH(function(){n.current=t}),n},Sk=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},ZH=function(t,n){var r=R.useRef();return R.useCallback(function(o){t.current=o,r.current&&Sk(r.current,null),r.current=n,n&&Sk(n,o)},[n])},_k={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},e7=function(t){Object.keys(_k).forEach(function(n){t.style.setProperty(n,_k[n],"important")})},kk=e7,to=null,Pk=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function t7(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),to||(to=document.createElement("textarea"),to.setAttribute("tabindex","-1"),to.setAttribute("aria-hidden","true"),kk(to)),to.parentNode===null&&document.body.appendChild(to);var o=e.paddingSize,i=e.borderSize,s=e.sizingStyle,u=s.boxSizing;Object.keys(s).forEach(function(g){var x=g;to.style[x]=s[x]}),kk(to),to.value=t;var c=Pk(to,e);to.value=t,c=Pk(to,e),to.value="x";var f=to.scrollHeight-o,d=f*n;u==="border-box"&&(d=d+o+i),c=Math.max(d,c);var m=f*r;return u==="border-box"&&(m=m+o+i),c=Math.min(m,c),[c,f]}var Ck=function(){},n7=function(t,n){return t.reduce(function(r,o){return r[o]=n[o],r},{})},r7=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak"],o7=!!document.documentElement.currentStyle,i7=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=n7(r7,n),o=r.boxSizing;if(o==="")return null;o7&&o==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var i=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),s=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:i,borderSize:s}},a7=i7;function Uj(e,t,n){var r=QH(n);R.useLayoutEffect(function(){var o=function(s){return r.current(s)};if(e)return e.addEventListener(t,o),function(){return e.removeEventListener(t,o)}},[])}var s7=function(t){Uj(window,"resize",t)},l7=function(t){Uj(document.fonts,"loadingdone",t)},u7=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],c7=function(t,n){var r=t.cacheMeasurements,o=t.maxRows,i=t.minRows,s=t.onChange,u=s===void 0?Ck:s,c=t.onHeightChange,f=c===void 0?Ck:c,d=XH(t,u7),m=d.value!==void 0,g=R.useRef(null),x=ZH(g,n),y=R.useRef(0),_=R.useRef(),P=function(){var S=g.current,A=r&&_.current?_.current:a7(S);if(A){_.current=A;var K=t7(A,S.value||S.placeholder||"x",i,o),O=K[0],L=K[1];y.current!==O&&(y.current=O,S.style.setProperty("height",O+"px","important"),f(O,{rowHeight:L}))}},k=function(S){m||P(),u(S)};return R.useLayoutEffect(P),s7(P),l7(P),R.createElement("textarea",Ob({},d,{onChange:k,ref:x}))},Kj=R.forwardRef(c7);function Tk({characters:e,counterName:t,selectedCharacterId:n}){var P,k,C,S;const r=(e==null?void 0:e.find(A=>A.id===n))||null;r.counters||(r.counters=[]);const[o,i]=R.useState(""),[s,u]=R.useState(((k=(P=r.counters)==null?void 0:P.find(A=>A.name===t))==null?void 0:k.value)||0),c=R.useRef(((S=(C=r.counters)==null?void 0:C.find(A=>A.name===t))==null?void 0:S.max)||void 0);R.useEffect(()=>{if(!t)return;let A;try{A=parseInt(s)||0}catch{A=s}r.counters=r.counters.map(K=>K.name===t?{...K,value:A}:K),f(r.counters)},[s]);const f=R.useCallback(ka.throttle(A=>{wn.characters.update(r.id,{counters:A})},1e3),[]);async function d(){var A,K;if((A=r.counters)!=null&&A.find(O=>O.name===o)){alert("Már van ilyen névvel");return}(K=r.counters)==null||K.push({name:o,value:0}),f(r.counters),i("")}async function m(){r.counters=r.counters.filter(A=>A.name!==t)||[],f(r.counters)}function g(A){u(A.target.value.replace(/[^0-9+\-*/.()]/g,""))}function x(A){A.keyCode===13&&y(A.target.value)}function y(A){try{const K=Function(`return ${A}`)();u(K)}catch{u(s)}}function _(A,K){A.ctrlKey&&(K*=10),u(O=>O+K)}return t?w.jsx(hp,{style:{width:"min-content"},children:w.jsxs(hp.Body,{className:"p-2 d-flex flex-column justify-content-between",children:[w.jsxs("div",{children:[w.jsxs("h6",{className:"text-nowrap",children:[t,w.jsx(wt,{size:"sm",style:{backgroundColor:"transparent"},className:"p-0 opacity-50 border-0 position-absolute end-0 top-0",title:"Számláló törlése",onClick:m,children:w.jsx("i",{className:"bi bi-x"})})]}),w.jsx("div",{children:w.jsx(Xr,{children:w.jsx(Kn.Control,{className:"mb-1 text-center p-0 fs-5",value:s,onChange:g,onKeyDown:x,onBlur:A=>y(A.target.value)})})})]}),t==="Test pont"&&w.jsx("small",{className:"mb-1",children:BH(c.current,s)}),w.jsxs("div",{className:"d-flex gap-1",children:[w.jsx(wt,{variant:"primary flex-grow-1",size:"sm",onClick:A=>_(A,1),children:w.jsx("i",{className:"bi bi-chevron-up"})}),w.jsx(wt,{variant:"primary flex-grow-1",size:"sm",onClick:A=>_(A,-1),children:w.jsx("i",{className:"bi bi-chevron-down"})})]})]})}):w.jsx(hp,{style:{width:"6.5rem"},children:w.jsxs(hp.Body,{className:"p-2 d-flex flex-column justify-content-between",children:[w.jsx("div",{children:w.jsx(Xr,{children:w.jsx(Kn.Control,{placeholder:"Új számláló",size:"sm",className:"mb-1",value:o,onChange:A=>i(A.target.value)})})}),w.jsx("div",{className:"d-flex gap-1",children:w.jsx(wt,{variant:"primary flex-grow-1",size:"sm",disabled:!o.trim().length,onClick:d,children:w.jsx("i",{className:"bi bi-plus"})})})]})})}function f7({selectedCharacterId:e,setSelectedCharacterId:t,setEditedCharacter:n,characters:r,rollDice:o,setWhoseTurnToCharacter:i}){var y,_,P;const[s,u]=R.useState(),c=(r==null?void 0:r.find(k=>k.id===e))||null,[f,d]=R.useState((c==null?void 0:c.charNotes)||"");R.useEffect(()=>{c&&(d((c==null?void 0:c.charNotes)||""),wn.npcs.where("name").equals(c.name).first().then(u))},[c]);function m(k){wn.characters.delete(k),t(void 0)}const g=R.useCallback(ka.debounce((k,C)=>{wn.characters.where({id:k}).modify({charNotes:C})},1e3),[]);function x(k){d(k),g(e,k)}return c&&w.jsxs(w.Fragment,{children:[w.jsxs(Rn,{children:[w.jsx(Nt,{xs:7,children:w.jsx("h3",{children:c.name})}),w.jsx(Nt,{children:w.jsxs(Xr,{children:[w.jsx(Xr.Text,{children:"Kezd."}),w.jsx(Kn.Control,{value:((y=c.initiative)==null?void 0:y.reduced)??"-",onChange:k=>Nb(c.id,isNaN(k.target.value)?void 0:k.target.value,r)}),w.jsx(Xr.Text,{children:w.jsx(wt,{size:"sm",className:"py-0 px-1 text-nowrap",variant:"secondary",onClick:()=>Hm(c.id,r),children:c.roll})},(_=c.initiative)==null?void 0:_.reduced)]})}),w.jsx(Nt,{className:"text-end align-middle",xs:2,children:w.jsxs("div",{className:"d-flex gap-2 flex-wrap justify-content-end align-items-center",children:[w.jsx($d,{title:"Új harcnál nem törlendő",checked:!!c.dontDelete,onChange:k=>wn.characters.where({id:c.id}).modify({dontDelete:k.target.checked})}),w.jsx(wt,{title:"Kezdeményezés ide",onClick:()=>i(c),size:"sm",variant:"info",children:w.jsx("i",{className:"bi bi-chevron-right"})}),w.jsx(wt,{onClick:()=>n(c),size:"sm",children:w.jsx("i",{className:"bi bi-pencil"})}),w.jsx(wt,{onClick:()=>m(e),size:"sm",variant:"danger",children:w.jsx("i",{className:"bi bi-trash"})})]})})]}),s&&w.jsx(Rn,{children:w.jsx(Nt,{className:"pt-2",children:w.jsx(Bj,{attrs:s.attrs,charNotes:s.notes,formatted:!0,rollDice:o,spells:s.spells})})}),w.jsx(Rn,{children:w.jsx(Nt,{children:w.jsx(HH,{characters:r,selectedCharacter:c})})}),w.jsx(Rn,{children:w.jsx(Nt,{children:w.jsx(Xr,{className:"mt-2",children:w.jsx(Kn.Control,{as:Kj,value:f,onChange:k=>x(k.target.value),placeholder:"Jegyzetek"})})})}),w.jsx(Rn,{className:"mt-2",children:w.jsx(Nt,{children:w.jsxs("div",{className:"d-flex gap-1 flex-wrap",children:[(P=c.counters)==null?void 0:P.map(k=>w.jsx(Tk,{characters:r,counterName:k.name,selectedCharacterId:c.id},k.name+e)),w.jsx(Tk,{characters:r,selectedCharacterId:c.id},"uj"+e)]})})})]})}var Hj={exports:{}};/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),n.push.apply(n,r)}return n}function oa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){d7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Qp(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Qp=function(t){return typeof t}:Qp=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Qp(e)}function d7(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ui(){return ui=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ui.apply(this,arguments)}function h7(e,t){if(e==null)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],!(t.indexOf(o)>=0)&&(n[o]=e[o]);return n}function p7(e,t){if(e==null)return{};var n=h7(e,t),r,o;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function m7(e){return v7(e)||g7(e)||y7(e)||b7()}function v7(e){if(Array.isArray(e))return Rb(e)}function g7(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y7(e,t){if(e){if(typeof e=="string")return Rb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rb(e,t)}}function Rb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w7="1.15.2";function Da(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Va=Da(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),oh=Da(/Edge/i),Ok=Da(/firefox/i),fd=Da(/safari/i)&&!Da(/chrome/i)&&!Da(/android/i),Wj=Da(/iP(ad|od|hone)/i),Vj=Da(/chrome/i)&&Da(/android/i),Gj={capture:!1,passive:!1};function an(e,t,n){e.addEventListener(t,n,!Va&&Gj)}function en(e,t,n){e.removeEventListener(t,n,!Va&&Gj)}function Wm(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function E7(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Zo(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&Wm(e,t):Wm(e,t))||r&&e===n)return e;if(e===n)break}while(e=E7(e))}return null}var Rk=/\s+/g;function qn(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Rk," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Rk," ")}}function pt(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Rl(e,t){var n="";if(typeof e=="string")n=e;else do{var r=pt(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function qj(e,t,n){if(e){var r=e.getElementsByTagName(t),o=0,i=r.length;if(n)for(;o<i;o++)n(r[o],o);return r}return[]}function ra(){var e=document.scrollingElement;return e||document.documentElement}function zn(e,t,n,r,o){if(!(!e.getBoundingClientRect&&e!==window)){var i,s,u,c,f,d,m;if(e!==window&&e.parentNode&&e!==ra()?(i=e.getBoundingClientRect(),s=i.top,u=i.left,c=i.bottom,f=i.right,d=i.height,m=i.width):(s=0,u=0,c=window.innerHeight,f=window.innerWidth,d=window.innerHeight,m=window.innerWidth),(t||n)&&e!==window&&(o=o||e.parentNode,!Va))do if(o&&o.getBoundingClientRect&&(pt(o,"transform")!=="none"||n&&pt(o,"position")!=="static")){var g=o.getBoundingClientRect();s-=g.top+parseInt(pt(o,"border-top-width")),u-=g.left+parseInt(pt(o,"border-left-width")),c=s+i.height,f=u+i.width;break}while(o=o.parentNode);if(r&&e!==window){var x=Rl(o||e),y=x&&x.a,_=x&&x.d;x&&(s/=_,u/=y,m/=y,d/=_,c=s+d,f=u+m)}return{top:s,left:u,bottom:c,right:f,width:m,height:d}}}function jk(e,t,n){for(var r=bs(e,!0),o=zn(e)[t];r;){var i=zn(r)[n],s=void 0;if(n==="top"||n==="left"?s=o>=i:s=o<=i,!s)return r;if(r===ra())break;r=bs(r,!1)}return!1}function _c(e,t,n,r){for(var o=0,i=0,s=e.children;i<s.length;){if(s[i].style.display!=="none"&&s[i]!==Ct.ghost&&(r||s[i]!==Ct.dragged)&&Zo(s[i],n.draggable,e,!1)){if(o===t)return s[i];o++}i++}return null}function N1(e,t){for(var n=e.lastElementChild;n&&(n===Ct.ghost||pt(n,"display")==="none"||t&&!Wm(n,t));)n=n.previousElementSibling;return n||null}function rr(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Ct.clone&&(!t||Wm(e,t))&&n++;return n}function Ak(e){var t=0,n=0,r=ra();if(e)do{var o=Rl(e),i=o.a,s=o.d;t+=e.scrollLeft*i,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function x7(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function bs(e,t){if(!e||!e.getBoundingClientRect)return ra();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=pt(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ra();if(r||t)return n;r=!0}}while(n=n.parentNode);return ra()}function S7(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function jy(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var dd;function Yj(e,t){return function(){if(!dd){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),dd=setTimeout(function(){dd=void 0},t)}}}function _7(){clearTimeout(dd),dd=void 0}function Xj(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function O1(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Ik(e,t){pt(e,"position","absolute"),pt(e,"top",t.top),pt(e,"left",t.left),pt(e,"width",t.width),pt(e,"height",t.height)}function Ay(e){pt(e,"position",""),pt(e,"top",""),pt(e,"left",""),pt(e,"width",""),pt(e,"height","")}function Jj(e,t,n){var r={};return Array.from(e.children).forEach(function(o){var i,s,u,c;if(!(!Zo(o,t.draggable,e,!1)||o.animated||o===n)){var f=zn(o);r.left=Math.min((i=r.left)!==null&&i!==void 0?i:1/0,f.left),r.top=Math.min((s=r.top)!==null&&s!==void 0?s:1/0,f.top),r.right=Math.max((u=r.right)!==null&&u!==void 0?u:-1/0,f.right),r.bottom=Math.max((c=r.bottom)!==null&&c!==void 0?c:-1/0,f.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var Yr="Sortable"+new Date().getTime();function k7(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(o){if(!(pt(o,"display")==="none"||o===Ct.ghost)){e.push({target:o,rect:zn(o)});var i=oa({},e[e.length-1].rect);if(o.thisAnimationDuration){var s=Rl(o,!0);s&&(i.top-=s.f,i.left-=s.e)}o.fromRect=i}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(x7(e,{target:r}),1)},animateAll:function(r){var o=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var i=!1,s=0;e.forEach(function(u){var c=0,f=u.target,d=f.fromRect,m=zn(f),g=f.prevFromRect,x=f.prevToRect,y=u.rect,_=Rl(f,!0);_&&(m.top-=_.f,m.left-=_.e),f.toRect=m,f.thisAnimationDuration&&jy(g,m)&&!jy(d,m)&&(y.top-m.top)/(y.left-m.left)===(d.top-m.top)/(d.left-m.left)&&(c=C7(y,g,x,o.options)),jy(m,d)||(f.prevFromRect=d,f.prevToRect=m,c||(c=o.options.animation),o.animate(f,y,m,c)),c&&(i=!0,s=Math.max(s,c),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},c),f.thisAnimationDuration=c)}),clearTimeout(t),i?t=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),e=[]},animate:function(r,o,i,s){if(s){pt(r,"transition",""),pt(r,"transform","");var u=Rl(this.el),c=u&&u.a,f=u&&u.d,d=(o.left-i.left)/(c||1),m=(o.top-i.top)/(f||1);r.animatingX=!!d,r.animatingY=!!m,pt(r,"transform","translate3d("+d+"px,"+m+"px,0)"),this.forRepaintDummy=P7(r),pt(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),pt(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){pt(r,"transition",""),pt(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function P7(e){return e.offsetWidth}function C7(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var Cu=[],Iy={initializeByDefault:!0},ih={mount:function(t){for(var n in Iy)Iy.hasOwnProperty(n)&&!(n in t)&&(t[n]=Iy[n]);Cu.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),Cu.push(t)},pluginEvent:function(t,n,r){var o=this;this.eventCanceled=!1,r.cancel=function(){o.eventCanceled=!0};var i=t+"Global";Cu.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][i]&&n[s.pluginName][i](oa({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](oa({sortable:n},r)))})},initializePlugins:function(t,n,r,o){Cu.forEach(function(u){var c=u.pluginName;if(!(!t.options[c]&&!u.initializeByDefault)){var f=new u(t,n,t.options);f.sortable=t,f.options=t.options,t[c]=f,ui(r,f.defaults)}});for(var i in t.options)if(t.options.hasOwnProperty(i)){var s=this.modifyOption(t,i,t.options[i]);typeof s<"u"&&(t.options[i]=s)}},getEventProperties:function(t,n){var r={};return Cu.forEach(function(o){typeof o.eventProperties=="function"&&ui(r,o.eventProperties.call(n[o.pluginName],t))}),r},modifyOption:function(t,n,r){var o;return Cu.forEach(function(i){t[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[n]=="function"&&(o=i.optionListeners[n].call(t[i.pluginName],r))}),o}};function Hf(e){var t=e.sortable,n=e.rootEl,r=e.name,o=e.targetEl,i=e.cloneEl,s=e.toEl,u=e.fromEl,c=e.oldIndex,f=e.newIndex,d=e.oldDraggableIndex,m=e.newDraggableIndex,g=e.originalEvent,x=e.putSortable,y=e.extraEventProperties;if(t=t||n&&n[Yr],!!t){var _,P=t.options,k="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Va&&!oh?_=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(r,!0,!0)),_.to=s||n,_.from=u||n,_.item=o||n,_.clone=i,_.oldIndex=c,_.newIndex=f,_.oldDraggableIndex=d,_.newDraggableIndex=m,_.originalEvent=g,_.pullMode=x?x.lastPutMode:void 0;var C=oa(oa({},y),ih.getEventProperties(r,t));for(var S in C)_[S]=C[S];n&&n.dispatchEvent(_),P[k]&&P[k].call(t,_)}}var T7=["evt"],mo=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=r.evt,i=p7(r,T7);ih.pluginEvent.bind(Ct)(t,n,oa({dragEl:nt,parentEl:Zn,ghostEl:Ft,rootEl:Bn,nextEl:yl,lastDownEl:Zp,cloneEl:Gn,cloneHidden:ps,dragStarted:Wf,putSortable:Ir,activeSortable:Ct.active,originalEvent:o,oldIndex:Gu,oldDraggableIndex:hd,newIndex:Ro,newDraggableIndex:fs,hideGhostForTarget:tA,unhideGhostForTarget:nA,cloneNowHidden:function(){ps=!0},cloneNowShown:function(){ps=!1},dispatchSortableEvent:function(u){no({sortable:n,name:u,originalEvent:o})}},i))};function no(e){Hf(oa({putSortable:Ir,cloneEl:Gn,targetEl:nt,rootEl:Bn,oldIndex:Gu,oldDraggableIndex:hd,newIndex:Ro,newDraggableIndex:fs},e))}var nt,Zn,Ft,Bn,yl,Zp,Gn,ps,Gu,Ro,hd,fs,Pp,Ir,Ru=!1,Vm=!1,Gm=[],dl,Ei,Dy,Ly,Dk,Lk,Wf,Tu,pd,md=!1,Cp=!1,em,Gr,My=[],jb=!1,qm=[],Dv=typeof document<"u",Tp=Wj,Mk=oh||Va?"cssFloat":"float",N7=Dv&&!Vj&&!Wj&&"draggable"in document.createElement("div"),Qj=function(){if(Dv){if(Va)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Zj=function(t,n){var r=pt(t),o=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),i=_c(t,0,n),s=_c(t,1,n),u=i&&pt(i),c=s&&pt(s),f=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+zn(i).width,d=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+zn(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(i&&u.float&&u.float!=="none"){var m=u.float==="left"?"left":"right";return s&&(c.clear==="both"||c.clear===m)?"vertical":"horizontal"}return i&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||f>=o&&r[Mk]==="none"||s&&r[Mk]==="none"&&f+d>o)?"vertical":"horizontal"},O7=function(t,n,r){var o=r?t.left:t.top,i=r?t.right:t.bottom,s=r?t.width:t.height,u=r?n.left:n.top,c=r?n.right:n.bottom,f=r?n.width:n.height;return o===u||i===c||o+s/2===u+f/2},R7=function(t,n){var r;return Gm.some(function(o){var i=o[Yr].options.emptyInsertThreshold;if(!(!i||N1(o))){var s=zn(o),u=t>=s.left-i&&t<=s.right+i,c=n>=s.top-i&&n<=s.bottom+i;if(u&&c)return r=o}}),r},eA=function(t){function n(i,s){return function(u,c,f,d){var m=u.options.group.name&&c.options.group.name&&u.options.group.name===c.options.group.name;if(i==null&&(s||m))return!0;if(i==null||i===!1)return!1;if(s&&i==="clone")return i;if(typeof i=="function")return n(i(u,c,f,d),s)(u,c,f,d);var g=(s?u:c).options.group.name;return i===!0||typeof i=="string"&&i===g||i.join&&i.indexOf(g)>-1}}var r={},o=t.group;(!o||Qp(o)!="object")&&(o={name:o}),r.name=o.name,r.checkPull=n(o.pull,!0),r.checkPut=n(o.put),r.revertClone=o.revertClone,t.group=r},tA=function(){!Qj&&Ft&&pt(Ft,"display","none")},nA=function(){!Qj&&Ft&&pt(Ft,"display","")};Dv&&!Vj&&document.addEventListener("click",function(e){if(Vm)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),Vm=!1,!1},!0);var hl=function(t){if(nt){t=t.touches?t.touches[0]:t;var n=R7(t.clientX,t.clientY);if(n){var r={};for(var o in t)t.hasOwnProperty(o)&&(r[o]=t[o]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Yr]._onDragOver(r)}}},j7=function(t){nt&&nt.parentNode[Yr]._isOutsideThisEl(t.target)};function Ct(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ui({},t),e[Yr]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Zj(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,u){s.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Ct.supportPointer!==!1&&"PointerEvent"in window&&!fd,emptyInsertThreshold:5};ih.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);eA(t);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=t.forceFallback?!1:N7,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?an(e,"pointerdown",this._onTapStart):(an(e,"mousedown",this._onTapStart),an(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(an(e,"dragover",this),an(e,"dragenter",this)),Gm.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ui(this,k7())}Ct.prototype={constructor:Ct,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Tu=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,nt):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,o=this.options,i=o.preventOnFilter,s=t.type,u=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,c=(u||t).target,f=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||c,d=o.filter;if($7(r),!nt&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||o.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&fd&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=Zo(c,o.draggable,r,!1),!(c&&c.animated)&&Zp!==c)){if(Gu=rr(c),hd=rr(c,o.draggable),typeof d=="function"){if(d.call(this,t,c,this)){no({sortable:n,rootEl:f,name:"filter",targetEl:c,toEl:r,fromEl:r}),mo("filter",n,{evt:t}),i&&t.cancelable&&t.preventDefault();return}}else if(d&&(d=d.split(",").some(function(m){if(m=Zo(f,m.trim(),r,!1),m)return no({sortable:n,rootEl:m,name:"filter",targetEl:c,fromEl:r,toEl:r}),mo("filter",n,{evt:t}),!0}),d)){i&&t.cancelable&&t.preventDefault();return}o.handle&&!Zo(f,o.handle,r,!1)||this._prepareDragStart(t,u,c)}}},_prepareDragStart:function(t,n,r){var o=this,i=o.el,s=o.options,u=i.ownerDocument,c;if(r&&!nt&&r.parentNode===i){var f=zn(r);if(Bn=i,nt=r,Zn=nt.parentNode,yl=nt.nextSibling,Zp=r,Pp=s.group,Ct.dragged=nt,dl={target:nt,clientX:(n||t).clientX,clientY:(n||t).clientY},Dk=dl.clientX-f.left,Lk=dl.clientY-f.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,nt.style["will-change"]="all",c=function(){if(mo("delayEnded",o,{evt:t}),Ct.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Ok&&o.nativeDraggable&&(nt.draggable=!0),o._triggerDragStart(t,n),no({sortable:o,name:"choose",originalEvent:t}),qn(nt,s.chosenClass,!0)},s.ignore.split(",").forEach(function(d){qj(nt,d.trim(),zy)}),an(u,"dragover",hl),an(u,"mousemove",hl),an(u,"touchmove",hl),an(u,"mouseup",o._onDrop),an(u,"touchend",o._onDrop),an(u,"touchcancel",o._onDrop),Ok&&this.nativeDraggable&&(this.options.touchStartThreshold=4,nt.draggable=!0),mo("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(oh||Va))){if(Ct.eventCanceled){this._onDrop();return}an(u,"mouseup",o._disableDelayedDrag),an(u,"touchend",o._disableDelayedDrag),an(u,"touchcancel",o._disableDelayedDrag),an(u,"mousemove",o._delayedDragTouchMoveHandler),an(u,"touchmove",o._delayedDragTouchMoveHandler),s.supportPointer&&an(u,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,s.delay)}else c()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){nt&&zy(nt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;en(t,"mouseup",this._disableDelayedDrag),en(t,"touchend",this._disableDelayedDrag),en(t,"touchcancel",this._disableDelayedDrag),en(t,"mousemove",this._delayedDragTouchMoveHandler),en(t,"touchmove",this._delayedDragTouchMoveHandler),en(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?an(document,"pointermove",this._onTouchMove):n?an(document,"touchmove",this._onTouchMove):an(document,"mousemove",this._onTouchMove):(an(nt,"dragend",this),an(Bn,"dragstart",this._onDragStart));try{document.selection?tm(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(Ru=!1,Bn&&nt){mo("dragStarted",this,{evt:n}),this.nativeDraggable&&an(document,"dragover",j7);var r=this.options;!t&&qn(nt,r.dragClass,!1),qn(nt,r.ghostClass,!0),Ct.active=this,t&&this._appendGhost(),no({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ei){this._lastX=Ei.clientX,this._lastY=Ei.clientY,tA();for(var t=document.elementFromPoint(Ei.clientX,Ei.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Ei.clientX,Ei.clientY),t!==n);)n=t;if(nt.parentNode[Yr]._isOutsideThisEl(t),n)do{if(n[Yr]){var r=void 0;if(r=n[Yr]._onDragOver({clientX:Ei.clientX,clientY:Ei.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);nA()}},_onTouchMove:function(t){if(dl){var n=this.options,r=n.fallbackTolerance,o=n.fallbackOffset,i=t.touches?t.touches[0]:t,s=Ft&&Rl(Ft,!0),u=Ft&&s&&s.a,c=Ft&&s&&s.d,f=Tp&&Gr&&Ak(Gr),d=(i.clientX-dl.clientX+o.x)/(u||1)+(f?f[0]-My[0]:0)/(u||1),m=(i.clientY-dl.clientY+o.y)/(c||1)+(f?f[1]-My[1]:0)/(c||1);if(!Ct.active&&!Ru){if(r&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(Ft){s?(s.e+=d-(Dy||0),s.f+=m-(Ly||0)):s={a:1,b:0,c:0,d:1,e:d,f:m};var g="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");pt(Ft,"webkitTransform",g),pt(Ft,"mozTransform",g),pt(Ft,"msTransform",g),pt(Ft,"transform",g),Dy=d,Ly=m,Ei=i}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!Ft){var t=this.options.fallbackOnBody?document.body:Bn,n=zn(nt,!0,Tp,!0,t),r=this.options;if(Tp){for(Gr=t;pt(Gr,"position")==="static"&&pt(Gr,"transform")==="none"&&Gr!==document;)Gr=Gr.parentNode;Gr!==document.body&&Gr!==document.documentElement?(Gr===document&&(Gr=ra()),n.top+=Gr.scrollTop,n.left+=Gr.scrollLeft):Gr=ra(),My=Ak(Gr)}Ft=nt.cloneNode(!0),qn(Ft,r.ghostClass,!1),qn(Ft,r.fallbackClass,!0),qn(Ft,r.dragClass,!0),pt(Ft,"transition",""),pt(Ft,"transform",""),pt(Ft,"box-sizing","border-box"),pt(Ft,"margin",0),pt(Ft,"top",n.top),pt(Ft,"left",n.left),pt(Ft,"width",n.width),pt(Ft,"height",n.height),pt(Ft,"opacity","0.8"),pt(Ft,"position",Tp?"absolute":"fixed"),pt(Ft,"zIndex","100000"),pt(Ft,"pointerEvents","none"),Ct.ghost=Ft,t.appendChild(Ft),pt(Ft,"transform-origin",Dk/parseInt(Ft.style.width)*100+"% "+Lk/parseInt(Ft.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,o=t.dataTransfer,i=r.options;if(mo("dragStart",this,{evt:t}),Ct.eventCanceled){this._onDrop();return}mo("setupClone",this),Ct.eventCanceled||(Gn=O1(nt),Gn.removeAttribute("id"),Gn.draggable=!1,Gn.style["will-change"]="",this._hideClone(),qn(Gn,this.options.chosenClass,!1),Ct.clone=Gn),r.cloneId=tm(function(){mo("clone",r),!Ct.eventCanceled&&(r.options.removeCloneOnHide||Bn.insertBefore(Gn,nt),r._hideClone(),no({sortable:r,name:"clone"}))}),!n&&qn(nt,i.dragClass,!0),n?(Vm=!0,r._loopId=setInterval(r._emulateDragOver,50)):(en(document,"mouseup",r._onDrop),en(document,"touchend",r._onDrop),en(document,"touchcancel",r._onDrop),o&&(o.effectAllowed="move",i.setData&&i.setData.call(r,o,nt)),an(document,"drop",r),pt(nt,"transform","translateZ(0)")),Ru=!0,r._dragStartId=tm(r._dragStarted.bind(r,n,t)),an(document,"selectstart",r),Wf=!0,fd&&pt(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,o,i,s,u=this.options,c=u.group,f=Ct.active,d=Pp===c,m=u.sort,g=Ir||f,x,y=this,_=!1;if(jb)return;function P(ve,Fe){mo(ve,y,oa({evt:t,isOwner:d,axis:x?"vertical":"horizontal",revert:s,dragRect:o,targetRect:i,canSort:m,fromSortable:g,target:r,completed:C,onMove:function(Ke,me){return Np(Bn,n,nt,o,Ke,zn(Ke),t,me)},changed:S},Fe))}function k(){P("dragOverAnimationCapture"),y.captureAnimationState(),y!==g&&g.captureAnimationState()}function C(ve){return P("dragOverCompleted",{insertion:ve}),ve&&(d?f._hideClone():f._showClone(y),y!==g&&(qn(nt,Ir?Ir.options.ghostClass:f.options.ghostClass,!1),qn(nt,u.ghostClass,!0)),Ir!==y&&y!==Ct.active?Ir=y:y===Ct.active&&Ir&&(Ir=null),g===y&&(y._ignoreWhileAnimating=r),y.animateAll(function(){P("dragOverAnimationComplete"),y._ignoreWhileAnimating=null}),y!==g&&(g.animateAll(),g._ignoreWhileAnimating=null)),(r===nt&&!nt.animated||r===n&&!r.animated)&&(Tu=null),!u.dragoverBubble&&!t.rootEl&&r!==document&&(nt.parentNode[Yr]._isOutsideThisEl(t.target),!ve&&hl(t)),!u.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),_=!0}function S(){Ro=rr(nt),fs=rr(nt,u.draggable),no({sortable:y,name:"change",toEl:n,newIndex:Ro,newDraggableIndex:fs,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Zo(r,u.draggable,n,!0),P("dragOver"),Ct.eventCanceled)return _;if(nt.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||y._ignoreWhileAnimating===r)return C(!1);if(Vm=!1,f&&!u.disabled&&(d?m||(s=Zn!==Bn):Ir===this||(this.lastPutMode=Pp.checkPull(this,f,nt,t))&&c.checkPut(this,f,nt,t))){if(x=this._getDirection(t,r)==="vertical",o=zn(nt),P("dragOverValid"),Ct.eventCanceled)return _;if(s)return Zn=Bn,k(),this._hideClone(),P("revert"),Ct.eventCanceled||(yl?Bn.insertBefore(nt,yl):Bn.appendChild(nt)),C(!0);var A=N1(n,u.draggable);if(!A||L7(t,x,this)&&!A.animated){if(A===nt)return C(!1);if(A&&n===t.target&&(r=A),r&&(i=zn(r)),Np(Bn,n,nt,o,r,i,t,!!r)!==!1)return k(),A&&A.nextSibling?n.insertBefore(nt,A.nextSibling):n.appendChild(nt),Zn=n,S(),C(!0)}else if(A&&D7(t,x,this)){var K=_c(n,0,u,!0);if(K===nt)return C(!1);if(r=K,i=zn(r),Np(Bn,n,nt,o,r,i,t,!1)!==!1)return k(),n.insertBefore(nt,K),Zn=n,S(),C(!0)}else if(r.parentNode===n){i=zn(r);var O=0,L,X=nt.parentNode!==n,F=!O7(nt.animated&&nt.toRect||o,r.animated&&r.toRect||i,x),N=x?"top":"left",q=jk(r,"top","top")||jk(nt,"top","top"),U=q?q.scrollTop:void 0;Tu!==r&&(L=i[N],md=!1,Cp=!F&&u.invertSwap||X),O=M7(t,r,i,x,F?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Cp,Tu===r);var te;if(O!==0){var ue=rr(nt);do ue-=O,te=Zn.children[ue];while(te&&(pt(te,"display")==="none"||te===Ft))}if(O===0||te===r)return C(!1);Tu=r,pd=O;var ke=r.nextElementSibling,Be=!1;Be=O===1;var Ve=Np(Bn,n,nt,o,r,i,t,Be);if(Ve!==!1)return(Ve===1||Ve===-1)&&(Be=Ve===1),jb=!0,setTimeout(I7,30),k(),Be&&!ke?n.appendChild(nt):r.parentNode.insertBefore(nt,Be?ke:r),q&&Xj(q,0,U-q.scrollTop),Zn=nt.parentNode,L!==void 0&&!Cp&&(em=Math.abs(L-zn(r)[N])),S(),C(!0)}if(n.contains(nt))return C(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){en(document,"mousemove",this._onTouchMove),en(document,"touchmove",this._onTouchMove),en(document,"pointermove",this._onTouchMove),en(document,"dragover",hl),en(document,"mousemove",hl),en(document,"touchmove",hl)},_offUpEvents:function(){var t=this.el.ownerDocument;en(t,"mouseup",this._onDrop),en(t,"touchend",this._onDrop),en(t,"pointerup",this._onDrop),en(t,"touchcancel",this._onDrop),en(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(Ro=rr(nt),fs=rr(nt,r.draggable),mo("drop",this,{evt:t}),Zn=nt&&nt.parentNode,Ro=rr(nt),fs=rr(nt,r.draggable),Ct.eventCanceled){this._nulling();return}Ru=!1,Cp=!1,md=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ab(this.cloneId),Ab(this._dragStartId),this.nativeDraggable&&(en(document,"drop",this),en(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),fd&&pt(document.body,"user-select",""),pt(nt,"transform",""),t&&(Wf&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),Ft&&Ft.parentNode&&Ft.parentNode.removeChild(Ft),(Bn===Zn||Ir&&Ir.lastPutMode!=="clone")&&Gn&&Gn.parentNode&&Gn.parentNode.removeChild(Gn),nt&&(this.nativeDraggable&&en(nt,"dragend",this),zy(nt),nt.style["will-change"]="",Wf&&!Ru&&qn(nt,Ir?Ir.options.ghostClass:this.options.ghostClass,!1),qn(nt,this.options.chosenClass,!1),no({sortable:this,name:"unchoose",toEl:Zn,newIndex:null,newDraggableIndex:null,originalEvent:t}),Bn!==Zn?(Ro>=0&&(no({rootEl:Zn,name:"add",toEl:Zn,fromEl:Bn,originalEvent:t}),no({sortable:this,name:"remove",toEl:Zn,originalEvent:t}),no({rootEl:Zn,name:"sort",toEl:Zn,fromEl:Bn,originalEvent:t}),no({sortable:this,name:"sort",toEl:Zn,originalEvent:t})),Ir&&Ir.save()):Ro!==Gu&&Ro>=0&&(no({sortable:this,name:"update",toEl:Zn,originalEvent:t}),no({sortable:this,name:"sort",toEl:Zn,originalEvent:t})),Ct.active&&((Ro==null||Ro===-1)&&(Ro=Gu,fs=hd),no({sortable:this,name:"end",toEl:Zn,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){mo("nulling",this),Bn=nt=Zn=Ft=yl=Gn=Zp=ps=dl=Ei=Wf=Ro=fs=Gu=hd=Tu=pd=Ir=Pp=Ct.dragged=Ct.ghost=Ct.clone=Ct.active=null,qm.forEach(function(t){t.checked=!0}),qm.length=Dy=Ly=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":nt&&(this._onDragOver(t),A7(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,o=0,i=r.length,s=this.options;o<i;o++)n=r[o],Zo(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||F7(n));return t},sort:function(t,n){var r={},o=this.el;this.toArray().forEach(function(i,s){var u=o.children[s];Zo(u,this.options.draggable,o,!1)&&(r[i]=u)},this),n&&this.captureAnimationState(),t.forEach(function(i){r[i]&&(o.removeChild(r[i]),o.appendChild(r[i]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Zo(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var o=ih.modifyOption(this,t,n);typeof o<"u"?r[t]=o:r[t]=n,t==="group"&&eA(r)},destroy:function(){mo("destroy",this);var t=this.el;t[Yr]=null,en(t,"mousedown",this._onTapStart),en(t,"touchstart",this._onTapStart),en(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(en(t,"dragover",this),en(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Gm.splice(Gm.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!ps){if(mo("hideClone",this),Ct.eventCanceled)return;pt(Gn,"display","none"),this.options.removeCloneOnHide&&Gn.parentNode&&Gn.parentNode.removeChild(Gn),ps=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(ps){if(mo("showClone",this),Ct.eventCanceled)return;nt.parentNode==Bn&&!this.options.group.revertClone?Bn.insertBefore(Gn,nt):yl?Bn.insertBefore(Gn,yl):Bn.appendChild(Gn),this.options.group.revertClone&&this.animate(nt,Gn),pt(Gn,"display",""),ps=!1}}};function A7(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Np(e,t,n,r,o,i,s,u){var c,f=e[Yr],d=f.options.onMove,m;return window.CustomEvent&&!Va&&!oh?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=o||t,c.relatedRect=i||zn(t),c.willInsertAfter=u,c.originalEvent=s,e.dispatchEvent(c),d&&(m=d.call(f,c,s)),m}function zy(e){e.draggable=!1}function I7(){jb=!1}function D7(e,t,n){var r=zn(_c(n.el,0,n.options,!0)),o=Jj(n.el,n.options,Ft),i=10;return t?e.clientX<o.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<o.top-i||e.clientY<r.bottom&&e.clientX<r.left}function L7(e,t,n){var r=zn(N1(n.el,n.options.draggable)),o=Jj(n.el,n.options,Ft),i=10;return t?e.clientX>o.right+i||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>o.bottom+i||e.clientX>r.right&&e.clientY>r.top}function M7(e,t,n,r,o,i,s,u){var c=r?e.clientY:e.clientX,f=r?n.height:n.width,d=r?n.top:n.left,m=r?n.bottom:n.right,g=!1;if(!s){if(u&&em<f*o){if(!md&&(pd===1?c>d+f*i/2:c<m-f*i/2)&&(md=!0),md)g=!0;else if(pd===1?c<d+em:c>m-em)return-pd}else if(c>d+f*(1-o)/2&&c<m-f*(1-o)/2)return z7(t)}return g=g||s,g&&(c<d+f*i/2||c>m-f*i/2)?c>d+f/2?1:-1:0}function z7(e){return rr(nt)<rr(e)?1:-1}function F7(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function $7(e){qm.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&qm.push(r)}}function tm(e){return setTimeout(e,0)}function Ab(e){return clearTimeout(e)}Dv&&an(document,"touchmove",function(e){(Ct.active||Ru)&&e.cancelable&&e.preventDefault()});Ct.utils={on:an,off:en,css:pt,find:qj,is:function(t,n){return!!Zo(t,n,t,!1)},extend:S7,throttle:Yj,closest:Zo,toggleClass:qn,clone:O1,index:rr,nextTick:tm,cancelNextTick:Ab,detectDirection:Zj,getChild:_c};Ct.get=function(e){return e[Yr]};Ct.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Ct.utils=oa(oa({},Ct.utils),r.utils)),ih.mount(r)})};Ct.create=function(e,t){return new Ct(e,t)};Ct.version=w7;var pr=[],Vf,Ib,Db=!1,Fy,$y,Ym,Gf;function B7(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?an(document,"dragover",this._handleAutoScroll):this.options.supportPointer?an(document,"pointermove",this._handleFallbackAutoScroll):r.touches?an(document,"touchmove",this._handleFallbackAutoScroll):an(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?en(document,"dragover",this._handleAutoScroll):(en(document,"pointermove",this._handleFallbackAutoScroll),en(document,"touchmove",this._handleFallbackAutoScroll),en(document,"mousemove",this._handleFallbackAutoScroll)),zk(),nm(),_7()},nulling:function(){Ym=Ib=Vf=Db=Gf=Fy=$y=null,pr.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var o=this,i=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,u=document.elementFromPoint(i,s);if(Ym=n,r||this.options.forceAutoScrollFallback||oh||Va||fd){By(n,this.options,u,r);var c=bs(u,!0);Db&&(!Gf||i!==Fy||s!==$y)&&(Gf&&zk(),Gf=setInterval(function(){var f=bs(document.elementFromPoint(i,s),!0);f!==c&&(c=f,nm()),By(n,o.options,f,r)},10),Fy=i,$y=s)}else{if(!this.options.bubbleScroll||bs(u,!0)===ra()){nm();return}By(n,this.options,bs(u,!1),!1)}}},ui(e,{pluginName:"scroll",initializeByDefault:!0})}function nm(){pr.forEach(function(e){clearInterval(e.pid)}),pr=[]}function zk(){clearInterval(Gf)}var By=Yj(function(e,t,n,r){if(t.scroll){var o=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,u=t.scrollSpeed,c=ra(),f=!1,d;Ib!==n&&(Ib=n,nm(),Vf=t.scroll,d=t.scrollFn,Vf===!0&&(Vf=bs(n,!0)));var m=0,g=Vf;do{var x=g,y=zn(x),_=y.top,P=y.bottom,k=y.left,C=y.right,S=y.width,A=y.height,K=void 0,O=void 0,L=x.scrollWidth,X=x.scrollHeight,F=pt(x),N=x.scrollLeft,q=x.scrollTop;x===c?(K=S<L&&(F.overflowX==="auto"||F.overflowX==="scroll"||F.overflowX==="visible"),O=A<X&&(F.overflowY==="auto"||F.overflowY==="scroll"||F.overflowY==="visible")):(K=S<L&&(F.overflowX==="auto"||F.overflowX==="scroll"),O=A<X&&(F.overflowY==="auto"||F.overflowY==="scroll"));var U=K&&(Math.abs(C-o)<=s&&N+S<L)-(Math.abs(k-o)<=s&&!!N),te=O&&(Math.abs(P-i)<=s&&q+A<X)-(Math.abs(_-i)<=s&&!!q);if(!pr[m])for(var ue=0;ue<=m;ue++)pr[ue]||(pr[ue]={});(pr[m].vx!=U||pr[m].vy!=te||pr[m].el!==x)&&(pr[m].el=x,pr[m].vx=U,pr[m].vy=te,clearInterval(pr[m].pid),(U!=0||te!=0)&&(f=!0,pr[m].pid=setInterval((function(){r&&this.layer===0&&Ct.active._onTouchMove(Ym);var ke=pr[this.layer].vy?pr[this.layer].vy*u:0,Be=pr[this.layer].vx?pr[this.layer].vx*u:0;typeof d=="function"&&d.call(Ct.dragged.parentNode[Yr],Be,ke,e,Ym,pr[this.layer].el)!=="continue"||Xj(pr[this.layer].el,Be,ke)}).bind({layer:m}),24))),m++}while(t.bubbleScroll&&g!==c&&(g=bs(g,!1)));Db=f}},30),rA=function(t){var n=t.originalEvent,r=t.putSortable,o=t.dragEl,i=t.activeSortable,s=t.dispatchSortableEvent,u=t.hideGhostForTarget,c=t.unhideGhostForTarget;if(n){var f=r||i;u();var d=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,m=document.elementFromPoint(d.clientX,d.clientY);c(),f&&!f.el.contains(m)&&(s("spill"),this.onSpill({dragEl:o,putSortable:r}))}};function R1(){}R1.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var o=_c(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:rA};ui(R1,{pluginName:"revertOnSpill"});function j1(){}j1.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,o=r||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:rA};ui(j1,{pluginName:"removeOnSpill"});var Xo;function U7(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var r=n.dragEl;Xo=r},dragOverValid:function(n){var r=n.completed,o=n.target,i=n.onMove,s=n.activeSortable,u=n.changed,c=n.cancel;if(s.options.swap){var f=this.sortable.el,d=this.options;if(o&&o!==f){var m=Xo;i(o)!==!1?(qn(o,d.swapClass,!0),Xo=o):Xo=null,m&&m!==Xo&&qn(m,d.swapClass,!1)}u(),r(!0),c()}},drop:function(n){var r=n.activeSortable,o=n.putSortable,i=n.dragEl,s=o||this.sortable,u=this.options;Xo&&qn(Xo,u.swapClass,!1),Xo&&(u.swap||o&&o.options.swap)&&i!==Xo&&(s.captureAnimationState(),s!==r&&r.captureAnimationState(),K7(i,Xo),s.animateAll(),s!==r&&r.animateAll())},nulling:function(){Xo=null}},ui(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Xo}}})}function K7(e,t){var n=e.parentNode,r=t.parentNode,o,i;!n||!r||n.isEqualNode(t)||r.isEqualNode(e)||(o=rr(e),i=rr(t),n.isEqualNode(r)&&o<i&&i++,n.insertBefore(t,n.children[o]),r.insertBefore(e,r.children[i]))}var zt=[],Oo=[],If,xi,Df=!1,vo=!1,Nu=!1,jn,Lf,Op;function H7(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.avoidImplicitDeselect||(t.options.supportPointer?an(document,"pointerup",this._deselectMultiDrag):(an(document,"mouseup",this._deselectMultiDrag),an(document,"touchend",this._deselectMultiDrag))),an(document,"keydown",this._checkKeyDown),an(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,avoidImplicitDeselect:!1,setData:function(o,i){var s="";zt.length&&xi===t?zt.forEach(function(u,c){s+=(c?", ":"")+u.textContent}):s=i.textContent,o.setData("Text",s)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;jn=r},delayEnded:function(){this.isMultiDrag=~zt.indexOf(jn)},setupClone:function(n){var r=n.sortable,o=n.cancel;if(this.isMultiDrag){for(var i=0;i<zt.length;i++)Oo.push(O1(zt[i])),Oo[i].sortableIndex=zt[i].sortableIndex,Oo[i].draggable=!1,Oo[i].style["will-change"]="",qn(Oo[i],this.options.selectedClass,!1),zt[i]===jn&&qn(Oo[i],this.options.chosenClass,!1);r._hideClone(),o()}},clone:function(n){var r=n.sortable,o=n.rootEl,i=n.dispatchSortableEvent,s=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||zt.length&&xi===r&&(Fk(!0,o),i("clone"),s()))},showClone:function(n){var r=n.cloneNowShown,o=n.rootEl,i=n.cancel;this.isMultiDrag&&(Fk(!1,o),Oo.forEach(function(s){pt(s,"display","")}),r(),Op=!1,i())},hideClone:function(n){var r=this;n.sortable;var o=n.cloneNowHidden,i=n.cancel;this.isMultiDrag&&(Oo.forEach(function(s){pt(s,"display","none"),r.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),o(),Op=!0,i())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&xi&&xi.multiDrag._deselectMultiDrag(),zt.forEach(function(r){r.sortableIndex=rr(r)}),zt=zt.sort(function(r,o){return r.sortableIndex-o.sortableIndex}),Nu=!0},dragStarted:function(n){var r=this,o=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(o.captureAnimationState(),this.options.animation)){zt.forEach(function(s){s!==jn&&pt(s,"position","absolute")});var i=zn(jn,!1,!0,!0);zt.forEach(function(s){s!==jn&&Ik(s,i)}),vo=!0,Df=!0}o.animateAll(function(){vo=!1,Df=!1,r.options.animation&&zt.forEach(function(s){Ay(s)}),r.options.sort&&Rp()})}},dragOver:function(n){var r=n.target,o=n.completed,i=n.cancel;vo&&~zt.indexOf(r)&&(o(!1),i())},revert:function(n){var r=n.fromSortable,o=n.rootEl,i=n.sortable,s=n.dragRect;zt.length>1&&(zt.forEach(function(u){i.addAnimationState({target:u,rect:vo?zn(u):s}),Ay(u),u.fromRect=s,r.removeAnimationState(u)}),vo=!1,W7(!this.options.removeCloneOnHide,o))},dragOverCompleted:function(n){var r=n.sortable,o=n.isOwner,i=n.insertion,s=n.activeSortable,u=n.parentEl,c=n.putSortable,f=this.options;if(i){if(o&&s._hideClone(),Df=!1,f.animation&&zt.length>1&&(vo||!o&&!s.options.sort&&!c)){var d=zn(jn,!1,!0,!0);zt.forEach(function(g){g!==jn&&(Ik(g,d),u.appendChild(g))}),vo=!0}if(!o)if(vo||Rp(),zt.length>1){var m=Op;s._showClone(r),s.options.animation&&!Op&&m&&Oo.forEach(function(g){s.addAnimationState({target:g,rect:Lf}),g.fromRect=Lf,g.thisAnimationDuration=null})}else s._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,o=n.isOwner,i=n.activeSortable;if(zt.forEach(function(u){u.thisAnimationDuration=null}),i.options.animation&&!o&&i.multiDrag.isMultiDrag){Lf=ui({},r);var s=Rl(jn,!0);Lf.top-=s.f,Lf.left-=s.e}},dragOverAnimationComplete:function(){vo&&(vo=!1,Rp())},drop:function(n){var r=n.originalEvent,o=n.rootEl,i=n.parentEl,s=n.sortable,u=n.dispatchSortableEvent,c=n.oldIndex,f=n.putSortable,d=f||this.sortable;if(r){var m=this.options,g=i.children;if(!Nu)if(m.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),qn(jn,m.selectedClass,!~zt.indexOf(jn)),~zt.indexOf(jn))zt.splice(zt.indexOf(jn),1),If=null,Hf({sortable:s,rootEl:o,name:"deselect",targetEl:jn,originalEvent:r});else{if(zt.push(jn),Hf({sortable:s,rootEl:o,name:"select",targetEl:jn,originalEvent:r}),r.shiftKey&&If&&s.el.contains(If)){var x=rr(If),y=rr(jn);if(~x&&~y&&x!==y){var _,P;for(y>x?(P=x,_=y):(P=y,_=x+1);P<_;P++)~zt.indexOf(g[P])||(qn(g[P],m.selectedClass,!0),zt.push(g[P]),Hf({sortable:s,rootEl:o,name:"select",targetEl:g[P],originalEvent:r}))}}else If=jn;xi=d}if(Nu&&this.isMultiDrag){if(vo=!1,(i[Yr].options.sort||i!==o)&&zt.length>1){var k=zn(jn),C=rr(jn,":not(."+this.options.selectedClass+")");if(!Df&&m.animation&&(jn.thisAnimationDuration=null),d.captureAnimationState(),!Df&&(m.animation&&(jn.fromRect=k,zt.forEach(function(A){if(A.thisAnimationDuration=null,A!==jn){var K=vo?zn(A):k;A.fromRect=K,d.addAnimationState({target:A,rect:K})}})),Rp(),zt.forEach(function(A){g[C]?i.insertBefore(A,g[C]):i.appendChild(A),C++}),c===rr(jn))){var S=!1;zt.forEach(function(A){if(A.sortableIndex!==rr(A)){S=!0;return}}),S&&(u("update"),u("sort"))}zt.forEach(function(A){Ay(A)}),d.animateAll()}xi=d}(o===i||f&&f.lastPutMode!=="clone")&&Oo.forEach(function(A){A.parentNode&&A.parentNode.removeChild(A)})}},nullingGlobal:function(){this.isMultiDrag=Nu=!1,Oo.length=0},destroyGlobal:function(){this._deselectMultiDrag(),en(document,"pointerup",this._deselectMultiDrag),en(document,"mouseup",this._deselectMultiDrag),en(document,"touchend",this._deselectMultiDrag),en(document,"keydown",this._checkKeyDown),en(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof Nu<"u"&&Nu)&&xi===this.sortable&&!(n&&Zo(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;zt.length;){var r=zt[0];qn(r,this.options.selectedClass,!1),zt.shift(),Hf({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvent:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ui(e,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Yr];!r||!r.options.multiDrag||~zt.indexOf(n)||(xi&&xi!==r&&(xi.multiDrag._deselectMultiDrag(),xi=r),qn(n,r.options.selectedClass,!0),zt.push(n))},deselect:function(n){var r=n.parentNode[Yr],o=zt.indexOf(n);!r||!r.options.multiDrag||!~o||(qn(n,r.options.selectedClass,!1),zt.splice(o,1))}},eventProperties:function(){var n=this,r=[],o=[];return zt.forEach(function(i){r.push({multiDragElement:i,index:i.sortableIndex});var s;vo&&i!==jn?s=-1:vo?s=rr(i,":not(."+n.options.selectedClass+")"):s=rr(i),o.push({multiDragElement:i,index:s})}),{items:m7(zt),clones:[].concat(Oo),oldIndicies:r,newIndicies:o}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function W7(e,t){zt.forEach(function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)})}function Fk(e,t){Oo.forEach(function(n,r){var o=t.children[n.sortableIndex+(e?Number(r):0)];o?t.insertBefore(n,o):t.appendChild(n)})}function Rp(){zt.forEach(function(e){e!==jn&&e.parentNode&&e.parentNode.removeChild(e)})}Ct.mount(new B7);Ct.mount(j1,R1);const V7=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:H7,Sortable:Ct,Swap:U7,default:Ct},Symbol.toStringTag,{value:"Module"})),G7=Wk(V7);var oA={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var r=[],o=0;o<arguments.length;o++){var i=arguments[o];if(i){var s=typeof i;if(s==="string"||s==="number")r.push(i);else if(Array.isArray(i)){if(i.length){var u=n.apply(null,i);u&&r.push(u)}}else if(s==="object")if(i.toString===Object.prototype.toString)for(var c in i)t.call(i,c)&&i[c]&&r.push(c);else r.push(i.toString())}}return r.join(" ")}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(oA);var q7=oA.exports,Y7="Invariant failed";function X7(e,t){if(!e)throw new Error(Y7)}const J7=Object.freeze(Object.defineProperty({__proto__:null,default:X7},Symbol.toStringTag,{value:"Module"})),Q7=Wk(J7);(function(e){var t=G7,n=q7,r=R,o=Q7;function i(O){return O&&O.__esModule?O.default:O}function s(O,L,X,F){Object.defineProperty(O,L,{get:X,set:F,enumerable:!0,configurable:!0})}function u(O,L){return Object.keys(L).forEach(function(X){X==="default"||X==="__esModule"||O.hasOwnProperty(X)||Object.defineProperty(O,X,{enumerable:!0,get:function(){return L[X]}})}),O}s(e.exports,"Sortable",()=>$882b6d93070905b3$re_export$Sortable),s(e.exports,"Direction",()=>$882b6d93070905b3$re_export$Direction),s(e.exports,"DOMRect",()=>$882b6d93070905b3$re_export$DOMRect),s(e.exports,"GroupOptions",()=>$882b6d93070905b3$re_export$GroupOptions),s(e.exports,"MoveEvent",()=>$882b6d93070905b3$re_export$MoveEvent),s(e.exports,"Options",()=>$882b6d93070905b3$re_export$Options),s(e.exports,"PullResult",()=>$882b6d93070905b3$re_export$PullResult),s(e.exports,"PutResult",()=>$882b6d93070905b3$re_export$PutResult),s(e.exports,"SortableEvent",()=>$882b6d93070905b3$re_export$SortableEvent),s(e.exports,"SortableOptions",()=>$882b6d93070905b3$re_export$SortableOptions),s(e.exports,"Utils",()=>$882b6d93070905b3$re_export$Utils),s(e.exports,"ReactSortable",()=>A);function c(O){O.parentElement!==null&&O.parentElement.removeChild(O)}function f(O,L,X){const F=O.children[X]||null;O.insertBefore(L,F)}function d(O){O.forEach(L=>c(L.element))}function m(O){O.forEach(L=>{f(L.parentElement,L.element,L.oldIndex)})}function g(O,L){const X=P(O),F={parentElement:O.from};let N=[];switch(X){case"normal":N=[{element:O.item,newIndex:O.newIndex,oldIndex:O.oldIndex,parentElement:O.from}];break;case"swap":const te={element:O.item,oldIndex:O.oldIndex,newIndex:O.newIndex,...F},ue={element:O.swapItem,oldIndex:O.newIndex,newIndex:O.oldIndex,...F};N=[te,ue];break;case"multidrag":N=O.oldIndicies.map((ke,Be)=>({element:ke.multiDragElement,oldIndex:ke.index,newIndex:O.newIndicies[Be].index,...F}));break}return k(N,L)}function x(O,L){const X=y(O,L);return _(O,X)}function y(O,L){const X=[...L];return O.concat().reverse().forEach(F=>X.splice(F.oldIndex,1)),X}function _(O,L,X,F){const N=[...L];return O.forEach(q=>{const U=F&&X&&F(q.item,X);N.splice(q.newIndex,0,U||q.item)}),N}function P(O){return O.oldIndicies&&O.oldIndicies.length>0?"multidrag":O.swapItem?"swap":"normal"}function k(O,L){return O.map(F=>({...F,item:L[F.oldIndex]})).sort((F,N)=>F.oldIndex-N.oldIndex)}function C(O){const{list:L,setList:X,children:F,tag:N,style:q,className:U,clone:te,onAdd:ue,onChange:ke,onChoose:Be,onClone:Ve,onEnd:ve,onFilter:Fe,onRemove:Ce,onSort:Ke,onStart:me,onUnchoose:Ge,onUpdate:Se,onMove:Re,onSpill:Ze,onSelect:pe,onDeselect:ye,...de}=O;return de}const S={dragging:null};class A extends r.Component{constructor(L){super(L),this.ref=(0,r.createRef)();const X=[...L.list].map(F=>Object.assign(F,{chosen:!1,selected:!1}));L.setList(X,this.sortable,S),i(o)(!L.plugins,`
Plugins prop is no longer supported.
Instead, mount it with "Sortable.mount(new MultiDrag())"
Please read the updated README.md at https://github.com/SortableJS/react-sortablejs.
      `)}componentDidMount(){if(this.ref.current===null)return;const L=this.makeOptions();i(t).create(this.ref.current,L)}componentDidUpdate(L){L.disabled!==this.props.disabled&&this.sortable&&this.sortable.option("disabled",this.props.disabled)}render(){const{tag:L,style:X,className:F,id:N}=this.props,q={style:X,className:F,id:N},U=!L||L===null?"div":L;return(0,r.createElement)(U,{ref:this.ref,...q},this.getChildren())}getChildren(){const{children:L,dataIdAttr:X,selectedClass:F="sortable-selected",chosenClass:N="sortable-chosen",dragClass:q="sortable-drag",fallbackClass:U="sortable-falback",ghostClass:te="sortable-ghost",swapClass:ue="sortable-swap-highlight",filter:ke="sortable-filter",list:Be}=this.props;if(!L||L==null)return null;const Ve=X||"data-id";return r.Children.map(L,(ve,Fe)=>{if(ve===void 0)return;const Ce=Be[Fe]||{},{className:Ke}=ve.props,me=typeof ke=="string"&&{[ke.replace(".","")]:!!Ce.filtered},Ge=i(n)(Ke,{[F]:Ce.selected,[N]:Ce.chosen,...me});return(0,r.cloneElement)(ve,{[Ve]:ve.key,className:Ge})})}get sortable(){const L=this.ref.current;if(L===null)return null;const X=Object.keys(L).find(F=>F.includes("Sortable"));return X?L[X]:null}makeOptions(){const L=["onAdd","onChoose","onDeselect","onEnd","onRemove","onSelect","onSpill","onStart","onUnchoose","onUpdate"],X=["onChange","onClone","onFilter","onSort"],F=C(this.props);return L.forEach(q=>F[q]=this.prepareOnHandlerPropAndDOM(q)),X.forEach(q=>F[q]=this.prepareOnHandlerProp(q)),{...F,onMove:(q,U)=>{const{onMove:te}=this.props,ue=q.willInsertAfter||-1;if(!te)return ue;const ke=te(q,U,this.sortable,S);return typeof ke>"u"?!1:ke}}}prepareOnHandlerPropAndDOM(L){return X=>{this.callOnHandlerProp(X,L),this[L](X)}}prepareOnHandlerProp(L){return X=>{this.callOnHandlerProp(X,L)}}callOnHandlerProp(L,X){const F=this.props[X];F&&F(L,this.sortable,S)}onAdd(L){const{list:X,setList:F,clone:N}=this.props,q=[...S.dragging.props.list],U=g(L,q);d(U);const te=_(U,X,L,N).map(ue=>Object.assign(ue,{selected:!1}));F(te,this.sortable,S)}onRemove(L){const{list:X,setList:F}=this.props,N=P(L),q=g(L,X);m(q);let U=[...X];if(L.pullMode!=="clone")U=y(q,U);else{let te=q;switch(N){case"multidrag":te=q.map((ue,ke)=>({...ue,element:L.clones[ke]}));break;case"normal":te=q.map(ue=>({...ue,element:L.clone}));break;case"swap":default:i(o)(!0,`mode "${N}" cannot clone. Please remove "props.clone" from <ReactSortable/> when using the "${N}" plugin`)}d(te),q.forEach(ue=>{const ke=ue.oldIndex,Be=this.props.clone(ue.item,L);U.splice(ke,1,Be)})}U=U.map(te=>Object.assign(te,{selected:!1})),F(U,this.sortable,S)}onUpdate(L){const{list:X,setList:F}=this.props,N=g(L,X);d(N),m(N);const q=x(N,X);return F(q,this.sortable,S)}onStart(){S.dragging=this}onEnd(){S.dragging=null}onChoose(L){const{list:X,setList:F}=this.props,N=X.map((q,U)=>{let te=q;return U===L.oldIndex&&(te=Object.assign(q,{chosen:!0})),te});F(N,this.sortable,S)}onUnchoose(L){const{list:X,setList:F}=this.props,N=X.map((q,U)=>{let te=q;return U===L.oldIndex&&(te=Object.assign(te,{chosen:!1})),te});F(N,this.sortable,S)}onSpill(L){const{removeOnSpill:X,revertOnSpill:F}=this.props;X&&!F&&c(L.item)}onSelect(L){const{list:X,setList:F}=this.props,N=X.map(q=>Object.assign(q,{selected:!1}));L.newIndicies.forEach(q=>{const U=q.index;if(U===-1){console.log(`"${L.type}" had indice of "${q.index}", which is probably -1 and doesn't usually happen here.`),console.log(L);return}N[U].selected=!0}),F(N,this.sortable,S)}onDeselect(L){const{list:X,setList:F}=this.props,N=X.map(q=>Object.assign(q,{selected:!1}));L.newIndicies.forEach(q=>{const U=q.index;U!==-1&&(N[U].selected=!0)}),F(N,this.sortable,S)}}is(A,"defaultProps",{clone:L=>L});var K={};u(e.exports,K)})(Hj);var Z7=Hj.exports;const eW={animation:150,fallbackOnBody:!0,swapThreshold:.65,ghostClass:"ghost",group:"shared"};function tW({characters:e,selectedCharacterId:t,setSelectedCharacterId:n,whoseTurn:r}){const{openModal:o,SimpleDialog:i}=Av();function s(c){Iv(c.map((f,d)=>({...f,order:d})))}function u(c,f){f>=0&&!isNaN(parseInt(f))?Nb(c,parseInt(f),e):f!==void 0&&f!==!1&&Nb(c,void 0,e)}return w.jsxs(w.Fragment,{children:[w.jsx(Pr,{children:w.jsx(Z7.ReactSortable,{list:e||[],setList:s,...eW,children:e==null?void 0:e.map((c,f)=>{var d,m,g,x,y;return w.jsx(Pr.Item,{className:t===c.id?"selected p-0":"p-0",children:w.jsxs(Rn,{onMouseDown:()=>n(c.id),className:"p-2",children:[r===f&&w.jsx("div",{className:"initiative-arrow",children:w.jsx("i",{className:"bi bi-caret-right-fill"})}),w.jsx(Nt,{xs:"1",className:"pe-0",style:{width:"10%"},children:c.type==="npc"?w.jsxs(wt,{size:"sm",className:"py-0 px-1 text-nowrap",variant:((d=c.initiative)==null?void 0:d.rolls[0])===6?"success":((m=c.initiative)==null?void 0:m.rolls[0])===1?"danger":"secondary",onClick:()=>Hm(c.id,e),children:[((g=c.initiative)==null?void 0:g.reduced)??"-"," (",c.roll,")"]}):w.jsx(wt,{size:"sm",className:"py-0 px-1 text-nowrap",variant:"primary",onClick:()=>{var _;o({onClose:P=>u(c.id,P),title:"Kezdeményezés",body:w.jsx(w.Fragment,{}),okButton:"OK",cancelButton:"Bezár",input:!0,defaultInputText:(_=c.initiative)==null?void 0:_.reduced})},children:((x=c.initiative)==null?void 0:x.reduced)??w.jsx("i",{className:"bi bi-pencil px-1"})})}),w.jsxs(Nt,{children:[w.jsx("span",{className:"character-name me-3",children:c.name}),(y=c.tags)==null?void 0:y.map(_=>w.jsxs(UT,{className:"me-1",children:[_.label," ",_.length]},_.label))]})]})},c.id)})})}),w.jsx(i,{})]})}function Lb(){return Lb=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lb.apply(this,arguments)}var iA=["shift","alt","meta","mod","ctrl"],nW={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function ws(e){return(nW[e]||e).trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function rW(e){return iA.includes(e)}function Uy(e,t){return t===void 0&&(t=","),e.split(t)}function Ky(e,t,n){t===void 0&&(t="+");var r=e.toLocaleLowerCase().split(t).map(function(s){return ws(s)}),o={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},i=r.filter(function(s){return!iA.includes(s)});return Lb({},o,{keys:i,description:n})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&aA([ws(e.key),ws(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&sA([ws(e.key),ws(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){Es.clear()})})();var Es=new Set;function A1(e){return Array.isArray(e)}function oW(e,t){t===void 0&&(t=",");var n=A1(e)?e:e.split(t);return n.every(function(r){return Es.has(r.trim().toLowerCase())})}function aA(e){var t=Array.isArray(e)?e:[e];Es.has("meta")&&Es.forEach(function(n){return!rW(n)&&Es.delete(n.toLowerCase())}),t.forEach(function(n){return Es.add(n.toLowerCase())})}function sA(e){var t=Array.isArray(e)?e:[e];e==="meta"?Es.clear():t.forEach(function(n){return Es.delete(n.toLowerCase())})}function iW(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function aW(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function sW(e){return lA(e,["input","textarea","select"])}function lA(e,t){var n=e.target;t===void 0&&(t=!1);var r=n&&n.tagName;return A1(t)?!!(r&&t&&t.some(function(o){return o.toLowerCase()===r.toLowerCase()})):!!(r&&t&&t===!0)}function lW(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var uW=function(t,n,r){r===void 0&&(r=!1);var o=n.alt,i=n.meta,s=n.mod,u=n.shift,c=n.ctrl,f=n.keys,d=t.key,m=t.code,g=t.ctrlKey,x=t.metaKey,y=t.shiftKey,_=t.altKey,P=ws(m),k=d.toLowerCase();if(!(f!=null&&f.includes(P))&&!(f!=null&&f.includes(k))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(P))return!1;if(!r){if(o===!_&&k!=="alt"||u===!y&&k!=="shift")return!1;if(s){if(!x&&!g)return!1}else if(i===!x&&k!=="meta"&&k!=="os"||c===!g&&k!=="ctrl"&&k!=="control")return!1}return f&&f.length===1&&(f.includes(k)||f.includes(P))?!0:f?oW(f):!f},cW=R.createContext(void 0),fW=function(){return R.useContext(cW)};function uA(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&uA(e[r],t[r])},!0):e===t}var dW=R.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),hW=function(){return R.useContext(dW)};function pW(e){var t=R.useRef(void 0);return uA(t.current,e)||(t.current=e),t.current}var $k=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},mW=typeof window<"u"?R.useLayoutEffect:R.useEffect;function Bk(e,t,n,r){var o=R.useRef(null),i=R.useRef(!1),s=n instanceof Array?r instanceof Array?void 0:r:n,u=A1(e)?e.join(s==null?void 0:s.splitKey):e,c=n instanceof Array?n:r instanceof Array?r:void 0,f=R.useCallback(t,c??[]),d=R.useRef(f);c?d.current=f:d.current=t;var m=pW(s),g=hW(),x=g.enabledScopes,y=fW();return mW(function(){if(!((m==null?void 0:m.enabled)===!1||!lW(x,m==null?void 0:m.scopes))){var _=function(A,K){var O;if(K===void 0&&(K=!1),!(sW(A)&&!lA(A,m==null?void 0:m.enableOnFormTags))){if(o.current!==null){var L=o.current.getRootNode();if((L instanceof Document||L instanceof ShadowRoot)&&L.activeElement!==o.current&&!o.current.contains(L.activeElement)){$k(A);return}}(O=A.target)!=null&&O.isContentEditable&&!(m!=null&&m.enableOnContentEditable)||Uy(u,m==null?void 0:m.splitKey).forEach(function(X){var F,N=Ky(X,m==null?void 0:m.combinationKey);if(uW(A,N,m==null?void 0:m.ignoreModifiers)||(F=N.keys)!=null&&F.includes("*")){if(m!=null&&m.ignoreEventWhen!=null&&m.ignoreEventWhen(A)||K&&i.current)return;if(iW(A,N,m==null?void 0:m.preventDefault),!aW(A,N,m==null?void 0:m.enabled)){$k(A);return}d.current(A,N),K||(i.current=!0)}})}},P=function(A){A.key!==void 0&&(aA(ws(A.code)),((m==null?void 0:m.keydown)===void 0&&(m==null?void 0:m.keyup)!==!0||m!=null&&m.keydown)&&_(A))},k=function(A){A.key!==void 0&&(sA(ws(A.code)),i.current=!1,m!=null&&m.keyup&&_(A,!0))},C=o.current||(s==null?void 0:s.document)||document;return C.addEventListener("keyup",k),C.addEventListener("keydown",P),y&&Uy(u,m==null?void 0:m.splitKey).forEach(function(S){return y.addHotkey(Ky(S,m==null?void 0:m.combinationKey,m==null?void 0:m.description))}),function(){C.removeEventListener("keyup",k),C.removeEventListener("keydown",P),y&&Uy(u,m==null?void 0:m.splitKey).forEach(function(S){return y.removeHotkey(Ky(S,m==null?void 0:m.combinationKey,m==null?void 0:m.description))})}}},[u,m,x]),o}function vW({roll:e}){if(!e.rolls)return w.jsx(w.Fragment,{});function t(n,r){let o="die";return r===0?(n===6&&(o+=" wild"),n===1&&(o+=" fail")):e.extraRolls&&r>=e.rolls.length-e.extraRolls&&n===6&&(o+=" wild"),o}return w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"dice",children:[e.rolls.map((n,r)=>w.jsx("span",{className:t(n,r),children:w.jsx("div",{className:"face",children:n})},r)),e.pip>0&&" +"+e.pip]}),w.jsxs("div",{className:"result"+(e.reduced?" red":""),children:[w.jsx("strong",{children:e.sum}),(e==null?void 0:e.reduced)!=e.sum&&w.jsxs("div",{className:"reduced",children:["levonással ",e.reduced]})]})]})}const Xm=class Xm{constructor(t,n){is(this,"id");is(this,"title");is(this,"time");is(this,"text");is(this,"roll");this.id=Xm.counter++,this.title=t,this.time=new Date,typeof n=="object"?this.roll=n:this.text=n}};is(Xm,"counter",0);let Mb=Xm;function gW(){const[e,t]=R.useState([]),n=R.useCallback((i,s)=>{const u=jv(i),c=new Mb(s||i/3+"d",u);t(f=>[...f,c]),setTimeout(()=>t(f=>f.filter(d=>d.id!==c.id)),1e4)},[t]),r=R.useCallback(i=>{const s=i.key==="0"?10:parseInt(i.key);n(s*3)},[n]);return Bk("1,2,3,4,5,6,7,8,9,0",r),Bk("esc",()=>t([])),{notifications:e,setNotifications:t,DiceRoller:o,rollDice:n};function o(){return w.jsx(z5,{position:"bottom-end",className:"p-3",children:e.map(i=>w.jsxs(by,{bg:"success",onClose:()=>t(e.filter(s=>s!==i)),children:[w.jsxs(by.Header,{children:[w.jsx("strong",{className:"me-auto",children:i.title}),w.jsx("small",{className:"text-muted",children:i.time.toLocaleTimeString("hu-HU")})]}),w.jsx(by.Body,{children:i.roll&&w.jsx(vW,{roll:i.roll})})]},i.id))})}}const yW=()=>{const[e,t]=Cb("minisix-npc-generator-whoseTurn",{defaultValue:0}),[n,r]=R.useState(),[o,i]=R.useState(),[s,u]=Cb("minisix-npc-generator-round",{defaultValue:1}),{DiceRoller:c,rollDice:f}=gW(),d=_T(()=>wn.characters.orderBy("order").toArray());function m(y){const _=s+y||1;y>0&&Iv(d.map(P=>(P.tags&&(P.tags=P.tags.map(k=>k.length?{...k,length:k.length-y}:k).filter(k=>k.length===void 0||k.length>0)),P))),u(_),t(0)}function g(){e>=d.length-1?(m(1),t(0),i(d[0].id)):(t(e+1),i(d[e+1].id))}function x(y){t(d.indexOf(y))}return w.jsxs(G0,{fluid:!0,className:"px-3 initiatives",children:[w.jsxs(Rn,{className:"pt-2",children:[w.jsx(Nt,{xs:"1",children:w.jsx(KH,{setEditedCharacter:r,characters:d,newRound:m,setSelectedCharacterId:i})}),w.jsxs(Nt,{children:[w.jsx("h5",{children:(d==null?void 0:d.length)>0&&w.jsxs(w.Fragment,{children:[w.jsx(wt,{size:"sm",className:"me-3 py-0",variant:"info",onClick:g,children:w.jsx("i",{className:"bi bi-arrow-down"})}),s,". kör"]})}),w.jsx(tW,{characters:d,selectedCharacterId:o,setSelectedCharacterId:i,whoseTurn:e})]}),w.jsx(Nt,{xs:"6",children:w.jsx("div",{className:"scrollable-menu",children:o&&w.jsx(f7,{selectedCharacterId:o,setSelectedCharacterId:i,setEditedCharacter:r,characters:d,rollDice:f,setWhoseTurnToCharacter:x})})})]}),w.jsx(zH,{editedCharacter:n,setEditedCharacter:r,setSelectedCharacterId:i}),w.jsx(c,{})]})};let jp;const bW=new Uint8Array(16);function wW(){if(!jp&&(jp=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!jp))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return jp(bW)}const Ar=[];for(let e=0;e<256;++e)Ar.push((e+256).toString(16).slice(1));function EW(e,t=0){return Ar[e[t+0]]+Ar[e[t+1]]+Ar[e[t+2]]+Ar[e[t+3]]+"-"+Ar[e[t+4]]+Ar[e[t+5]]+"-"+Ar[e[t+6]]+Ar[e[t+7]]+"-"+Ar[e[t+8]]+Ar[e[t+9]]+"-"+Ar[e[t+10]]+Ar[e[t+11]]+Ar[e[t+12]]+Ar[e[t+13]]+Ar[e[t+14]]+Ar[e[t+15]]}const xW=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Uk={randomUUID:xW};function Kk(e,t,n){if(Uk.randomUUID&&!t&&!e)return Uk.randomUUID();e=e||{};const r=e.random||(e.rng||wW)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=r[o];return t}return EW(r)}function SW({onclose:e,show:t,setShow:n,charName:r,setCharName:o,charId:i,setCharId:s,charNotes:u,setCharNotes:c,attrs:f,setAttrs:d}){function m(){n(!1),e&&e()}function g(){const y={charName:r,id:i,charNotes:u,attrs:f},_=document.createElement("a");_.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(JSON.stringify(y))),_.setAttribute("download",`${r||"MiniSixNPC"}.m6.json`),_.style.display="none",document.body.appendChild(_),_.click(),document.body.removeChild(_),m()}function x(){const y=document.createElement("input");y.type="file",y.accept=".json",y.onchange=()=>{const _=y.files[0],P=new FileReader;P.onload=()=>{const k=JSON.parse(P.result);o(k.charName),c(k.charNotes),s(k.id),d(k.attrs),m()},P.readAsText(_)},y.click()}return w.jsxs(Uf,{show:t,onHide:m,placement:"end",children:[w.jsx(Uf.Header,{closeButton:!0,children:w.jsx(Uf.Title,{children:"NPC menü"})}),w.jsx(Uf.Body,{children:w.jsxs(Pr,{variant:"flush",className:"d-flex flex-column flush",children:[w.jsxs(Pr.Item,{onClick:g,children:[w.jsx("i",{className:"bi bi-download me-3"}),"NJK letöltése"]}),w.jsxs(Pr.Item,{onClick:()=>x(),children:[w.jsx("i",{className:"bi bi-upload me-3"}),"NJK feltöltése"]}),w.jsxs(Pr.Item,{onClick:()=>AH().then(m),children:[w.jsx("i",{className:"bi bi-journal-arrow-down me-3"}),"Adatbázis letöltése"]}),w.jsxs(Pr.Item,{onClick:()=>IH().then(m),children:[w.jsx("i",{className:"bi bi-journal-arrow-up me-3"}),"Adatbázis feltöltése"]})]})})]})}const _W=({open:e,setOpen:t,characterSpells:n,callback:r})=>{const[o,i]=R.useState(""),[s,u]=R.useState(wl),[c,f]=R.useState(["Rifts"]),[d,m]=R.useState(n||[]);R.useEffect(()=>{m(n)},[e]);function g(){i(""),t(!1)}R.useEffect(()=>{let P={};Object.keys(wl).forEach(k=>{const C=wl[k].filter(S=>o.trim()!==""?T1(o,S.name)&&c.includes(S.book):c.includes(S.book));C.length>0&&(P[k]=C)}),u(P)},[o,c]);function x(P){document.getElementById("scrollableBody").scrollTo({top:document.getElementById(P).offsetTop-110,behavior:"smooth"})}function y(P,k){P.preventDefault(),Object.keys(s).forEach(C=>{s[C].forEach((S,A)=>{if(S.name===k){const K=document.getElementById("table_"+C),O=K.children[1].children[A],L=K.offsetTop+O.offsetTop-250;document.getElementById("scrollableBody").scrollTo({top:L,behavior:"smooth"})}})})}function _(){g(),r(d)}return w.jsx(w.Fragment,{children:w.jsxs(cr,{show:e,onHide:g,size:"xl",children:[w.jsx(cr.Body,{children:w.jsxs(w.Fragment,{children:[w.jsx(wt,{type:"button",className:"btn-close","aria-label":"Close",style:{position:"absolute",right:"1em",backgroundColor:"unset"},onClick:g}),w.jsxs(Rn,{children:[w.jsx(Nt,{className:"align-self-center",children:w.jsx(Kn.Control,{value:o,onChange:P=>i(P.target.value),placeholder:"Keresés",className:"mb-3",size:"sm"})}),w.jsxs(Nt,{children:[w.jsxs(B5,{name:"tags",size:"sm",value:c,onChange:f,type:"checkbox",children:[w.jsx(nb,{id:"Rifts",value:"Rifts",variant:"secondary",children:"Rifts"}),w.jsx(nb,{id:"FoM",value:"FoM",variant:"secondary",children:"FoM"})]}),w.jsx(wt,{variant:"warning",size:"sm",onClick:()=>m([]),className:"ms-2",children:w.jsx("i",{className:"bi bi-trash"})})]})]}),!Object.keys(s).length&&w.jsx("h4",{className:"text-center",children:"Nincs találat"}),w.jsx(Rn,{children:w.jsx(Nt,{className:"d-flex gap-2",children:Object.keys(s).map(P=>w.jsx(wt,{variant:"outline-secondary",size:"sm",className:"py-0 mb-1",onClick:()=>x("level_"+P),children:P},P))})}),w.jsx("div",{id:"scrollableBody",className:"overflow-auto scrollable-menu",style:{height:"70vh"},children:Object.keys(s).map(P=>w.jsxs(R.Fragment,{children:[w.jsxs("h5",{id:"level_"+P,children:[P,". szint"]}),w.jsxs(GO,{striped:!0,hover:!0,id:"table_"+P,children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Varázslat"}),w.jsx("th",{className:"text-center",children:"Mana"}),w.jsx("th",{children:"Hatótáv"}),w.jsx("th",{children:"Időtartam"}),w.jsx("th",{children:"Hatás"}),w.jsx("th",{children:"Könyv"})]})}),w.jsx("tbody",{children:s[P].map(k=>{const C=d.includes(k.name)?"bg-success":"";return w.jsxs("tr",{role:"button",onClick:()=>{d.includes(k.name)?m(d.filter(S=>S!==k.name)):m([...d,k.name])},children:[w.jsx("td",{className:C,children:k.name}),w.jsx("td",{className:C+" text-center",children:k.PPE}),w.jsx("td",{className:C,children:zj(k.range)}),w.jsx("td",{className:C,children:Fj(k.duration)}),w.jsx("td",{className:C,children:k.effect}),w.jsxs("td",{className:C,children:[k.book," ",k.page]})]},k.name)})})]})]},P))})]})}),w.jsxs(cr.Footer,{children:[w.jsx(Nt,{className:"d-flex flex-wrap column-gap-2",children:Object.keys(wl).map(P=>wl[P].map(k=>{if(d.includes(k.name))return w.jsxs("a",{onClick:C=>y(C,k.name),href:"#",className:"text-nowrap",children:[k.name," (",k.PPE,")"]},k.name)}))}),w.jsx(Nt,{xs:"1",className:"d-flex justify-content-end",children:w.jsx(wt,{variant:"secondary",onClick:_,className:"float-start",children:"Mentés"})})]})]})})},kW=({open:e,setOpen:t,characterPsis:n,callback:r})=>{const[o,i]=R.useState(""),[s,u]=R.useState(El),[c,f]=R.useState(n||[]);R.useEffect(()=>{f(n)},[e]);function d(){i(""),t(!1)}R.useEffect(()=>{let y={};Object.keys(El).forEach(_=>{const P=El[_].filter(k=>o.trim()!==""?T1(o,k.name):!0);P.length>0&&(y[_]=P)}),u(y)},[o]);function m(y){document.getElementById("scrollableBody").scrollTo({top:document.getElementById(y).offsetTop-110,behavior:"smooth"})}function g(y,_){y.preventDefault(),Object.keys(s).forEach(P=>{s[P].forEach((k,C)=>{if(k.name===_){const S=document.getElementById("table_"+P),A=S.children[1].children[C],K=S.offsetTop+A.offsetTop-250;document.getElementById("scrollableBody").scrollTo({top:K,behavior:"smooth"})}})})}function x(){d(),r(c)}return w.jsx(w.Fragment,{children:w.jsxs(cr,{show:e,onHide:d,size:"xl",children:[w.jsx(cr.Body,{children:w.jsxs(w.Fragment,{children:[w.jsx(wt,{type:"button",className:"btn-close","aria-label":"Close",style:{position:"absolute",right:"1em",backgroundColor:"unset"},onClick:d}),w.jsxs(Rn,{children:[w.jsx(Nt,{className:"align-self-center",children:w.jsx(Kn.Control,{value:o,onChange:y=>i(y.target.value),placeholder:"Keresés",className:"mb-3",size:"sm"})}),w.jsx(Nt,{children:w.jsx(wt,{variant:"warning",size:"sm",onClick:()=>f([]),className:"ms-2",children:w.jsx("i",{className:"bi bi-trash"})})})]}),!Object.keys(s).length&&w.jsx("h4",{className:"text-center",children:"Nincs találat"}),w.jsx(Rn,{children:w.jsx(Nt,{className:"d-flex gap-2",children:Object.keys(s).map(y=>w.jsx(wt,{variant:"outline-secondary",size:"sm",className:"py-0 mb-1",onClick:()=>m("type_"+y),children:y},y))})}),w.jsx("div",{id:"scrollableBody",className:"overflow-auto scrollable-menu",style:{height:"70vh"},children:Object.keys(s).map(y=>w.jsxs(R.Fragment,{children:[w.jsx("h5",{id:"type_"+y,children:y}),w.jsxs(GO,{striped:!0,hover:!0,id:"table_"+y,children:[w.jsx("thead",{children:w.jsxs("tr",{children:[w.jsx("th",{children:"Név"}),w.jsx("th",{className:"text-center",children:"Pszi pont"})]})}),w.jsx("tbody",{children:s[y].map(_=>{const P=c.includes(_.name)?"bg-success":"";return w.jsxs("tr",{role:"button",onClick:()=>{c.includes(_.name)?f(c.filter(k=>k!==_.name)):f([...c,_.name])},children:[w.jsx("td",{className:P,children:_.name}),w.jsx("td",{className:P+" text-center",children:_.cost})]},_.name)})})]})]},y))})]})}),w.jsxs(cr.Footer,{children:[w.jsx(Nt,{className:"d-flex flex-wrap column-gap-2",children:Object.keys(El).map(y=>El[y].map(_=>{if(c.includes(_.name))return w.jsxs("a",{onClick:P=>g(P,_.name),href:"#",className:"text-nowrap",children:[_.name," (",_.cost,")"]},_.name)}))}),w.jsx(Nt,{xs:"1",className:"d-flex justify-content-end",children:w.jsx(wt,{variant:"secondary",onClick:x,className:"float-start",children:"Mentés"})})]})]})})};function PW(){const[e,t]=Cb("minisix-npc-generator-currentnpc",{defaultValue:{}}),[n,r]=R.useState((e==null?void 0:e.attrs)||Ao.attributes.filter(me=>!me.showAsSkill).map(me=>({name:me.name,value:6}))),[o,i]=R.useState((e==null?void 0:e.charName)||""),[s,u]=R.useState((e==null?void 0:e.charNotes)||""),[c,f]=R.useState((e==null?void 0:e.id)??(e==null?void 0:e.charId)),[d,m]=R.useState(!1),[g,x]=R.useState(!1),[y,_]=R.useState(!1),[P,k]=R.useState(!1),[C,S]=R.useState(!1),[A,K]=R.useState((e==null?void 0:e.spells)||[]),[O,L]=R.useState((e==null?void 0:e.psis)||[]),{openModal:X,SimpleDialog:F}=Av();R.useEffect(()=>{async function me(){const Se=new URL(window.location.href).searchParams.get("id");if(Se){const Re=window.location.href.split("?")[0],Ze=window.location.hash.split("#")[1],pe=Re+"#"+Ze;window.history.pushState(null,"",pe);const ye=await wn.npcs.get(Se);ye&&ve(ye)}}me()},[]);const N=R.useCallback(ka.debounce((me,Ge,Se,Re,Ze,pe)=>t({attrs:me,charName:Ge,charNotes:Se,id:Re,spells:Ze,psis:pe}),1e3),[]);R.useEffect(()=>{N(n,o,s,c,A,O)},[n,o,s,c,A,O]);function q(me,Ge=1,Se=""){var Ze;const Re=(Ze=kn(n,me.name))!=null&&Ze.value?"selected":"";return w.jsxs(Pr.Item,{variant:Re,className:`py-0 text-nowrap ${Re} ${Se}`,onMouseDown:pe=>U(pe,me.name,Ge),children:[me.name.split(":")[0],me.noParent&&" *"]},me.name)}function U(me,Ge,Se=1){if(me.stopPropagation(),me.button===1){r(n.filter(ye=>ye.name!=Ge));return}const Re=me.button===0?me.ctrlKey?3*Se:Se:me.ctrlKey?-3*Se:-Se;let Ze=kn(n,Ge);Ze||n.push(Ze={name:Ge,value:0}),Ze.value=Ze.value+Re;const pe=n.filter(ye=>ye.value!=0);r(pe.map(ye=>ye.name===Ge?Ze:ye))}function te(me){var Ge,Se;for(let Re=0;Re<Ao.attributes.length;Re++){const Ze=Ao.attributes[Re];if(Ze.name===me)return{attribute:Ze};for(let pe=0;pe<(((Ge=Ze.skills)==null?void 0:Ge.length)??0);pe++){const ye=Ze.skills[pe];if(ye.name===me)return{attribute:Ze,skill:ye};for(let de=0;de<(((Se=ye.specs)==null?void 0:Se.length)??0);de++){const Oe=ye.specs[de];if(Oe.name===me)return{attribute:Ze,skill:ye,spec:Oe}}}}}function ue(){i(""),u(""),f(void 0),K([]),L([]),r(Ao.attributes.filter(me=>!me.showAsSkill).map(me=>({name:me.name,value:6})))}function ke(){let me=0,Ge=0;return Object.values(n).forEach(Se=>{const Re=te(Se.name);Re!=null&&Re.spec?Ge+=Se.value/3:Re!=null&&Re.skill?Ge+=Se.value:Re!=null&&Re.attribute&&(me+=Se.value)}),w.jsxs("div",{className:"d-flex gap-3",children:[w.jsxs("h5",{children:["Tulajdonság: ",rc(me)]}),w.jsxs("h5",{children:["Képzettség: ",rc(Math.ceil(Ge))]})]})}function Be(me,Ge){try{let Se;if(Ge==="statBlock"&&(Se=document.getElementById("char-display").innerHTML),Ge==="url"){const Ze=window.location.href.split("#");Se=Ze[0].split("?")[0]+"?id="+c+"#"+Ze[1]}console.log(o,Se),Ve(Se);const Re=me.target;Re.classList.add("btn-success"),setTimeout(()=>Re.classList.remove("btn-success"),1e3)}catch(Se){console.error("Failed to copy: ",Se)}}function Ve(me){function Ge(Se){Se.clipboardData.setData("text/html",me),Se.clipboardData.setData("text/plain",me),Se.preventDefault()}document.addEventListener("copy",Ge),document.execCommand("copy"),document.removeEventListener("copy",Ge)}function ve(me){console.log("setSelectedCharacter",me),r(me.attrs),i(me.name),u(me.notes),f(me.id),K(me.spells||[]),L(me.psis||[])}function Fe(){c?X({title:"Felülírod?",cancelButton:"Mégse",okButton:"Igen",body:"Biztosan rámented?",onClose:me=>me&&Ce(!1)}):Ce(!1)}function Ce(me=!1){console.log("Saving npc",me,c);const Ge={id:me?Kk():c||Kk(),name:o,notes:s,attrs:n,updated:Date.now(),spells:A,psis:O};wn.npcs.put(Ge,Ge.id).then(Se=>f(Se))}function Ke(){const me=Lj();u(s+`
`+me)}return w.jsxs(w.Fragment,{children:[w.jsxs(G0,{fluid:!0,className:"ps-1 npc-generator",children:[w.jsxs(Rn,{children:[w.jsx("div",{className:"pe-0",style:{width:"17rem"},children:w.jsxs("div",{id:"skill-tree",className:"scrollable-menu position-relative",children:[w.jsx("div",{className:"position-absolute top-0 end-0 mt-1",style:{width:"2.3rem"},children:w.jsx(wt,{title:"Specializaciók",className:"position-fixed btn-sm px-2 py-0 z-1",onClick:()=>m(!d),children:d?w.jsx("i",{className:"bi bi-chevron-contract"}):w.jsx("i",{className:"bi bi-chevron-expand"})})}),w.jsx(Pr,{className:"list-group-root skill-tree",children:Ao.attributes.map(me=>w.jsxs(An.Fragment,{children:[q(me),me.skills&&w.jsx(Pr,{children:me.skills.map(Ge=>w.jsxs(An.Fragment,{children:[q(Ge),d&&Ge.specs&&w.jsx(Pr,{children:Ge.specs.map(Se=>q(Se))})]},Ge.name))})]},me.name))})]})}),w.jsx(Nt,{children:w.jsxs(G0,{className:"main-content",fluid:!0,children:[w.jsxs(Rn,{className:"pt-2",children:[w.jsx(Nt,{xs:6,children:w.jsxs(Xr,{className:"mb-2",children:[w.jsx(Xr.Text,{children:"Név"}),w.jsx(Kn.Control,{value:o,onChange:me=>i(me.target.value)}),c&&w.jsx(wt,{title:"Vágólapra",onClick:me=>Be(me,"url"),variant:"secondary",children:w.jsx("i",{className:"bi bi-link"})})]})}),w.jsx(Nt,{className:"align-content-center",children:ke()}),w.jsxs(Nt,{className:"gap-2 d-flex align-items-baseline justify-content-end",xs:2,children:[w.jsx(wt,{onClick:()=>x(!0),title:"Kiválasztás",children:w.jsx("i",{className:"bi bi-search"})}),w.jsxs(mp,{as:Hw,children:[w.jsx(wt,{onClick:()=>Fe(),title:"Mentés",variant:"warning",className:"pe-1",children:w.jsx("i",{className:"bi bi-floppy"})}),w.jsx(mp.Toggle,{split:!0,variant:"warning",className:"ps-1"}),w.jsx(mp.Menu,{children:w.jsx(mp.Item,{onClick:()=>Ce(!0),children:"Másolat mentése"})})]}),w.jsx(wt,{onClick:ue,title:"Új",variant:"danger",children:w.jsx("i",{className:"bi bi-eraser"})}),w.jsx(wt,{onClick:()=>_(!y),title:"Menü",variant:"secondary",children:w.jsx("i",{className:"bi bi-list"})})]})]}),w.jsx(Rn,{children:w.jsxs(Xr,{children:[w.jsx(Xr.Text,{children:"Egyéb"}),w.jsx(Kn.Control,{as:Kj,value:s,onChange:me=>u(me.target.value)})]})}),w.jsx(Rn,{children:w.jsxs(Nt,{className:"d-flex gap-2",children:[w.jsx(wt,{onClick:Ke,size:"sm",variant:"secondary",className:"mt-2",children:"Véletlen leíró"}),w.jsx(wt,{onClick:()=>S(!0),size:"sm",variant:"secondary",className:"mt-2",children:"Pszi"}),w.jsx(wt,{onClick:()=>k(!0),size:"sm",variant:"secondary",className:"mt-2",children:"Varázslatok"})]})}),w.jsx(Pr,{horizontal:!0,className:"d-flex gap-2 mt-2",children:Ao.calculated.map(me=>q({name:me.name},me.name==="Mega páncél"?10:1,"calculated"))}),w.jsxs(Rn,{className:"pt-2",children:[Ao.attributes.filter(me=>!me.showAsSkill).map(me=>n&&w.jsxs(Nt,{children:[Pi(n,me.name),me.skills&&w.jsx(Pr,{className:"py-1",children:me.skills.map(Ge=>w.jsxs(Pr.Item,{className:"border-0 py-0 ms-2 pe-0",children:[Pi(n,Ge.name,me.name),Ge.specs&&w.jsx(Pr,{className:"py-0 ms-2",children:Ge.specs.map(Se=>w.jsx(Pr.Item,{className:"border-0 py-0 ms-2 pe-0",children:Pi(n,Se.name,me.name,Ge.name)},Se.name))})]},Ge.name))})]},me.name)),w.jsx(Nt,{xs:1,children:Ao.attributes.filter(me=>me.showAsSkill).map(me=>w.jsx("div",{children:Pi(n,me.name)},me.name))})]}),w.jsx(Rn,{children:w.jsx(Nt,{children:w.jsx(Bj,{attrs:n,charName:o,charNotes:s,spells:A,psis:O})})}),w.jsx(Rn,{children:w.jsx(Nt,{children:w.jsx(wt,{title:"Vágólapra",onClick:me=>Be(me,"statBlock"),className:"mt-2 btn-sm",variant:"secondary",children:w.jsx("i",{className:"bi bi-clipboard"})})})})]})})]}),w.jsx($j,{selectedCharacterId:c,setSelectedCharacter:ve,open:g,setOpen:x}),w.jsx(_W,{open:P,setOpen:k,characterSpells:A,callback:K}),w.jsx(kW,{open:C,setOpen:S,characterPsis:O,callback:L}),w.jsx(SW,{show:y,setShow:_,charName:o,setCharName:i,charId:c,setCharId:f,charNotes:s,setCharNotes:u,attrs:n,setAttrs:r})]}),w.jsx(F,{})]})}const CW=JB([{path:"/",element:w.jsx(yk,{children:w.jsx(yW,{})})},{path:"/npc",element:w.jsx(yk,{children:w.jsx(PW,{})})}]);iT(document.getElementById("root")).render(w.jsx(a4,{router:CW}));
